<div class="container">

<table style="width: 100%;"><tr>
<td>fake_request</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a fake request to use in testing</h2>

<h3>Description</h3>

<p>This function creates a new request for a specific resource defined by a
URL. It mimics the format of the requests provided through httpuv, meaning
that it can be used in place for the requests send to the <code>before-request</code>,
<code>request</code>, and <code>after-request</code> handlers. This is only provided so that
handlers can be tested without having to start up a server.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fake_request(
  url,
  method = "get",
  appLocation = "",
  content = "",
  headers = list(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>url</code></td>
<td>
<p>A complete url for the resource the request should ask for</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>The request type (get, post, put, etc). Defaults to <code>"get"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>appLocation</code></td>
<td>
<p>A string giving the first part of the url path that should
be stripped from the path</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>content</code></td>
<td>
<p>The content of the request, either a raw vector or a string</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>headers</code></td>
<td>
<p>A list of name-value pairs that defines the request headers</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional name-value pairs that should be added to the request</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A Rook-compliant environment
</p>


<h3>Examples</h3>

<pre><code class="language-R">req &lt;- fake_request(
    'http://www.my-fake-website.com/path/to/a/query/?key=value&amp;key2=value2',
    content = 'Some important content'
)

# Get the main address of the URL
req[['SERVER_NAME']]

# Get the query string
req[['QUERY_STRING']]

# ... etc.

# Cleaning up connections
rm(req)
gc()

</code></pre>


</div>