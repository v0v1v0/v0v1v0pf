<div class="container">

<table style="width: 100%;"><tr>
<td>perror</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimated conditional prediction error CDFs</h2>

<h3>Description</h3>

<p>Returns probabilities from the estimated conditional cumulative distribution
function of the prediction error associated with each test observation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">perror(q, xs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>A vector of quantiles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xs</code></td>
<td>
<p>A vector of the indices of the test observations for which the
conditional error CDFs are desired. Defaults to all test observations
given in the call of <code>quantForestError</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is only defined as output of the <code>quantForestError</code> function.
It is not exported as a standalone function. See the example.
</p>


<h3>Value</h3>

<p>If either <code>q</code> or <code>xs</code> has length one, then a vector is
returned with the desired probabilities. If both have length greater than
one, then a <code>data.frame</code> of probabilities is returned, with rows
corresponding to the inputted <code>xs</code> and columns corresponding to the
inputted <code>q</code>.
</p>


<h3>Author(s)</h3>

<p>Benjamin Lu <code>&lt;b.lu@berkeley.edu&gt;</code>; Johanna Hardin <code>&lt;jo.hardin@pomona.edu&gt;</code>
</p>


<h3>See Also</h3>

<p><code>quantForestError</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># load data
data(airquality)

# remove observations with missing predictor variable values
airquality &lt;- airquality[complete.cases(airquality), ]

# get number of observations and the response column index
n &lt;- nrow(airquality)
response.col &lt;- 1

# split data into training and test sets
train.ind &lt;- sample(1:n, n * 0.9, replace = FALSE)
Xtrain &lt;- airquality[train.ind, -response.col]
Ytrain &lt;- airquality[train.ind, response.col]
Xtest &lt;- airquality[-train.ind, -response.col]
Ytest &lt;- airquality[-train.ind, response.col]

# fit random forest to the training data
rf &lt;- randomForest::randomForest(Xtrain, Ytrain, nodesize = 5,
                                 ntree = 500,
                                 keep.inbag = TRUE)

# estimate conditional error distribution functions
output &lt;- quantForestError(rf, Xtrain, Xtest,
                           what = c("p.error", "q.error"))

# get the probability that the error associated with each test
# prediction is less than -4 and the probability that the error
# associated with each test prediction is less than 7
output$perror(c(-4, 7))

# same as above but only for the first three test observations
output$perror(c(-4, 7), 1:3)
</code></pre>


</div>