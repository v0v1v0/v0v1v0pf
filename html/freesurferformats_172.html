<div class="container">

<table style="width: 100%;"><tr>
<td>write.fs.annot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Write annotation to binary file.</h2>

<h3>Description</h3>

<p>Write an annotation to a FreeSurfer binary format annotation file in the new format (v2). An annotation (or brain parcellation) assigns each vertex to a label (or region). One of the regions is often called 'unknown' or similar and all vertices which are not relevant for the parcellation are assigned this label.
</p>


<h3>Usage</h3>

<pre><code class="language-R">write.fs.annot(
  filepath,
  num_vertices = NULL,
  colortable = NULL,
  labels_as_colorcodes = NULL,
  labels_as_indices_into_colortable = NULL,
  fs.annot = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>filepath</code></td>
<td>
<p>string, path to the output file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_vertices</code></td>
<td>
<p>integer, the number of vertices of the surface. Must be given unless parameter 'fs.annot' is not NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colortable</code></td>
<td>
<p>dataframe that contains one region per row. Required columns are: 'struct_name': character string, the region name. 'r': integer in range 0-255, the RGB color value for the red channel. 'g': same for the green channel. 'b': same for the blue channel. 'a': the alpha (transparency) channel value. Optional columns are: 'code': the color code. Will be computed if not set. Note that you can pass the dataframe returned by <code>read.fs.annot</code> as 'colortable_df'. Only required if 'labels_as_indices_into_colortable' is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels_as_colorcodes</code></td>
<td>
<p>vector of *n* integers. The first way to specify the labels. Each integer is a colorcode, that has been computed from the RGBA color values of the regions in the colortable as <code>r + g*2^8 + b*2^16 + a*2^24</code>. If you do not already have these color codes, it is way easier to set this to NULL and define the labels as indices into the colortable, see parameter 'labels_as_indices_into_colortable'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels_as_indices_into_colortable</code></td>
<td>
<p>vector of *n* integers, the second way to specify the labels. Each integer is an index into the rows of the colortable. Indices start with 1. This parameter and 'labels_as_colorcodes' are mutually exclusive, but required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fs.annot</code></td>
<td>
<p>instance of class 'fs.annot'. If passed, this takes precedence over all other parameters and they should all be NULL (with the exception of 'filepath').</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p>Other atlas functions: 
<code>colortable.from.annot()</code>,
<code>read.fs.annot()</code>,
<code>read.fs.colortable()</code>,
<code>write.fs.annot.gii()</code>,
<code>write.fs.colortable()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
   # Load annotation
   annot_file = system.file("extdata", "lh.aparc.annot.gz",
                               package = "freesurferformats",
                               mustWork = TRUE);
   annot = read.fs.annot(annot_file);

   # New method: write the annotation instance:
   write.fs.annot(tempfile(fileext=".annot"), fs.annot=annot);

   # Old method: write it from its parts:
   write.fs.annot(tempfile(fileext=".annot"), length(annot$vertices),
    annot$colortable_df, labels_as_colorcodes=annot$label_codes);

## End(Not run)

</code></pre>


</div>