<div class="container">

<table style="width: 100%;"><tr>
<td>resid_plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate residual values and create plots</h2>

<h3>Description</h3>

<p>Function for creating plots and tables for residual values from observed and estimated values.
</p>


<h3>Usage</h3>

<pre><code class="language-R">resid_plot(
  df,
  obs,
  ...,
  type = "scatterplot",
  point_size = 3,
  color = NA,
  nrow = NA,
  ncol = NA,
  lim_y = NA,
  xlab = "Observed values",
  clab = NA,
  font = "serif",
  legend_pos = "bottom",
  gray_scale = TRUE,
  res_table = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs</code></td>
<td>
<p>Quoted name of the observed values variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Quoted name(s) for the estimated values variable(s). Multiple variables must be separated by comma.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Character object for the type of plot created, The available plots are: <code>"scatterplot"</code>, <code>"histogram"</code>, <code>"histogram_curve"</code> and <code>"versus"</code>. Default: <code>"scatterplot"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point_size</code></td>
<td>
<p>Numeric value for the point size in scatter plots. Default: <code>3</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>Quoted name of a variable. If supplied, this variable will be used to classify the data by color. Default: <code>NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrow</code></td>
<td>
<p>Numeric value for number of rows in the plot matrix. If not supplied, the plots will be automatically sorted. Default: <code>NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncol</code></td>
<td>
<p>Numeric value for number of columns in the plot matrix. If not supplied, the plots will be automatically sorted. Default: <code>NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lim_y</code></td>
<td>
<p>Numeric value for the y axis upper and lower limit. If <code>NA</code>, the biggest residual value is used. Default: <code>NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>Character value for the x label used in some plots. Default: <code>"Observed values"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clab</code></td>
<td>
<p>Character value for the color label used, if a color variable is supplied. If not supplied, the <code>color</code> variable name will be used. Default: <code>NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>font</code></td>
<td>
<p>Type of font used in the plot. Default: <code>"serif"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend_pos</code></td>
<td>
<p>Position of legend, when a color variable is supplied. This can either be <code>"left"</code>, <code>"right"</code>, <code>"top"</code> or <code>"bottom"</code>. Default: <code>"bottom"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gray_scale</code></td>
<td>
<p>If <code>TRUE</code>, the plot will be rendered in a gray scale. Default: <code>"TRUE"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>res_table</code></td>
<td>
<p>If <code>TRUE</code>, the function will return a data frame with observed, estimated, and residual values. Default: <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A ggplot object, or, if <code>res_table = TRUE</code>, a data frame.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(forestmangr)
data("exfm11")
head(exfm11)

# Specifying the observed and estimated variables, we get a scatter plot
# for the percentage residuals:
resid_plot(exfm11, "TH", "TH_EST1")

# It's possible to get other types of plots, with the type argument:
resid_plot(exfm11, "TH", "TH_EST1", type = "histogram_curve")
resid_plot(exfm11, "TH", "TH_EST1", type = "versus")

# It's possible to add a factor variable as color in the plots:
resid_plot(exfm11, "TH", "TH_EST1", "TH_EST2", color="STRATA", 
xlab="Total Height (m)", clab="Strata", gray_scale=FALSE)

# If there are more estimated values variables, they can also be used
# in the comparison:
resid_plot(exfm11, "TH", "TH_EST1", "TH_EST2", "TH_EST3")

# It's possible to rearrange the plots with ncol and nrow:
resid_plot(exfm11, "TH", "TH_EST1", "TH_EST2", "TH_EST3", ncol=1)

# It's possible to get the residuals table used to generate these plots, with res_table=TRUE:
head( resid_plot(exfm11, "TH", "TH_EST1", "TH_EST2", res_table = TRUE) )

</code></pre>


</div>