<div class="container">

<table style="width: 100%;"><tr>
<td>p_value.norm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Testing hypotheses based on fuzzy p-value for Normal distribution
</h2>

<h3>Description</h3>

<p>Function <code>p_value.norm</code> can draw the membership function of fuzzy p-value for the following three major problems which can be usually considered for the following tests in a fuzzy environment: 
(1) testing crisp hypotheses based on fuzzy data, 
(2) testing fuzzy hypotheses based on crisp data, and 
(3) testing fuzzy hypotheses based on fuzzy data.  
Also, one can consider a fuzzy significance of level for test by function <code>p_value.norm</code>. 
It must be noted that function <code>p_value.norm</code>  is applied when the test statistics has Normal distribution. This idea can be extended for other test statistics which has other continue distribution. 
All needed formulas are presented in  Springer chapter book 2016 and the considered examples are match with this reference.
</p>


<h3>Usage</h3>

<pre><code class="language-R">p_value.norm(kind, H0, H1, t, s.d, n, sig)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>kind</code></td>
<td>

<p>The kind of testing hypotheses is one of three numbers 0, 1 and 2, which is distinguishable from the form of alternative (fuzzy/non-fuzzy) hypothesis.
Set <code class="reqn">kind = 0</code>, when the kind of alternative hypothesis H1 is non-equality (i.e., <code class="reqn">\neq</code>). 
Set <code class="reqn">kind = 1</code>, when the kind of H1 show "smaller than" for the parameter (i.e., <code class="reqn">&lt;</code>).
Set <code class="reqn">kind = 2</code>, when the kind of H1 show "bigger than" for the parameter (i.e., <code class="reqn">&gt;</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>H0</code></td>
<td>

<p>The null hypothesis of the test which must introduce only via functions <code>T</code>, <code>Tr</code>, <code>S</code> and <code>B</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>H1</code></td>
<td>

<p>The alternative hypothesis of the test which must introduce only via functions <code>T</code>, <code>Tr</code>, <code>S</code> and <code>B</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>

<p>The observed value of the test statistic (the observed value of the mean), which must introduce only via functions <code>T</code> and <code>Tr</code>. Note that if it is precise and crisp the user must indicate it by special triangular or trapezoidal fuzzy numbers, for example such as <code class="reqn">t=T(23,23,23)</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s.d</code></td>
<td>

<p>The standard deviation of the normal data.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>

<p>Sample size
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig</code></td>
<td>

<p>The significance of level for the test which must introduce only via functions <code>T</code> and <code>Tr</code>. Therefore, if it is precise (crisp) it must be indicated by special triangular or trapezoidal fuzzy numbers, for example such as <code class="reqn">sig=Tr(.05, .05, .05, .05)</code>
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In this package, the users must introduce <code class="reqn">H0</code>, <code class="reqn">H1</code>, <code class="reqn">t</code> and significance level only by fuzzy numbers <code>T</code>, <code>Tr</code>, <code>S</code> or <code>B</code>. Therefore, if each of them are precise (crisp), user must introduce it by special fuzzy sets (i.e. by indicator functions). 
For example the crisp null hypothesis "<code class="reqn">H_0: \ \mu &gt; 0</code>" must be introduced by <code class="reqn">H0 = B(0,0)</code> to function <code>p_value.norm</code>.
For another example, if the observed value of test statistics is crisp number <code class="reqn">t = 4.1</code>, it must only be introduced by <code class="reqn">t = T(4.1,4.1,4.1)</code> or <code class="reqn">t = Tr(4.1,4.1,4.1,4.1)</code> to the function <code>p_value.norm</code>.
</p>


<h3>Value</h3>

<p>The function <code>p_value.norm</code> is constructed for hypotheses testing in fuzzy environment where the test statistics has Normal distributions and the parameter which discussed by two hypotheses is the mean of Normal. 
The major target and the duty of function <code>p_value.norm</code> is:  
(1) draw the membership functions of p-value and significance level for a Normal test,  
(2) compute numerical measures of <code class="reqn">\Delta_{SP}</code> and <code class="reqn">\Delta_{PS}</code> (see Parchami and Mashinchi (2016) for formulas), 
(3) decide to accept null hypothesis or accept alternative hypothesis in the test, and finally 
(4) compute the degree of acceptance for the accepted hypothesis for a Normal test.
</p>


<h3>Author(s)</h3>

<p>Abbas Parchami </p>


<h3>References</h3>

<p>Filzmoser, P., and Viertl, R. (2004). Testing hypotheses with fuzzy data: the fuzzy p-value. Metrika 59: 21-29.
</p>
<p>Holena, M. (2004). Fuzzy hypotheses testing in a framework of fuzzy logic. Fuzzy Sets and Systems 145: 229-252.
</p>
<p>Parchami, A., Taheri, S. M., and Mashinchi, M. (2010). Fuzzy p-value in testing fuzzy hypotheses with crisp data. Statistical Papers 51: 209-226.
</p>
<p>Parchami, A., Taheri, S. M., and Mashinchi, M. (2012). Testing fuzzy hypotheses based on vague observations: a p-value approach. Statistical Papers 53: 469-484.
</p>
<p>Wang, X., Kerre, E. E. (2001). Reasonable properties for the ordering of fuzzy quantities (II). Fuzzy Sets and Systems 118: 387-405.
</p>
<p>Yuan, Y. (1991). Criteria for evaluating fuzzy ranking methods. Fuzzy Sets Syst 43: 139-157.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Example 1 from Springer chapter book 2016
p_value.norm( kind=2, H0=T(1300,1300,1300), H1=B(1300,1300), t=T(1288,1313,1331), s.d=30, 
n=10, sig=T(0,0.05,0.1) )

# Solving Example 2 from Springer chapter book 2016
p_value.norm( kind=0, H0=T(1300,1300,1300), H1=B(1300,1300), t=T(1300,1313,1321), s.d=30, 
n=10, sig=T(0,0.15,0.3) )

# Solving Example 4 from Springer chapter book 2016
H0 = T(1275,1300,1325) #  Fuzzy null hypothesis
H1 = B(1275,1325) #  Fuzzy althernative hypothesis
t = T(1315,1327,1342) #  Fuzzy observed value for the test statistics
sig = T(0.0,0.15,0.3) #  Fuzzy significance level
p_value.norm( kind=2, H0, H1, t, s.d=120, n=36, sig)

# Solving Example 6 from Springer chapter book 2016
H0 = T(1275,1300,1325)
H1 = B(1275,1325)
t = T(1327,1327,1327) #  Crisp observed value for the test statistics
sig = T(0, .05, .1)
p_value.norm( kind=2, H0, H1, t, s.d=120, n=36, sig)


## The function is currently defined as
function (kind, H0, H1, t, s.d, n, sig) 
{
    alpha_L = seq(0, 1, 0.01)
    alpha_U = seq(1, 0, -0.01)
    if (kind == 1) {
        p_L = pnorm(alphacut(t, alpha_L)[, "U"], alphacut(H0, 
            alpha_L)[, "L"], s.d/(n^0.5))
        p_U = pnorm(alphacut(t, alpha_U)[, "L"], alphacut(H0, 
            alpha_U)[, "U"], s.d/(n^0.5))
    }
    else if (kind == 2) {
        p_L = 1 - pnorm(alphacut(t, alpha_L)[, "U"], alphacut(H0, 
            alpha_L)[, "L"], s.d/(n^0.5))
        p_U = 1 - pnorm(alphacut(t, alpha_U)[, "L"], alphacut(H0, 
            alpha_U)[, "U"], s.d/(n^0.5))
    }
    else if (supp(t)[1] &gt;= supp(H0)[2]) {
        p_L = 2 * (1 - pnorm(alphacut(t, alpha_L)[, "U"], alphacut(H0, 
            alpha_L)[, "L"], s.d/(n^0.5)))
        p_U = 2 * (1 - pnorm(alphacut(t, alpha_U)[, "L"], alphacut(H0, 
            alpha_U)[, "U"], s.d/(n^0.5)))
    }
    else if (supp(t)[2] &lt;= supp(H0)[1]) {
        p_L = 2 * pnorm(alphacut(t, alpha_L)[, "U"], alphacut(H0, 
            alpha_L)[, "L"], s.d/(n^0.5))
        p_U = 2 * pnorm(alphacut(t, alpha_U)[, "L"], alphacut(H0, 
            alpha_U)[, "U"], s.d/(n^0.5))
    }
    else {
        return("The fuzzy p-value can not defined for this example, since the fuzziness of 
		the problem is very high. This case may be accured for the testing equality 
		fuzzy null hypothesis, against the non-equality fuzzy althenative hypothesis")
    }
    alpha = cbind(alpha_L, alpha_U)
    p = cbind(p_L, p_U)
    plot(p, alpha, type = "l", lwd = 3, col = 1, xlim = c(-0.04, 
        1.02))
     s1 = supp(sig)[1]
     s2 = core(sig)[1]
     s3 = core(sig)[1]
     s4 = supp(sig)[2]
     lines( c(0,s1,s2,s3,s4,1), c(0,0,1,1,0,0), type='l', lty=3, lwd=2, col=2 )
# plot(sig, lty=3, lwd=2, col=2, add=TRUE) # Conflict importing 2 plot from different packages
    legend("topright", c("Fuzzy p-value", "Significance level"), 
        col = c(1, 2), text.col = 1, lwd = c(3, 2), lty = c(1, 
            3))
     if( class(sig) == "numeric" ){
            sig &lt;- TriangularFuzzyNumber(sig, sig, sig)
            }
     P_L = p_L
     P_U = p_U
     knot.n = 100
     S_L = alphacut(sig, round(seq(0, 1, .01), 5))[,"L"]
     S_U = alphacut(sig, round(seq(0, 1, .01), 5))[,"U"]
     Int1 = ( P_U - S_L ) * ( P_U &gt; S_L )
     Int2 = ( P_L - S_U ) * ( P_L &gt; S_U )
     Arz = 1 / (knot.n - 1)  #Arze Mostatilha baraye mohasebe-ye Integral
     Integral1 &lt;- ( sum( Int1 ) - Int1[1]/2 - Int1[length(Int1)]/2 ) *Arz
     Integral2 &lt;- ( sum( Int2 ) - Int2[1]/2 - Int2[length(Int2)]/2 ) *Arz
     Delta_PS = Integral1 + Integral2
     Int3 = ( S_U - P_L ) * ( S_U &gt; P_L )
     Int4 = ( S_L - P_U ) * ( S_L &gt; P_U )
     Integral3 &lt;- ( sum( Int3 ) - Int3[1]/2 - Int3[length(Int3)]/2 ) *Arz
     Integral4 &lt;- ( sum( Int4 ) - Int4[1]/2 - Int4[length(Int4)]/2 ) *Arz
     Delta_SP = Integral3 + Integral4
    print("Delta_SP = ")
    print(Delta_SP)
    print("Delta_PS = ")
    print(Delta_PS)
    Degree_P_biger_than_S = Delta_PS/(Delta_PS + Delta_SP)
    Degree_S_biger_than_P = 1 - Degree_P_biger_than_S
    if (Degree_P_biger_than_S &gt;= Degree_S_biger_than_P) {
        a = "The null hypothesis (H0) is accepted with degree D(P&gt;S)="
        b = round(Degree_P_biger_than_S, 4)
        c = ", at  the considered significance level."
        noquote(sprintf("%s %s %s ", a, b, c))
    }
    else {
        if (Degree_P_biger_than_S &lt; Degree_S_biger_than_P) {
            a = "The althernative hypothesis (H1) is accepted with degree D(S&gt;P)="
            b = round(Degree_S_biger_than_P, 4)
            c = ", at  the considered significance level."
            noquote(sprintf("%s %s %s ", a, b, c))
        }
        else {
            return(noquote(paste0("Impossible case")))
        }
    }
  }
</code></pre>


</div>