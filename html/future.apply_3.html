<div class="container">

<table style="width: 100%;"><tr>
<td>future.apply</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>future.apply: Apply Function to Elements in Parallel using Futures</h2>

<h3>Description</h3>

<p>The <span class="pkg">future.apply</span> packages provides parallel implementations of
common "apply" functions provided by base <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>.  The parallel processing
is performed via the <span class="pkg">future</span> ecosystem, which provides a large
number of parallel backends, e.g. on the local machine, a remote cluster,
and a high-performance compute cluster.
</p>


<h3>Details</h3>

<p>Currently implemented functions are:
</p>

<ul>
<li> <p><code>future_apply()</code>: a parallel version of apply()
</p>
</li>
<li> <p><code>future_by()</code>: a parallel version of by()
</p>
</li>
<li> <p><code>future_eapply()</code>: a parallel version of eapply()
</p>
</li>
<li> <p><code>future_lapply()</code>: a parallel version of lapply()
</p>
</li>
<li> <p><code>future_mapply()</code>: a parallel version of mapply()
</p>
</li>
<li> <p><code>future_sapply()</code>: a parallel version of sapply()
</p>
</li>
<li> <p><code>future_tapply()</code>: a parallel version of tapply()
</p>
</li>
<li> <p><code>future_vapply()</code>: a parallel version of vapply()
</p>
</li>
<li> <p><code>future_Map()</code>: a parallel version of Map()
</p>
</li>
<li> <p><code>future_replicate()</code>: a parallel version of replicate()
</p>
</li>
<li> <p><code>future_.mapply()</code>: a parallel version of .mapply()
</p>
</li>
</ul>
<p>Reproducibility is part of the core design, which means that perfect,
parallel random number generation (RNG) is supported regardless of the
amount of chunking, type of load balancing, and future backend being used.
</p>
<p>Since these <code style="white-space: pre;">⁠future_*()⁠</code> functions have the same arguments as the
corresponding base <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> function, start using them is often as simple as
renaming the function in the code.  For example, after attaching the package:
</p>
<div class="sourceCode r"><pre>library(future.apply)
</pre></div>
<p>code such as:
</p>
<div class="sourceCode r"><pre>x &lt;- list(a = 1:10, beta = exp(-3:3), logic = c(TRUE,FALSE,FALSE,TRUE))
y &lt;- lapply(x, quantile, probs = 1:3/4)
</pre></div>
<p>can be updated to:
</p>
<div class="sourceCode r"><pre>y &lt;- future_lapply(x, quantile, probs = 1:3/4)
</pre></div>
<p>The default settings in the <span class="pkg">future</span> framework is to process code
<em>sequentially</em>.  To run the above in parallel on the local machine
(on any operating system), use:
</p>
<div class="sourceCode r"><pre>plan(multisession)
</pre></div>
<p>first.  That's it!
</p>
<p>To go back to sequential processing, use <code>plan(sequential)</code>.
If you have access to multiple machines on your local network, use:
</p>
<div class="sourceCode r"><pre>plan(cluster, workers = c("n1", "n2", "n2", "n3"))
</pre></div>
<p>This will set up four workers, one on <code>n1</code> and <code>n3</code>, and two on <code>n2</code>.
If you have SSH access to some remote machines, use:
</p>
<div class="sourceCode r"><pre>plan(cluster, workers = c("m1.myserver.org", "m2.myserver.org))
</pre></div>
<p>See the <span class="pkg">future</span> package and <code>future::plan()</code> for more examples.
</p>
<p>The <span class="pkg">future.batchtools</span> package provides support for high-performance
compute (HPC) cluster schedulers such as SGE, Slurm, and TORQUE / PBS.
For example,
</p>

<ul>
<li> <p><code>plan(batchtools_slurm)</code>:
Process via a Slurm scheduler job queue.
</p>
</li>
<li> <p><code>plan(batchtools_torque)</code>:
Process via a TORQUE / PBS scheduler job queue.
</p>
</li>
</ul>
<p>This builds on top of the queuing framework that the <span class="pkg">batchtools</span>
package provides. For more details on backend configuration, please see
the <span class="pkg">future.batchtools</span> and <span class="pkg">batchtools</span> packages.
</p>
<p>These are just a few examples of parallel/distributed backend for the
future ecosystem.  For more alternatives, see the 'Reverse dependencies'
section on the
<a href="https://cran.r-project.org/package=future">future CRAN package page</a>.
</p>


<h3>Author(s)</h3>

<p>Henrik Bengtsson, except for the implementations of <code>future_apply()</code>,
<code>future_Map()</code>, <code>future_replicate()</code>, <code>future_sapply()</code>, and
<code>future_tapply()</code>, which are adopted from the source code of the
corresponding base <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> functions, which are licensed under GPL (&gt;= 2)
with 'The R Core Team' as the copyright holder.
Because of these dependencies, the license of this package is GPL (&gt;= 2).
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://future.apply.futureverse.org">https://future.apply.futureverse.org</a>
</p>
</li>
<li> <p><a href="https://github.com/HenrikBengtsson/future.apply">https://github.com/HenrikBengtsson/future.apply</a>
</p>
</li>
<li>
<p> Report bugs at <a href="https://github.com/HenrikBengtsson/future.apply/issues">https://github.com/HenrikBengtsson/future.apply/issues</a>
</p>
</li>
</ul>
</div>