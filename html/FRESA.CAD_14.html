<div class="container">

<table style="width: 100%;"><tr>
<td>bootstrapVarElimination_Bin</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>IDI/NRI-based backwards variable elimination with bootstrapping</h2>

<h3>Description</h3>

<p>This function removes model terms that do not improve the bootstrapped integrated discrimination improvement (IDI) or net reclassification improvement (NRI) significantly.
</p>


<h3>Usage</h3>

<pre><code class="language-R">	bootstrapVarElimination_Bin(object,
	                        pvalue = 0.05,
	                        Outcome = "Class",
	                        data,
	                        startOffset = 0, 
	                        type = c("LOGIT", "LM", "COX"),
	                        selectionType = c("zIDI", "zNRI"),
	                        loops = 64,
	                        print=TRUE,
	                        plots=TRUE
	                        )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
 
<p>An object of class <code>lm</code>, <code>glm</code>, or <code>coxph</code> containing the model to be analyzed
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pvalue</code></td>
<td>

<p>The maximum <em>p</em>-value, associated to either IDI or NRI, allowed for a term in the model
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Outcome</code></td>
<td>

<p>The name of the column in <code>data</code> that stores the variable to be predicted by the model
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>A data frame where all variables are stored in different columns
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>startOffset</code></td>
<td>

<p>Only terms whose position in the model is larger than the <code>startOffset</code> are candidates to be removed
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>

<p>Fit type: Logistic ("LOGIT"), linear ("LM"), or Cox proportional hazards ("COX")
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>selectionType</code></td>
<td>

<p>The type of index to be evaluated by the <code>improveProb</code> function (<code>Hmisc</code> package): <em>z</em>-score of IDI or of NRI
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loops</code></td>
<td>

<p>The number of bootstrap loops
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print</code></td>
<td>

<p>Logical. If <code>TRUE</code>, information will be displayed
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plots</code></td>
<td>

<p>Logical. If <code>TRUE</code>,  plots are displayed
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For each model term <code class="reqn">x_i</code>, the IDI or NRI is computed for the Full model and the reduced model( where the term <code class="reqn">x_i</code> removed).
The term whose removal results in the smallest drop in bootstrapped improvement is selected. The hypothesis: the 
term adds classification improvement is tested by checking the p value of average improvement. If <code class="reqn">p(IDI or NRI)&gt;pvalue</code>, then the term is removed. 
In other words, only model terms that significantly aid in subject classification are kept.
The procedure is repeated until no term fulfils the removal criterion.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>back.model</code></td>
<td>

<p>An object of the same class as <code>object</code> containing the reduced model
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loops</code></td>
<td>

<p>The number of loops it took for the model to stabilize
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reclas.info</code></td>
<td>

<p>A list with the NRI and IDI statistics of the reduced model, as given by the <code>getVar.Bin</code> function
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bootCV</code></td>
<td>

<p>An object of class <code>bootstrapValidation_Bin</code> containing the results of the bootstrap validation in the reduced model
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>back.formula</code></td>
<td>

<p>An object of class <code>formula</code> with the formula used to fit the reduced model
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lastRemoved</code></td>
<td>

<p>The name of the last term that was removed (-1 if all terms were removed)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>at.opt.model</code></td>
<td>

<p>The model will have the fitted model that had close to maximum bootstrapped test accuracy 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beforeFSC.formula</code></td>
<td>

<p>The formula of the model before False Selection Correction
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>at.Accuracy.formula</code></td>
<td>

<p>the string formula of the model that had the best or close to tbe best test accuracy 
</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Jose G. Tamez-Pena and Antonio Martinez-Torteya</p>


<h3>References</h3>

<p>Pencina, M. J., D'Agostino, R. B., &amp; Vasan, R. S. (2008). Evaluating the added predictive ability of a new marker: from area under the ROC curve to reclassification and beyond. <em>Statistics in medicine</em> <b>27</b>(2), 157-172.</p>


<h3>See Also</h3>

<p><code>bootstrapVarElimination_Res,
				 backVarElimination_Bin,
				 backVarElimination_Res</code></p>


</div>