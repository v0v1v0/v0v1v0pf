<div class="container">

<table style="width: 100%;"><tr>
<td>anylm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Analysis of linear regression for time series in batch</h2>

<h3>Description</h3>

<p>Analyse linear regression for time series in batch
</p>


<h3>Usage</h3>

<pre><code class="language-R">anylm(
  df,
  xd = 2,
  yd = 3,
  zd = NULL,
  td = NULL,
  mi = 1,
  range.y = "interval",
  range.x = "interval",
  nperm = 99,
  showpage = TRUE,
  scint = FALSE,
  dign = 1,
  zfill = "lightgray",
  ppsize = 2,
  showinfo = TRUE,
  ptsize = 12,
  pncol = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>dataframe of time series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xd</code></td>
<td>
<p>species or columns for x axis, vector of number or colnames. Default vaule is '2'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yd</code></td>
<td>
<p>species or columns for y axis, vector of number or colnames. Default vaule is '3'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zd</code></td>
<td>
<p>species or columns to fill points, vector of number or colnames. Default vaule is 'NULL'.
If zd is setted, labels for scaled color represent Percentile value (0, 0.25, 0.5,0.75, 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>td</code></td>
<td>
<p>1 column to group data, number or colname. Default vaule is 'NULL'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mi</code></td>
<td>
<p>index (1~4) of methods: 1. ordinary least squares (OLS); 2. major axis (MA); 3. standard major axis (SMA);
4. and ranged major axis (RMA). Refered from R package 'lmodel2'. Default vaule is '1'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>range.y</code></td>
<td>
<p>Parametres for ranged major axis regression (RMA). If range.y = NULL and range.x = NULL, RMA will not be computed.
If only one of them is NULL, the program will stop. If range.y = "relative": variable y has a true zero (relative-scale variable).
If range.y = "interval": variable y possibly includes negative values (interval-scale variable).
If range.x = "relative": variable x has a true zero (relative-scale variable).
If range.x = "interval": variable x possibly includes negative values (interval-scale variable). Refered from R package 'lmodel2'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>range.x</code></td>
<td>
<p>Parametres, please see 'range.y'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nperm</code></td>
<td>
<p>Number of permutations for the tests. If nperm = 0, tests will not be computed. Refered from R package 'lmodel2'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showpage</code></td>
<td>
<p>logical value for showing all plots. If TRUE, print all plot in 1 page. Default vaule is 'TRUE'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scint</code></td>
<td>
<p>logical value for displaying scientific notion in legend and plot title. Default vaule is 'FALSE'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dign</code></td>
<td>
<p>numeric value for digists in legend and plot title. Default vaule is '1'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zfill</code></td>
<td>
<p>color for points, only valid when zd is NULL. Default vaule is "lightgray".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ppsize</code></td>
<td>
<p>size for points. Default vaule is "lightgray".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showinfo</code></td>
<td>
<p>logical value for displaying regression information in plot title. Default vaule is 'TRUE'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ptsize</code></td>
<td>
<p>font size for plot title. Default vaule is '12'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pncol</code></td>
<td>
<p>number of columns for plots in page. Refered from R package 'gridExtra'. Default vaule is 'NULL'.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>X axis, Y axis, scaled color for points are flexible for multiple columns.
Data could also be grouped according to 1 column. <br></p>


<h3>Value</h3>

<p>a list contains: data_list, lm_df, lm_list, plot_list, all_plot.<br>
data_list: a list contains data for linear regression.<br>
lm_df: a dataframe for key results of linear regression. row index of lm_df corresponds to 'id' of plot in 'all_plot'.<br>
lm_list: a list contains detail results of linear regression.<br>
plot_list: a list contains plots for linear regression. <br>
all_plot: a page for all plots in 'plot_list'.<br>
To see page, please use this function: 'gridExtra::grid.arrange(grobs=...)'.<br>
To see page, please use this 2-lines function:<br>
'g=gridExtra::arrangeGrob(grobs=...)',<br>
'ggplot2::ggsave(filename = "example.jpg", plot =g)'.<br>
'id' of plot corresponds to row index of 'lm_df'.<br></p>


<h3>Examples</h3>

<pre><code class="language-R">anylm(aqi, xd=c(2,3), yd=6, zd=4, td=NULL, dign=3)
</code></pre>


</div>