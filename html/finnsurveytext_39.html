<div class="container">

<table style="width: 100%;"><tr>
<td>fst_prepare_svydesign</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read In and format Finnish survey text responses from 'svydesign' object</h2>

<h3>Description</h3>

<p>Creates a dataframe in CoNLL-U format from a 'svydesign' object including
Finnish text using the [udpipe] package and a Finnish language model plus
weights if these are included in the 'svydesign' object and any columns added
through 'add_cols'.Stopwords and punctuation are optionally removed if the
the 'stopword_list' argument is not "none".
</p>


<h3>Usage</h3>

<pre><code class="language-R">fst_prepare_svydesign(
  svydesign,
  question,
  id,
  model = "ftb",
  stopword_list = "nltk",
  language = "fi",
  use_weights = TRUE,
  add_cols = NULL,
  manual = FALSE,
  manual_list = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>svydesign</code></td>
<td>
<p>A 'svydesign' object which contains an open-ended question.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>question</code></td>
<td>
<p>The column in the dataframe which contains the open-ended
question.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>The column in the dataframe which contains the ids for the
responses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A language model available for [udpipe], such as '"ftb"'
(default) or '"tdt"' which are available for Finnish.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stopword_list</code></td>
<td>
<p>A valid Finnish stopword list, default is '"nltk"', or
'"none"'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>language</code></td>
<td>
<p>two-letter ISO code for the language for the stopword list</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_weights</code></td>
<td>
<p>Optional, whether to use weights within the 'svydesign'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_cols</code></td>
<td>
<p>Optional, a column (or columns) from the dataframe which
contain other information you'd like to retain (for instance, dimension
columnns for splitting the data for comparison plots).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>manual</code></td>
<td>
<p>An optional boolean to indicate that a manual list will be
provided, 'stopword_list = "manual"' can also or instead be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>manual_list</code></td>
<td>
<p>A manual list of stopwords.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>'fst_prepare_svydesign()' produces a dataframe containing Finnish survey text
responses in CoNLL-U format with stopwords optionally removed.
</p>


<h3>Value</h3>

<p>A dataframe of Finnish text in CoNLL-U format.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
i &lt;- "fsd_id"
svy_child &lt;- survey::svydesign(id=~1, weights= ~paino, data = child)
fst_prepare_svydesign(svy_child, question = "q7", id = i, use_weights = TRUE)

svy_d &lt;- survey::svydesign(id = ~1, weights = ~paino, data =dev_coop)
fst_prepare_svydesign(svy_d, question = "q11_2", id = i, add_cols = 'gender')

fst_prepare_svydesign(svy_d, 'q11_2', i, 'finnish-ftb', 'nltk', 'fi')
unlink("finnish-ftb-ud-2.5-191206.udpipe")
unlink("finnish-tdt-ud-2.5-191206.udpipe")

</code></pre>


</div>