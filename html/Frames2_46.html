<div class="container">

<table style="width: 100%;"><tr>
<td>WeightsCalSF</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>g-weights for the SF calibration estimator</h2>

<h3>Description</h3>

<p>Computes the g-weights for the SF calibration estimator.
</p>


<h3>Usage</h3>

<pre><code class="language-R">WeightsCalSF(ysA, ysB, pi_A, pi_B, pik_ab_B, pik_ba_A, domains_A, domains_B, 
N_A = NULL, N_B = NULL, N_ab = NULL, xsAFrameA = NULL, xsBFrameA = NULL, 
xsAFrameB = NULL, xsBFrameB = NULL, xsT = NULL, XA = NULL, XB = NULL, X = NULL, 
met = "linear")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ysA</code></td>
<td>
<p>A numeric vector of length <code class="reqn">n_A</code> or a numeric matrix or data frame of dimensions <code class="reqn">n_A</code> x <code class="reqn">c</code> containing information about variable(s) of interest from <code class="reqn">s_A</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ysB</code></td>
<td>
<p>A numeric vector of length <code class="reqn">n_B</code> or a numeric matrix or data frame of dimensions <code class="reqn">n_B</code> x <code class="reqn">c</code> containing information about variable(s) of interest from <code class="reqn">s_A</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pi_A</code></td>
<td>
<p>A numeric vector of length <code class="reqn">n_A</code> or a square numeric matrix of dimension <code class="reqn">n_A</code> containing first order or first and second order inclusion probabilities for units included in <code class="reqn">s_A</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pi_B</code></td>
<td>
<p>A numeric vector of length <code class="reqn">n_B</code> or a square numeric matrix of dimension <code class="reqn">n_B</code> containing first order or first and second order inclusion probabilities for units included in <code class="reqn">s_B</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pik_ab_B</code></td>
<td>
<p>A numeric vector of size <code class="reqn">n_A</code> containing first order inclusion probabilities according to sampling desing in frame B for units belonging 
to overlap domain that have been selected in <code class="reqn">s_A</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pik_ba_A</code></td>
<td>
<p>A numeric vector of size <code class="reqn">n_B</code> containing first order inclusion probabilities according to sampling desing in frame A for units belonging 
to overlap domain that have been selected in <code class="reqn">s_B</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>domains_A</code></td>
<td>
<p>A character vector of size <code class="reqn">n_A</code> indicating the domain each unit from <code class="reqn">s_A</code> belongs to. Possible values are "a" and "ab".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>domains_B</code></td>
<td>
<p>A character vector of size <code class="reqn">n_B</code> indicating the domain each unit from <code class="reqn">s_B</code> belongs to. Possible values are "b" and "ba".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N_A</code></td>
<td>
<p>(Optional) A numeric value indicating the size of frame A</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N_B</code></td>
<td>
<p>(Optional) A numeric value indicating the size of frame B</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N_ab</code></td>
<td>
<p>(Optional) A numeric value indicating the size of the overlap domain</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xsAFrameA</code></td>
<td>
<p>(Optional) A numeric vector of length <code class="reqn">n_A</code> or a numeric matrix or data frame of dimensions <code class="reqn">n_A</code> x <code class="reqn">m_A</code>, with <code class="reqn">m_A</code> the number of auxiliary variables in frame A, containing auxiliary information in frame A for units included in <code class="reqn">s_A</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xsBFrameA</code></td>
<td>
<p>(Optional) A numeric vector of length <code class="reqn">n_B</code> or a numeric matrix or data frame of dimensions <code class="reqn">n_B</code> x <code class="reqn">m_A</code>, with <code class="reqn">m_A</code> the number of auxiliary variables in frame A, containing auxiliary information in frame A for units included in <code class="reqn">s_B</code>. For units in domain <code class="reqn">b</code>, these values are 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xsAFrameB</code></td>
<td>
<p>(Optional) A numeric vector of length <code class="reqn">n_A</code> or a numeric matrix or data frame of dimensions <code class="reqn">n_A</code> x <code class="reqn">m_B</code>, with <code class="reqn">m_B</code> the number of auxiliary variables in frame B, containing auxiliary information in frame B for units included in <code class="reqn">s_A</code>. For units in domain <code class="reqn">a</code>, these values are 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xsBFrameB</code></td>
<td>
<p>(Optional) A numeric vector of length <code class="reqn">n_B</code> or a numeric matrix or data frame of dimensions <code class="reqn">n_B</code> x <code class="reqn">m_B</code>, with <code class="reqn">m_B</code> the number of auxiliary variables in frame B, containing auxiliary information in frame B for units included in <code class="reqn">s_B</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xsT</code></td>
<td>
<p>(Optional) A numeric vector of length <code class="reqn">n</code> or a numeric matrix or data frame of dimensions <code class="reqn">n</code> x <code class="reqn">m_T</code>, with <code class="reqn">m_T</code> the number of auxiliary variables in both frames, containing auxiliary information for all units in the entire sample <code class="reqn">s = s_A \cup s_B</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>XA</code></td>
<td>
<p>(Optional) A numeric value or vector of length <code class="reqn">m_A</code>, with <code class="reqn">m_A</code> the number of auxiliary variables in frame A, indicating the population totals for the auxiliary variables considered in frame A.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>XB</code></td>
<td>
<p>(Optional) A numeric value or vector of length <code class="reqn">m_B</code>, with <code class="reqn">m_B</code> the number of auxiliary variables in frame B, indicating the population totals for the auxiliary variables considered in frame B.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>(Optional) A numeric value or vector of length <code class="reqn">m_T</code>, with <code class="reqn">m_T</code> the number of auxiliary variables in both frames, indicating the population totals for the auxiliary variables considered in both frames.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>met</code></td>
<td>
<p>(Optional) A character vector indicating the distance that must be used in calibration process. Possible values are "linear", "raking" and "logit". Default is "linear".</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Function provides g-weights in following scenarios:
</p>

<ul>
<li>
<p> There is not any additional auxiliary variable 
</p>

<ul>
<li> <p><code class="reqn">N_A, N_B</code> and <code class="reqn">N_{ab}</code> unknown
</p>
</li>
<li> <p><code class="reqn">N_{ab}</code> known and <code class="reqn">N_A</code> and <code class="reqn">N_B</code> unknown
</p>
</li>
<li> <p><code class="reqn">N_A</code> and <code class="reqn">N_B</code> known and <code class="reqn">N_{ab}</code> unknown
</p>
</li>
<li> <p><code class="reqn">N_A, N_B</code> and <code class="reqn">N_{ab}</code> known
</p>
</li>
</ul>
</li>
<li>
<p> At least, one additional auxiliary variable is available 
</p>

<ul>
<li> <p><code class="reqn">N_{ab}</code> known and <code class="reqn">N_A</code> and <code class="reqn">N_B</code> unknown
</p>
</li>
<li> <p><code class="reqn">N_A</code> and <code class="reqn">N_B</code> known and <code class="reqn">N_{ab}</code> unknown
</p>
</li>
<li> <p><code class="reqn">N_A, N_B</code> and <code class="reqn">N_{ab}</code> known
</p>
</li>
</ul>
</li>
</ul>
<h3>Value</h3>

<p>A numeric vector containing the g-weights for the SF calibration estimator.
</p>


<h3>References</h3>

<p>Ranalli, M. G., Arcos, A., Rueda, M. and Teodoro, A. (2013)
<em>Calibration estimationn in dual frame surveys</em>. arXiv:1312.0761 [stat.ME]
</p>
<p>Deville, J. C., S\"arndal, C. E. (1992)
<em>Calibration estimators in survey sampling.</em>
Journal of the American Statistical Association, 87, 376 - 382
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(DatA)
data(DatB)
data(PiklA)
data(PiklB)

#Let calculate g-weights for the SF calibration estimator for variable Clothing,
#without considering any auxiliary information
WeightsCalSF(DatA$Clo, DatB$Clo, PiklA, PiklB, DatA$ProbB, DatB$ProbA, 
DatA$Domain, DatB$Domain)

#Now, let calculate g-weights for the SF calibration estimator for variable Leisure
#when the frame sizes and the overlap domain size are known
WeightsCalSF(DatA$Lei, DatB$Lei, PiklA, PiklB, DatA$ProbB, DatB$ProbA, 
DatA$Domain, DatB$Domain, N_A = 1735, N_B = 1191, N_ab = 601)

#Finally, let calculate g-weights for the SF calibration estimator
#for variable Feeding, considering Income and Metres2 as auxiliary 
#variables and with frame sizes and overlap domain size known.
WeightsCalSF(DatA$Feed, DatB$Feed, PiklA, PiklB, DatA$ProbB, DatB$ProbA, 
DatA$Domain, DatB$Domain, N_A = 1735, N_B =  1191, N_ab = 601, xsAFrameA = DatA$Inc, 
xsBFrameA = DatB$Inc, xsAFrameB = DatA$M2, xsBFrameB = DatB$M2, 
XA = 4300260, XB = 176553)
</code></pre>


</div>