<div class="container">

<table style="width: 100%;"><tr>
<td>write.fs.mgh</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Write file in FreeSurfer MGH or MGZ format</h2>

<h3>Description</h3>

<p>Write brain data to a file in FreeSurfer binary MGH or MGZ format.
</p>


<h3>Usage</h3>

<pre><code class="language-R">write.fs.mgh(
  filepath,
  data,
  vox2ras_matrix = NULL,
  mr_params = c(0, 0, 0, 0, 0),
  mri_dtype = "auto"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>filepath</code></td>
<td>
<p>string. Full path to the output curv file. If this ends with ".mgz", the file will be written gzipped (i.e., in MGZ instead of MGH format).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>matrix or array of numerical values. The brain data to write. Must be integers or doubles. (The data type is set automatically to MRI_INT for integers and MRI_FLOAT for doubles in the MGH header).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vox2ras_matrix</code></td>
<td>
<p>4x4 matrix. An affine transformation matrix for the RAS transform that maps voxel indices in the volume to coordinates, such that for y(i1,i2,i3) (i.e., a voxel defined by 3 indices in the volume), the xyz coordinates are vox2ras_matrix*[i1 i2 i3 1]. If no matrix is given (or a NULL value), the ras_good flag will be 0 in the file. Defaults to NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mr_params</code></td>
<td>
<p>double vector of length four (without fov) or five. The acquisition parameters, in order: tr, flipangle, te, ti, fov. Spelled out: repetition time, flip angle, echo time, inversion time, field-of-view. The unit for the three times is ms, the angle unit is radians. Defaults to c(0., 0., 0., 0., 0.) if omitted. Pass NULL if you do not want to write them at all.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mri_dtype</code></td>
<td>
<p>character string representing an MRI data type code or 'auto'. Valid strings are 'MRI_UCHAR' (1 byte unsigned integer), 'MRI_SHORT' (2 byte signed integer), 'MRI_INT' (4 byte signed integer) and 'MRI_FLOAT' (4 byte signed floating point). The default value 'auto' will determine the data type from the type of the 'data' parameter. It will use MRI_INT for integers, so you may be able to save space by manually settings the dtype if the range of your data does not require that. WARNING: If manually specified, no sanitation of any kind is performed. Leave this alone if in doubt.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p>Other morphometry functions: 
<code>fs.get.morph.file.ext.for.format()</code>,
<code>fs.get.morph.file.format.from.filename()</code>,
<code>read.fs.curv()</code>,
<code>read.fs.mgh()</code>,
<code>read.fs.morph.gii()</code>,
<code>read.fs.morph()</code>,
<code>read.fs.volume()</code>,
<code>read.fs.weight()</code>,
<code>write.fs.curv()</code>,
<code>write.fs.label.gii()</code>,
<code>write.fs.morph.asc()</code>,
<code>write.fs.morph.gii()</code>,
<code>write.fs.morph.ni1()</code>,
<code>write.fs.morph.ni2()</code>,
<code>write.fs.morph.smp()</code>,
<code>write.fs.morph.txt()</code>,
<code>write.fs.morph()</code>,
<code>write.fs.weight.asc()</code>,
<code>write.fs.weight()</code>
</p>


</div>