<div class="container">

<table style="width: 100%;"><tr>
<td>densify</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>densify</h2>

<h3>Description</h3>

<p>Function to create a matrix of occurrence record densities
through geological time from an occurrence dataset. Each column
represents a taxon. Each row represents a user defined window of
time, with the first row starting at the oldest FAD in the
dataset and spanning to the youngest LAD stepwise by the user
defined window (default of 1 Ma). Occurrence records are
densified by generating a vector of time points from occurrence
FAD to occurrence LAD (default step of 0.1 Ma), then tallied in
two ways. The first way is a simple histogram count of
points-per-window, with the same number of histogram bins as time
steps between the overall taxon FAD and LAD. The second way is a
kernel density estimate, using a Gaussian kernel with a equally
spaced estimatopms equal to the number of timesteps between the
overall taxon FAD and LAD
</p>


<h3>Usage</h3>

<pre><code class="language-R">densify(
  x,
  rank = "genus",
  srt = "max_ma",
  end = "min_ma",
  step = 1,
  density = 0.1,
  method = c("histogram", "kernel"),
  ...,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An occurrence dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rank</code></td>
<td>
<p>The column name in x containing the taxon names
for which densified columns will be generated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>srt</code></td>
<td>
<p>A column name in x denoting the occurrence FADs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end</code></td>
<td>
<p>A column name in x denoting the occurrence LADs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>step</code></td>
<td>
<p>A positive integer specifying the time window size
(i.e. the duration represented by each row in the output matrix)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>density</code></td>
<td>
<p>A positive numeric specifying the step size for
densifying records. This should ideally be smaller than step</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>The method for quantifying occurrence density. By
default both histogram and kernel density will be used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments passed to @seealso density</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>A logical determining if function progress
should be reported</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of two sparse matrices, the first containing
the histogram counts, the second the kernel density estimates
</p>


<h3>Examples</h3>

<pre><code class="language-R"># load dataset
data("brachios")
# subsample brachios to make for a short example runtime
set.seed(1)
brachios &lt;- brachios[sample(1:nrow(brachios), 1000),]
# densify ranges
dens &lt;- densify(brachios)
</code></pre>


</div>