<div class="container">

<table style="width: 100%;"><tr>
<td>import.meas</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Import Raw Data of Metabolic Rate Measurements</h2>

<h3>Description</h3>

<p>The function is used to import raw data of metabolic rate measurements to R environment.
</p>


<h3>Usage</h3>

<pre><code class="language-R">import.meas(file, info.data,
            n.chamber = c(1,2,3,4,5,6,7,8),
            logger = c("AutoResp", "FishResp", "QboxAqua"),
            date.format = c("DMY", "MDY", "YMD"),
            start.measure = "00:00:00",
            stop.measure = "23:59:59",
            start.measure.date = NA,
            stop.measure.date = NA,
            set.date.time = NA,
            meas.to.wait = 0,
            meas.to.flush = 0,
            plot.temperature = TRUE,
            plot.oxygen = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>the name of a file  which raw data of metabolic rate measurements are to be read from</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>info.data</code></td>
<td>
<p>a data frame obtained by using the function <code>input.info</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.chamber</code></td>
<td>
<p>integer: the number of chambers used in an experiment (including empty ones)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logger</code></td>
<td>
<p>string: the name of a logger software used for intermittent-flow respirometry
</p>

<ul>
<li>
<p> 'AutoResp' if you use commercial software by 'Loligo Systems'
</p>
</li>
<li>
<p> 'FishResp' if you use free software 'AquaResp' in combination with equipment produced by 'PreSens' or 'Pyroscience', please convert data to the 'FishResp' format using the functions <code>presens.aquaresp</code> or <code>pyroscience.aquaresp</code>, respectively. <br> If you do not use commercial software or 'AquaResp' for running intermittent-flow respirometry, adjust raw data manually to the 'FishResp' format (see Details below).
</p>
</li>
<li>
<p> 'QboxAqua' if you use commercial software by 'Qubit Systems'
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>date.format</code></td>
<td>
<p>string: date format (DMY, MDY or YMD)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start.measure</code></td>
<td>
<p>chron: time when metabolic rate measurements are started</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stop.measure</code></td>
<td>
<p>chron: time when metabolic rate measurements are finished</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start.measure.date</code></td>
<td>
<p>chron: date when metabolic rate measurements are started</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stop.measure.date</code></td>
<td>
<p>chron: date when metabolic rate measurements are finished</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>set.date.time</code></td>
<td>
<p>chron: this parameter is turned off by default and needed to be specified only if raw data were recorded by 'Q-box Aqua' logger software. Specifically, input the date and time when .cmbl file was built in one of the following formats: "dd/mm/yyyy/hh:mm:ss", "mm/dd/yyyy/hh:mm:ss", or "yyyy/mm/dd/hh:mm:ss" (in accourdance to the chosen date.format parameter).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meas.to.wait</code></td>
<td>
<p>integer: the number of first rows for each measurement phase (M) which should be reassigned to the wait phase (W). The parameter should be used when the wait phase (W) is absent (e.g. in 'Q-box Aqua' logger software) or not long enough to eliminate non-linear change in DO concentration over time from the measurement phase (M) after shutting off water supply from the ambient water source.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meas.to.flush</code></td>
<td>
<p>integer: the number of last rows for each measurement phase (M) which should be reassigned to the flush phase (F). The parameter should be used to eliminate non-linear change in DO concentration over time from the measurement phase (M) after untimely shutting on water supply from the ambient water source.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.temperature</code></td>
<td>
<p>logical: if TRUE then the graph of raw temperature data is plotted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.oxygen</code></td>
<td>
<p>logical: if TRUE then the graph of raw oxygen data is plotted</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If you use closed respirometry approach, please standardize raw data. The example of "FishResp" format for 4-channel respirometry system is shown here:
</p>

<table>
<tr>
<td style="text-align: center;">
  Date&amp;Time </td>
<td style="text-align: center;"> Phase </td>
<td style="text-align: center;"> Temp.1 </td>
<td style="text-align: center;"> Ox.1 </td>
<td style="text-align: center;"> Temp.2 </td>
<td style="text-align: center;"> Ox.2 </td>
<td style="text-align: center;"> Temp.3 </td>
<td style="text-align: center;"> Ox.3 </td>
<td style="text-align: center;"> Temp.4 </td>
<td style="text-align: center;"> Ox.4</td>
</tr>
<tr>
<td style="text-align: center;">
  19/08/2016/18:47:20 </td>
<td style="text-align: center;"> F1 </td>
<td style="text-align: center;"> 24.49 </td>
<td style="text-align: center;"> 7.78 </td>
<td style="text-align: center;"> 24.56 </td>
<td style="text-align: center;"> 7.73 </td>
<td style="text-align: center;"> 24.49 </td>
<td style="text-align: center;"> 7.78 </td>
<td style="text-align: center;"> 24.56 </td>
<td style="text-align: center;"> 7.73</td>
</tr>
<tr>
<td style="text-align: center;">
  19/08/2016/18:47:21 </td>
<td style="text-align: center;"> F1 </td>
<td style="text-align: center;"> 24.49 </td>
<td style="text-align: center;"> 7.78 </td>
<td style="text-align: center;"> 24.56 </td>
<td style="text-align: center;"> 7.73 </td>
<td style="text-align: center;"> 24.49 </td>
<td style="text-align: center;"> 7.78 </td>
<td style="text-align: center;"> 24.56 </td>
<td style="text-align: center;"> 7.73</td>
</tr>
<tr>
<td style="text-align: center;">
  19/08/2016/18:47:22 </td>
<td style="text-align: center;"> M1 </td>
<td style="text-align: center;"> 24.49 </td>
<td style="text-align: center;"> 7.77 </td>
<td style="text-align: center;"> 24.56 </td>
<td style="text-align: center;"> 7.72 </td>
<td style="text-align: center;"> 24.49 </td>
<td style="text-align: center;"> 7.78 </td>
<td style="text-align: center;"> 24.56 </td>
<td style="text-align: center;"> 7.73</td>
</tr>
<tr>
<td style="text-align: center;">
  19/08/2016/18:47:23 </td>
<td style="text-align: center;"> M1 </td>
<td style="text-align: center;"> 24.49 </td>
<td style="text-align: center;"> 7.76 </td>
<td style="text-align: center;"> 24.56 </td>
<td style="text-align: center;"> 7.72 </td>
<td style="text-align: center;"> 24.49 </td>
<td style="text-align: center;"> 7.78 </td>
<td style="text-align: center;"> 24.56 </td>
<td style="text-align: center;"> 7.73</td>
</tr>
<tr>
<td style="text-align: center;">
</td>
</tr>
</table>
<p> where the items are:
</p>

<ul>
<li>
<p> Date&amp;Time should be represented in one of the following formats: "dd/mm/yyyy/hh:mm:ss", "mm/dd/yyyy/hh:mm:ss", or "yyyy/mm/dd/hh:mm:ss". Time step-interval is one second: one row of data per second.
</p>
</li>
<li>
<p> Phase should have at least two levels: M (measurement) and F (flush). The ordinal number of a phase should be attached to the level of a phase: F1, M1, F2, M2 ...
</p>
</li>
<li>
<p> Temp.1 contains values of water temperature in Celsius (<code class="reqn">C^{o}</code>) for Chamber 1
</p>
</li>
<li>
<p> Ox.1 contains values of dissolved oxygen measured in 'mg/L', 'mmol/L' or 'ml/L' for Chamber 1. If other measurement units were used, convert them to 'mg/L', 'mmol/L' or 'ml/L' using the function <code>convert.respirometry</code> or <code>convert.rMR</code>.
</p>
</li>
<li>
<p> ...
</p>
</li>
</ul>
<h3>Value</h3>

<p>The function returns a data frame containing standardized raw data of metabolic rate measurements. The data frame should be used in the function <code>correct.meas</code> to correct metabolic rate measurements for background respiration.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Import raw data for standard and active metabolic
# rate measurements (SMR and AMR, respectively)

# if the data have been already loaded to R,
# skip the first line of the code:
data(info)
## Not run: 
SMR.path = system.file("extdata/stickleback/SMR_raw.txt.xz", package = "FishResp")
SMR.raw &lt;- import.meas(file = SMR.path,
                       info.data = info,
                       logger = "AutoResp",
                       n.chamber = 4,
                       date.format = "DMY",
                       start.measure = "22:00:00",
                       stop.measure = "06:00:00",
                       plot.temperature = TRUE,
                       plot.oxygen = TRUE)

AMR.path = system.file("extdata/stickleback/AMR_raw.txt.xz", package = "FishResp")
AMR.raw &lt;- import.meas(file = AMR.path,
                       info.data = info,
                       logger = "AutoResp",
                       n.chamber = 4,
                       date.format = "DMY",
                       plot.temperature = TRUE,
                       plot.oxygen = TRUE)

# an example for importing raw data recorded by 'Q-box Aqua'
qbox.path = system.file("extdata/qboxaqua/qboxaqua.csv", package = "FishResp")
RMR.raw &lt;- import.meas(file = qbox.path,
                        info.data = info,
                        logger = "QboxAqua",
                        n.chamber = 1,
                        date.format = "DMY",
                        start.measure = "23:30:00",
                        stop.measure = "01:00:00",
                        set.date.time = "23/02/2014/23:30:22",
                        meas.to.wait = 200,
                        plot.temperature = TRUE,
                        plot.oxygen = TRUE)

## End(Not run)
</code></pre>


</div>