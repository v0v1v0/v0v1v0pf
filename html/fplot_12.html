<div class="container">

<table style="width: 100%;"><tr>
<td>plot_box</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Boxplots with possibly moderators</h2>

<h3>Description</h3>

<p>This function allows to draw a boxplot, with possibly separating different moderators.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_box(
  fml,
  data,
  case,
  moderator,
  inCol,
  outCol = "black",
  density = -1,
  lty = 1,
  pch = 18,
  addLegend = TRUE,
  legend_options = list(),
  lwd = 2,
  outlier,
  dict = NULL,
  dict_case,
  dict_moderator,
  order_case,
  order_moderator,
  addMean,
  mean.col = "darkred",
  mean.pch = 18,
  mean.cex = 2,
  mod.title = TRUE,
  labels.tilted,
  trunc = 20,
  trunc.method = "auto",
  line.max,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fml</code></td>
<td>
<p>A numeric vector or a formula of the type: <code>vars ~ moderator_1 | moderator_2</code>. Note that if a formula is provided then the argument ‘data’ must be provided. You can plot several variables, if you don't want a moderator, use 1 instead: e.g. <code>plot_box(Petal.Width +Petal.Length ~ 1, iris)</code>. You can plot all numeric variables from a data set using <code>"."</code>: <code>plot_box(. ~ 1, iris)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data.frame/data.table containing the relevant information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>case</code></td>
<td>
<p>When argument fml is a vector, this argument can receive a vector of cases.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>moderator</code></td>
<td>
<p>When argument fml is a vector, this argument can receive a vector of moderators.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inCol</code></td>
<td>
<p>A vector of colors that will be used for within the boxes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outCol</code></td>
<td>
<p>The color of the outer box. Default is black.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>density</code></td>
<td>
<p>The density of lines within the boxes. By default it is equal to -1, which means the boxes are filled with color.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p>The type of lines for the border of the boxes. Default is 1 (solid line).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch</code></td>
<td>
<p>The patch of the outliers. Default is 18.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>addLegend</code></td>
<td>
<p>Default is <code>TRUE</code>. Should a legend be added at the top of the graph is there is more than one moderator?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend_options</code></td>
<td>
<p>A list. Other options to be passed to <code>legend</code> which
concerns the legend for the moderator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>The width of the lines making the boxes. Default is 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outlier</code></td>
<td>
<p>Default is <code>TRUE</code>. Should the outliers be displayed?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dict</code></td>
<td>
<p>A dictionnary to rename the variables names in the axes and legend.
Should be a named vector. By default it s the value of <code>getFplot_dict()</code>,
which you can set with the function <code>setFplot_dict</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dict_case</code></td>
<td>
<p>A named character vector. If provided, it changes the values of the variable ‘case’ to the ones contained in the vector <code>dict_case</code>. Example: I want to change my variable named "a" to "Australia" and "b" to "Brazil", then I used <code>dict=c(a="Australia",b="Brazil")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dict_moderator</code></td>
<td>
<p>A named character vector. If provided, it changes the values of the variable ‘moderator’ to the ones contained in the vector <code>dict_moderator</code>. Example: I want to change my variable named "a" to "Australia" and "b" to "Brazil", then I used <code>dict=c(a="Australia",b="Brazil")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order_case</code></td>
<td>
<p>Character vector. This element is used if the user wants the ‘case’ values to be ordered in a certain way. This should be a regular expression (see <code>regex</code> help for more info). There can be more than one regular expression. The variables satisfying the first regular expression will be placed first, then the order follows the sequence of regular expressions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order_moderator</code></td>
<td>
<p>Character vector. This element is used if the user wants the ‘moderator’ values to be ordered in a certain way. This should be a regular expression (see <code>regex</code> help for more info). There can be more than one regular expression. The variables satisfying the first regular expression will be placed first, then the order follows the sequence of regular expressions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>addMean</code></td>
<td>
<p>Whether to add the average for each boxplot. Default is true.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean.col</code></td>
<td>
<p>The color of the mean. Default is darkred.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean.pch</code></td>
<td>
<p>The patch of the mean, default is 18.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean.cex</code></td>
<td>
<p>The cex of the mean, default is 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mod.title</code></td>
<td>
<p>Character scalar. The title of the legend in case there is a
moderator. You can set it to <code>TRUE</code> (the default) to display the moderator
name. To display no title, set it to <code>NULL</code> or <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels.tilted</code></td>
<td>
<p>Whether there should be tilted labels. Default is <code>FALSE</code>
except when the data is split by moderators (see <code>mod.method</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trunc</code></td>
<td>
<p>If the main variable is a character, its values are truncaded to
<code>trunc</code> characters. Default is 20. You can set the truncation method with
the argument <code>trunc.method</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trunc.method</code></td>
<td>
<p>If the elements of the x-axis need to be truncated, this
is the truncation method. It can be "auto", "right" or "mid".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>line.max</code></td>
<td>
<p>Option for the x-axis, how far should the labels go. Default is 1 for normal labels, 2 for tilted labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other parameters to be passed to <code>plot</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Invisibly returns the coordinates of the x-axis.
</p>


<h3>Author(s)</h3>

<p>Laurent Berge
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Simple iris boxplot
plot(1:10)

# All numeric variables
plot_box(. ~ 1, iris)

# All numeric variable / splitting by species
plot_box(. ~ Species, iris)

# idem but with renaming
plot_box(. ~ Species, iris, dict = c(Species="Iris species",
         setosa="SETOSA", Petal.Width="Width (Petal)"))

# Now using two moderators
base = iris
base$period = sample(1:4, 150, TRUE)

plot_box(Petal.Length ~ period | Species, base)





</code></pre>


</div>