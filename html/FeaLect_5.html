<div class="container">

<table style="width: 100%;"><tr>
<td>FeaLect</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Computes the scores of the features. 
</h2>

<h3>Description</h3>

<p>Several random subsets are sampled from the input data and for each random subset, various linear models are fitted using lars method. 
A score is assigned to each feature based on the tendency of LASSO in including that feature in the models.
Finally, the average score and the models are returned as the output.
</p>


<h3>Usage</h3>

<pre><code class="language-R">FeaLect(F, L, maximum.features.num = dim(F)[2], total.num.of.models, gamma = 3/4, 
	   persistence = 1000, talk = FALSE, minimum.class.size = 2, 
	   report.fitting.failure = FALSE, return_linear.models = TRUE, balance = TRUE,
	   replace = TRUE, plot.scores = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>F</code></td>
<td>

<p>The feature matrix, each column is a feature.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L</code></td>
<td>

<p>The vector of labels named according to the rows of F.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maximum.features.num</code></td>
<td>
 
<p>Upto this number of features are allowed to contribute to each linear model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>total.num.of.models</code></td>
<td>

<p>The total number of models that are fitted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>

<p>A value in range 0-1 that determines the relative size of sample subsets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>persistence</code></td>
<td>

<p>Maximum number of tries for randomly choosing.samples,
If we try this many times and the obtained labels are all the same,
we give up (maybe the whole labels are the same) with the error message: " Not enough variation in the labels...".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>talk</code></td>
<td>

<p>If TRUE, some messages are printed during the computations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minimum.class.size</code></td>
<td>

<p>The size of both positive and negative classes should be greater than this threshold after sampling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>report.fitting.failure</code></td>
<td>

<p>If TRUE, any failure in fitting the linear of logistic models will be printed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_linear.models</code></td>
<td>

<p>The models are memory intensive, so for if they more than 1000, we may decide to ignore them to prevent memory outage.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>balance</code></td>
<td>

<p>If TRUE, the cases will be balanced for the same number of positive vs. negatives by oversampling before fitting the linear model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace</code></td>
<td>

<p>If TRUE, the subsets are sampled with replacement.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.scores</code></td>
<td>

<p>If TRUE, the scores are plotted in logarithmic scale after each iteration.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>See the reference for more details.</p>


<h3>Value</h3>

<p>Returns a list of: 
</p>
<table>
<tr style="vertical-align: top;">
<td><code>log.scores</code></td>
<td>
<p>A vector containing the logarithm of final scores.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feature.matrix</code></td>
<td>
<p>The input feature matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>The input labels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>total.num.of.models</code></td>
<td>
<p>The total number of models that are fitted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maximum.features.num</code></td>
<td>
<p>Upto this number of features are allowed to contribute to each linear model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feature.scores.history</code></td>
<td>
<p>The matrix of history of feature scores where column i contains the scores after i runs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num.of.features.score</code></td>
<td>
<p>A vector, entry i contains the number of times that i has been the best number of features.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>best.feature.num</code></td>
<td>
<p> The i'th value of this vector is the best number of features for the i'th model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mislabeling.record</code></td>
<td>
<p> A vector that keeps track of the frequency of mislabelling for each cases.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>doctors</code></td>
<td>
<p>List of all models which are created by train.doctor() function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>best.features.intersection</code></td>
<td>
<p> Best features are computed for each sampling and their intersection is reported as this vector of features names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>features.with.best.global.error</code></td>
<td>
<p> A list containing the sets of features. The set i was the best for i'th sampling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.taken</code></td>
<td>
<p>Total time used for executing this function.</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>Logistic regression is also done on top of fitting the linear models.</p>


<h3>Author(s)</h3>

<p>Habil Zare</p>


<h3>References</h3>

<p>"Statistical Analysis of Overfitting Features", manuscript in preparation.</p>


<h3>See Also</h3>

<p><code>FeaLect</code>, <code>train.doctor</code>, <code>doctor.validate</code>, 
<code>random.subset</code>, <code>compute.balanced</code>,<code>compute.logistic.score</code>, 
<code>ignore.redundant</code>, <code>input.check.FeaLect</code></p>


<h3>Examples</h3>

<pre><code class="language-R">library(FeaLect)
data(mcl_sll)
F &lt;- as.matrix(mcl_sll[ ,-1])	# The Feature matrix
L &lt;- as.numeric(mcl_sll[ ,1])	# The labels
names(L) &lt;- rownames(F)
message(dim(F)[1], " samples and ",dim(F)[2], " features.")

## For this data, total.num.of.models is suggested to be at least 100.
FeaLect.result &lt;-FeaLect(F=F,L=L,maximum.features.num=10,total.num.of.models=20,talk=TRUE)	

</code></pre>


</div>