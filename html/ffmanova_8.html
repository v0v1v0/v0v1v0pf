<div class="container">

<table style="width: 100%;"><tr>
<td>xy_Obj</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creation of a design-with-responses object</h2>

<h3>Description</h3>

<p>The function takes an object created by <code>x_Obj</code> as input and add
response values. Further initial computations for prediction and testing is
made.
</p>


<h3>Usage</h3>

<pre><code class="language-R">xy_Obj(xObj, Y)

ffModelObj(
  xObj,
  Y,
  modelMatrix,
  modelTerms,
  model,
  xlev,
  scaleY,
  scaleX,
  centerX,
  isIntercept,
  returnY = FALSE,
  returnYhat = FALSE,
  returnYhatStd = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xObj</code></td>
<td>
<p>object created by <code>x_Obj</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>response matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modelMatrix</code></td>
<td>
<p>Model matrix (output from <code>model.matrix</code>) to be included in output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modelTerms</code></td>
<td>
<p>Model terms (model frame attribute) to be included in output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scaleY</code></td>
<td>
<p>Values used to scale Y (see <code>stdize</code>) to be included in output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scaleX</code></td>
<td>
<p>Values used to scale the model matrix (see <code>stdize</code>) to be included in output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>centerX</code></td>
<td>
<p>Values used to center the model matrix (see <code>stdize</code>) to be included in output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>isIntercept</code></td>
<td>
<p>A logical (whether model has intercept) to be included in output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>returnY</code></td>
<td>
<p>Matrix <code>Y</code> (as input) in output when TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>returnYhat</code></td>
<td>
<p>Matrix <code>Yhat</code> of fitted values corresponding to <code>Y</code> in output when TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>returnYhatStd</code></td>
<td>
<p>Standard errors, <code>YhatStd</code>, in output when TRUE.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Traditionally, sums of squares and cross-products (SSC) is the multivariate
generalisation of sums of squares. When there is a large number of responses
this representation is inefficient and therefore linear combinations of
observations (Langsrud, 2002) is stored instead, such as <code>errorObs</code>.
The corresponding SSC matrix can be obtained by
<code>t(errorObs)%*%errorObs</code>. When there is a large number of observations
the errorObs representation is also inefficient, but it these cases it is
possible to chose a representation with several zero rows. Then, errorObs is
stored as a two-component list: A matrix containing the nonzero rows of
errorObs and an integer representing the degrees of freedom for error
(number of rows in the full errorObs matrix).
</p>


<h3>Value</h3>

<p>A list with components </p>
<table>
<tr style="vertical-align: top;">
<td><code>xObj</code></td>
<td>
<p>same as input</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>same as
input</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ssTotFull</code></td>
<td>
<p>equals <code>sum(Y^2)</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ssTot</code></td>
<td>
<p>equals
<code>sum((center(Y))^2)</code>. That is, the total sum of squares summed over all
responses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ss</code></td>
<td>
<p>Sums of squares summed over all responses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Beta</code></td>
<td>
<p>Output from <code>linregEst</code> where <code>xObj$D_om</code> is the
regressor matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Yhat</code></td>
<td>
<p>fitted values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>YhatStd</code></td>
<td>
<p>standard
deviations of fitted values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>msError</code></td>
<td>
<p>mean square error of each
response</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>errorObs</code></td>
<td>
<p>Error observations that can be used in
multivariate testing</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hypObs</code></td>
<td>
<p>Hypothesis observations that can be used
in multivariate testing</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p><code>ffModelObj</code> is a rewrite of <code>xy_Obj</code> with additional elements in output corresponding 
to the additional parameters in input. Furthermore, <code>Y</code> and <code>YhatStd</code> is by default not included in output.
</p>


<h3>Author(s)</h3>

<p>Øyvind Langsrud and Bjørn-Helge Mevik
</p>


<h3>References</h3>

<p>Langsrud, Ø. (2002) 50-50 Multivariate Analysis of Variance for
Collinear Responses.  <em>The Statistician</em>, <b>51</b>, 305–317.
</p>


</div>