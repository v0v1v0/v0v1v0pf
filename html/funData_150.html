<div class="container">

<table style="width: 100%;"><tr>
<td>sparsify</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate a sparse version of functional data objects</h2>

<h3>Description</h3>

<p>This function generates an artificially sparsified version of a functional
data object of class <code>funData</code> (univariate) or
<code>multiFunData</code> (multivariate). The minimal and maximal number
of observation points for all observations can be supplied by the user.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sparsify(funDataObject, minObs, maxObs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>funDataObject</code></td>
<td>
<p>A functional data object of class
<code>funData</code> or <code>multiFunData</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minObs, maxObs</code></td>
<td>
<p>The minimal/maximal number of observation points. Must be a scalar for
univariate functional data (<code>funData</code> class) or a
vector of the same length as <code>funDataObject</code> for multivariate
functional data (<code>multiFunData</code> class), giving the
minimal/maximal number of observations for each element. See Details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The technique for artificially sparsifying the data is as described in Yao et
al. (2005): For each element <code class="reqn">x_i^{(j)}</code> of an observed
(multivariate) functional data object <code class="reqn">x_i</code>, a random number
<code class="reqn">R_i^{(j)} \in \{\mathrm{minObs}, \ldots, \mathrm{maxObs}\}</code> of observation points is generated. The points
are sampled uniformly from the full grid <code class="reqn">\{t_{j,1} , \ldots , t_{j,
S_j}\} \subset \mathcal{T}_j</code>, resulting in
observations </p>
<p style="text-align: center;"><code class="reqn"> x_{i,r}^{(j)} = x_i^{(j)}(t_{j,r}), \quad r = 1
,\ldots,R_i^{(j)},~ j = 1, \ldots, p.</code>
</p>



<h3>Value</h3>

<p>An object of the same class as <code>funDataObject</code>, which is a
sparse version of the original data.
</p>


<h3>Warning</h3>

<p>This function is currently implemented for 1D data only.
</p>


<h3>References</h3>

<p>Yao, F., H.-G. Mueller and J.-L. Wang (2005): Functional Data
Analysis for Sparse Longitudinal Data. Journal of the American Statistical
Association, 100 (470), 577â€“590.
</p>


<h3>See Also</h3>

<p><code>funData</code>, <code>multiFunData</code>,
<code>simFunData</code>, <code>simMultiFunData</code>,
<code>addError</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">oldPar &lt;- par(no.readonly = TRUE)
par(mfrow = c(1,1))
set.seed(1)

# univariate functional data
full &lt;- simFunData(argvals = seq(0,1, 0.01), M = 10, eFunType = "Fourier",
                   eValType = "linear", N = 3)$simData
sparse &lt;- sparsify(full, minObs = 4, maxObs = 10)

plot(full, main = "Sparsify")
plot(sparse, type = "p", pch = 20, add = TRUE)
legend("topright", c("Full", "Sparse"), lty = c(1, NA), pch = c(NA, 20))

# Multivariate
full &lt;- simMultiFunData(type = "split", argvals = list(seq(0,1, 0.01), seq(-.5,.5, 0.02)),
                        M = 10, eFunType = "Fourier", eValType = "linear", N = 3)$simData
sparse &lt;- sparsify(full, minObs = c(4, 30), maxObs = c(10, 40))

par(mfrow = c(1,2))
plot(full[[1]], main = "Sparsify (multivariate)", sub = "minObs = 4, maxObs = 10")
plot(sparse[[1]], type = "p", pch = 20, add = TRUE)

plot(full[[2]], main = "Sparsify (multivariate)", sub = "minObs = 30, maxObs = 40")
plot(sparse[[2]], type = "p", pch = 20, add = TRUE)
legend("bottomright", c("Full", "Sparse"), lty = c(1, NA), pch = c(NA, 20))

par(oldPar)
</code></pre>


</div>