<div class="container">

<table style="width: 100%;"><tr>
<td>cent_cosums</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Multivariate centered sums; join and unjoined.</h2>

<h3>Description</h3>

<p>Compute, join, or unjoin multivariate centered (co-) sums.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cent_cosums(v, max_order = 2L, na_omit = FALSE)

cent_comoments(v, max_order = 2L, used_df = 0L, na_omit = FALSE)

join_cent_cosums(ret1, ret2)

unjoin_cent_cosums(ret3, ret2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>an <code class="reqn">m</code> by <code class="reqn">n</code> matrix, each row an independent observation of some
<code class="reqn">n</code> variate variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_order</code></td>
<td>
<p>the maximum order of cosum to compute. For now this can only be
2; in the future higher order cosums should be possible.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na_omit</code></td>
<td>
<p>a boolean; if <code>TRUE</code>, then only rows of <code>v</code> with complete
observations will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>used_df</code></td>
<td>
<p>the number of degrees of freedom consumed, used in the denominator
of the centered moments computation. These are subtracted from the number of
observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ret1</code></td>
<td>
<p>a multdimensional array as output by <code>cent_cosums</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ret2</code></td>
<td>
<p>a multdimensional array as output by <code>cent_cosums</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ret3</code></td>
<td>
<p>a multdimensional array as output by <code>cent_cosums</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a multidimensional arry of dimension <code>max_order</code>, each side of length
<code class="reqn">1+n</code>. For the case currently implemented where <code>max_order</code> must be 2, the
output is a symmetric matrix, where the element in the <code>1,1</code> position is the count of 
complete) rows of <code>v</code>, the <code>2:(n+1),1</code> column is the mean, and the
<code>2:(n+1),2:(n+1)</code> is the co <em>sums</em> matrix, which is the covariance up to scaling
by the count. <code>cent_comoments</code> performs this normalization for you.
</p>


<h3>Note</h3>

<p>The moment computations provided by fromo are 
numerically robust, but will often <em>not</em> provide the
same results as the 'standard' implementations,
due to differences in roundoff. We make every attempt to balance
speed and robustness. User assumes all risk from using
the fromo package.
</p>


<h3>Author(s)</h3>

<p>Steven E. Pav <a href="mailto:shabbychef@gmail.com">shabbychef@gmail.com</a>
</p>


<h3>References</h3>

<p>Terriberry, T. "Computing Higher-Order Moments Online."
<a href="http://people.xiph.org/~tterribe/notes/homs.html">http://people.xiph.org/~tterribe/notes/homs.html</a>
</p>
<p>J. Bennett, et. al., "Numerically Stable, Single-Pass, 
Parallel Statistics Algorithms," Proceedings of IEEE
International Conference on Cluster Computing, 2009.
<a href="https://www.semanticscholar.org/paper/Numerically-stable-single-pass-parallel-statistics-Bennett-Grout/a83ed72a5ba86622d5eb6395299b46d51c901265">https://www.semanticscholar.org/paper/Numerically-stable-single-pass-parallel-statistics-Bennett-Grout/a83ed72a5ba86622d5eb6395299b46d51c901265</a>
</p>
<p>Cook, J. D. "Accurately computing running variance."
<a href="http://www.johndcook.com/standard_deviation.html">http://www.johndcook.com/standard_deviation.html</a>
</p>
<p>Cook, J. D. "Comparing three methods of computing 
standard deviation."
<a href="http://www.johndcook.com/blog/2008/09/26/comparing-three-methods-of-computing-standard-deviation">http://www.johndcook.com/blog/2008/09/26/comparing-three-methods-of-computing-standard-deviation</a>
</p>


<h3>See Also</h3>

<p>cent_sums
</p>


<h3>Examples</h3>

<pre><code class="language-R">
 set.seed(1234)
 x1 &lt;- matrix(rnorm(1e3*5,mean=1),ncol=5)
 x2 &lt;- matrix(rnorm(1e3*5,mean=1),ncol=5)
 max_ord &lt;- 2L
 rs1 &lt;- cent_cosums(x1,max_ord)
 rs2 &lt;- cent_cosums(x2,max_ord)
 rs3 &lt;- cent_cosums(rbind(x1,x2),max_ord)
 rs3alt &lt;- join_cent_cosums(rs1,rs2)
 stopifnot(max(abs(rs3 - rs3alt)) &lt; 1e-7)
 rs1alt &lt;- unjoin_cent_cosums(rs3,rs2)
 rs2alt &lt;- unjoin_cent_cosums(rs3,rs1)
 stopifnot(max(abs(rs1 - rs1alt)) &lt; 1e-7)
 stopifnot(max(abs(rs2 - rs2alt)) &lt; 1e-7)

</code></pre>


</div>