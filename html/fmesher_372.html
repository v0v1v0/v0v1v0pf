<div class="container">

<table style="width: 100%;"><tr>
<td>fm_simplify_helper</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Recursive curve simplification.</h2>

<h3>Description</h3>

<p>Helper from legacy <code>INLA::inla.simplify.curve()</code>
</p>
<p>Attempts to simplify a polygonal curve by joining nearly colinear segments.
</p>
<p>Uses a variation of the binary splitting Ramer-Douglas-Peucker algorithm,
with an ellipse of half-width <code>eps</code> ellipse instead of a rectangle, motivated by
prediction ellipse for Brownian bridge.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fm_simplify_helper(loc, idx, eps = NULL, eps_rel = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>loc</code></td>
<td>
<p>Coordinate matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>idx</code></td>
<td>
<p>Index vector into <code>loc</code> specifying a polygonal curve.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eps</code></td>
<td>
<p>Absolute straightness tolerance. Default <code>NULL</code>, no constraint.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eps_rel</code></td>
<td>
<p>Relative straightness tolerance. Default <code>NULL</code>, no constraint.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Variation of Ramer-Douglas-Peucker.
Uses width epsilon ellipse instead of rectangle,
motivated by prediction ellipse for Brownian bridge.
</p>


<h3>Value</h3>

<p>An index vector into <code>loc</code> specifying the simplified polygonal
curve.
</p>


<h3>Author(s)</h3>

<p>Finn Lindgren <a href="mailto:finn.lindgren@gmail.com">finn.lindgren@gmail.com</a>
</p>


<h3>See Also</h3>

<p>Other nonconvex inla legacy support: 
<code>fm_nonconvex_hull_inla()</code>,
<code>fm_segm_contour_helper()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
theta &lt;- seq(0, 2 * pi, length.out = 1000)
loc &lt;- cbind(cos(theta), sin(theta))
idx &lt;- fm_simplify_helper(loc = loc, idx = 1:nrow(loc), eps = 0.01)
print(c(nrow(loc), length(idx)))
plot(loc, type = "l")
lines(loc[idx, ], col = "red")
</code></pre>


</div>