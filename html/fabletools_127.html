<div class="container">

<table style="width: 100%;"><tr>
<td>new_model_class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a new class of models</h2>

<h3>Description</h3>

<p>Suitable for extension packages to create new models for fable.
</p>


<h3>Usage</h3>

<pre><code class="language-R">new_model_class(
  model = "Unknown model",
  train = function(.data, formula, specials, ...)
    abort("This model has not defined a training method."),
  specials = new_specials(),
  check = function(.data) {
 },
  prepare = function(...) {
 },
  ...,
  .env = caller_env(),
  .inherit = model_definition
)

new_model_definition(.class, formula, ..., .env = caller_env(n = 2))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>The name of the model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>train</code></td>
<td>
<p>A function that trains the model to a dataset. <code>.data</code> is a tsibble
containing the data's index and response variables only. <code>formula</code> is the
user's provided formula. <code>specials</code> is the evaluated specials used in the formula.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>specials</code></td>
<td>
<p>Special functions produced using <code>new_specials()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>A function that is used to check the data for suitability with
the model. This can be used to check for missing values (both implicit and
explicit), regularity of observations, ordered time index, and univariate
responses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prepare</code></td>
<td>
<p>This allows you to modify the model class according to user
inputs. <code>...</code> is the arguments passed to <code>new_model_definition</code>, allowing
you to perform different checks or training procedures according to different
user inputs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments to <code>R6::R6Class()</code>. This can be useful to set up
additional elements used in the other functions. For example, to use
<code>common_xregs</code>, an <code>origin</code> element in the model is used to store
the origin for <code>trend()</code> and <code>fourier()</code> specials. To use these specials, you
must add an <code>origin</code> element to the object (say with <code>origin = NULL</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.env</code></td>
<td>
<p>The environment from which functions should inherit from.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.inherit</code></td>
<td>
<p>A model class to inherit from.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.class</code></td>
<td>
<p>A model class (typically created with <code>new_model_class()</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>The user's model formula.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function produces a new R6 model definition. An understanding of R6 is
not required, however could be useful to provide more sophisticated model
interfaces. All functions have access to <code>self</code>, allowing the functions for
training the model and evaluating specials to access the model class itself.
This can be useful to obtain elements set in the %TODO
</p>


</div>