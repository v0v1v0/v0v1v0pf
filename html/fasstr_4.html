<div class="container">

<table style="width: 100%;"><tr>
<td>add_cumulative_volume</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add a daily cumulative volumetric flows column to daily flows</h2>

<h3>Description</h3>

<p>Add a column of rolling daily cumulative volumetric flows on an annual basis to a daily streamflow data set. Adds the 
volumetric discharge from each day with the previous day(s) for each year, in units of cubic metres. 
The cumulative flows restart every year and are only calculated in years with complete data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_cumulative_volume(
  data,
  dates = Date,
  values = Value,
  groups = STATION_NUMBER,
  station_number,
  water_year_start = 1,
  months = 1:12
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data frame of daily data that contains columns of dates, flow values, and (optional) groups (e.g. station numbers).
Leave blank or set to <code>NULL</code> if using <code>station_number</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dates</code></td>
<td>
<p>Name of column in <code>data</code> that contains dates formatted YYYY-MM-DD. Only required if dates column name is not 
'Date' (default). Leave blank or set to <code>NULL</code> if using <code>station_number</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>values</code></td>
<td>
<p>Name of column in <code>data</code> that contains numeric flow values, in units of cubic metres per second.
Only required if values column name is not 'Value' (default). Leave blank if using <code>station_number</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groups</code></td>
<td>
<p>Name of column in <code>data</code> that contains unique identifiers for different data sets, if applicable. Only required 
if groups column name is not 'STATION_NUMBER'. Function will automatically group by a column named 'STATION_NUMBER' if 
present. Remove the 'STATION_NUMBER' column beforehand to remove this grouping. Leave blank if using <code>station_number</code> 
argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>station_number</code></td>
<td>
<p>Character string vector of seven digit Water Survey of Canada station numbers (e.g. <code>"08NM116"</code>) of
which to extract daily streamflow data from a HYDAT database. Requires <code>tidyhydat</code> package and a HYDAT database.
Leave blank if using <code>data</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>water_year_start</code></td>
<td>
<p>Numeric value indicating the month (<code>1</code> through <code>12</code>) of the start of water year for
analysis. Default <code>1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>months</code></td>
<td>
<p>Numeric vector of months to add cumulative flows (e.g. <code>6:8</code> for Jun-Aug). Default accumulates 
to full years using all months (<code>1:12</code>).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A tibble data frame of the source data with an additional column:
</p>
<table><tr style="vertical-align: top;">
<td><code>Cumul_Volume_m3</code></td>
<td>
<p>cumulative volumetric flows for each day for each year, in units of cubic metres</p>
</td>
</tr></table>
<h3>Examples</h3>

<pre><code class="language-R"># Run if HYDAT database has been downloaded (using tidyhydat::download_hydat())
if (file.exists(tidyhydat::hy_downloaded_db())) {

# Add a column based on water years starting in August
add_cumulative_volume(station_number = "08NM116", 
                      water_year_start = 8)
                      
}
</code></pre>


</div>