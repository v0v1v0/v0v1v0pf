<div class="container">

<table style="width: 100%;"><tr>
<td>summary_factorlist</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Summarise a set of factors (or continuous variables) by a dependent variable</h2>

<h3>Description</h3>

<p>A function that takes a single dependent variable with a vector of
explanatory variable names (continuous or categorical variables) to produce a
summary table.
</p>


<h3>Usage</h3>

<pre><code class="language-R">summary_factorlist(
  .data,
  dependent = NULL,
  explanatory = NULL,
  formula = NULL,
  cont = "mean",
  cont_nonpara = NULL,
  cont_cut = 5,
  cont_range = TRUE,
  p = FALSE,
  p_cont_para = "aov",
  p_cat = "chisq",
  column = TRUE,
  total_col = FALSE,
  orderbytotal = FALSE,
  digits = c(1, 1, 3, 1, 0),
  na_include = FALSE,
  na_include_dependent = FALSE,
  na_complete_cases = FALSE,
  na_to_p = FALSE,
  na_to_prop = TRUE,
  fit_id = FALSE,
  add_dependent_label = FALSE,
  dependent_label_prefix = "Dependent: ",
  dependent_label_suffix = "",
  add_col_totals = FALSE,
  include_col_totals_percent = TRUE,
  col_totals_rowname = NULL,
  col_totals_prefix = "",
  add_row_totals = FALSE,
  include_row_totals_percent = TRUE,
  include_row_missing_col = TRUE,
  row_totals_colname = "Total N",
  row_missing_colname = "Missing N",
  catTest = NULL,
  weights = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>Dataframe.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dependent</code></td>
<td>
<p>Character vector of length 1:  name of dependent variable (2
to 5 factor levels).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>explanatory</code></td>
<td>
<p>Character vector of any length: name(s) of explanatory
variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>an object of class "formula" (or one that can be coerced to 
that class). Optional instead of standard dependent/explanatory format. 
Do not include if using dependent/explanatory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cont</code></td>
<td>
<p>Summary for continuous explanatory variables: "mean" (standard
deviation) or "median" (interquartile range). If "median" then
non-parametric hypothesis test performed (see below).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cont_nonpara</code></td>
<td>
<p>Numeric vector of form e.g. <code>c(1,2)</code>. Specify which
variables to perform non-parametric hypothesis tests on and summarise with
"median".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cont_cut</code></td>
<td>
<p>Numeric: number of unique values in continuous variable at
which to consider it a factor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cont_range</code></td>
<td>
<p>Logical. Median is show with 1st and 3rd quartiles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>Logical: Include null hypothesis statistical test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_cont_para</code></td>
<td>
<p>Character. Continuous variable parametric test. One of
either "aov" (analysis of variance) or "t.test" for Welch two sample
t-test. Note continuous non-parametric test is always Kruskal Wallis
(kruskal.test) which in two-group setting is equivalent to Mann-Whitney U
/Wilcoxon rank sum test.
</p>
<p>For continous dependent and continuous explanatory, the parametric test
p-value returned is for the Pearson correlation coefficient. The
non-parametric equivalent is for the p-value for the Spearman correlation
coefficient.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_cat</code></td>
<td>
<p>Character. Categorical variable test. One of either "chisq" or
"fisher".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>column</code></td>
<td>
<p>Logical: Compute margins by column rather than row.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>total_col</code></td>
<td>
<p>Logical: include a total column summing across factor
levels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>orderbytotal</code></td>
<td>
<p>Logical: order final table by total column high to low.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Number of digits to round to (1) mean/median, (2) standard
deviation / interquartile range, (3) p-value, (4) count percentage, 
(5) weighted count.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na_include</code></td>
<td>
<p>Logical: make explanatory variables missing data explicit
(<code>NA</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na_include_dependent</code></td>
<td>
<p>Logical: make dependent variable missing data
explicit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na_complete_cases</code></td>
<td>
<p>Logical: include only rows with complete data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na_to_p</code></td>
<td>
<p>Logical: include missing as group in statistical test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na_to_prop</code></td>
<td>
<p>Logical: include missing in calculation of column proportions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit_id</code></td>
<td>
<p>Logical: allows merging via <code>finalfit_merge</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_dependent_label</code></td>
<td>
<p>Add the name of the dependent label to the top
left of table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dependent_label_prefix</code></td>
<td>
<p>Add text before dependent label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dependent_label_suffix</code></td>
<td>
<p>Add text after dependent label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_col_totals</code></td>
<td>
<p>Logical. Include column total n.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_col_totals_percent</code></td>
<td>
<p>Include column percentage of total.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_totals_rowname</code></td>
<td>
<p>Logical. Row name for column totals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_totals_prefix</code></td>
<td>
<p>Character. Prefix to column totals, e.g. "N=".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_row_totals</code></td>
<td>
<p>Logical. Include row totals. Note this differs from
<code>total_col</code> above particularly for continuous explanatory variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_row_totals_percent</code></td>
<td>
<p>Include row percentage of total.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_row_missing_col</code></td>
<td>
<p>Logical. Include missing data total for each
row. Only used when <code>add_row_totals</code> is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>row_totals_colname</code></td>
<td>
<p>Character. Column name for row totals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>row_missing_colname</code></td>
<td>
<p>Character. Column name for missing data totals for
each row.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>catTest</code></td>
<td>
<p>Deprecated. See <code>p_cat</code> above.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>Character vector of length 1: name of column to use for weights. 
Explanatory continuous variables are multiplied by weights. 
Explanatory categorical variables are counted with a frequency weight (sum(weights)).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function aims to produce publication-ready summary tables for
categorical or continuous dependent variables. It usually takes a categorical
dependent variable to produce a cross table of counts and proportions
expressed as percentages or summarised continuous explanatory variables.
However, it will take a continuous dependent variable to produce mean
(standard deviation) or median (interquartile range) for use with linear
regression models.
</p>


<h3>Value</h3>

<p>Returns a <code>factorlist</code> dataframe.
</p>


<h3>See Also</h3>

<p><code>fit2df</code> <code>ff_column_totals</code>
<code>ff_row_totals</code> <code>ff_label</code> <code>ff_glimpse</code>
<code>ff_percent_only</code>. For lots of examples, see <a href="https://finalfit.org/">https://finalfit.org/</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(finalfit)
library(dplyr)
# Load example dataset, modified version of survival::colon
data(colon_s)

# Table 1 - Patient demographics ----
explanatory = c("age", "age.factor", "sex.factor", "obstruct.factor")
dependent = "perfor.factor"
colon_s %&gt;%
  summary_factorlist(dependent, explanatory, p=TRUE)

# summary.factorlist() is also commonly used to summarise any number of
# variables by an outcome variable (say dead yes/no).

# Table 2 - 5 yr mortality ----
explanatory = c("age.factor", "sex.factor", "obstruct.factor", "perfor.factor")
dependent = "mort_5yr"
colon_s %&gt;%
  summary_factorlist(dependent, explanatory)
</code></pre>


</div>