<div class="container">

<table style="width: 100%;"><tr>
<td>commat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Commutation matrix</h2>

<h3>Description</h3>

<p>This function returns the (<code class="reqn">r c \times r c</code>)
commutation matrix <code class="reqn">\mathbf{P}</code> such that
<code class="reqn">\mathbf{P} \mbox{vec}(\mathbf{Y}) = \mbox{vec}(\mathbf{Y}'),</code>
where <code class="reqn">\mathbf{Y}</code> is a (<code class="reqn">r \times c</code>) matrix (Magnus and Neudecker, 2019).
</p>


<h3>Usage</h3>

<pre><code class="language-R">commat(r, c)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>Number of rows of <code class="reqn">\mathbf{Y}</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c</code></td>
<td>
<p>Number of columns of <code class="reqn">\mathbf{Y}</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A sparse (<code class="reqn">r c \times r c</code>) matrix, <code class="reqn">\mathbf{P}</code>.
</p>


<h3>References</h3>

<p>Magnus, J.R. and Neudecker, H. (2019), Matrix Differential Calculus with Applications
in Statistics and Econometrics, third edition, New York, Wiley, pp. 54-55.
</p>


<h3>See Also</h3>

<p>Utilities: 
<code>FoReco2matrix()</code>,
<code>aggts()</code>,
<code>balance_hierarchy()</code>,
<code>csprojmat()</code>,
<code>cstools()</code>,
<code>ctprojmat()</code>,
<code>cttools()</code>,
<code>df2aggmat()</code>,
<code>lcmat()</code>,
<code>recoinfo()</code>,
<code>res2matrix()</code>,
<code>shrink_estim()</code>,
<code>teprojmat()</code>,
<code>tetools()</code>,
<code>unbalance_hierarchy()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">Y &lt;- matrix(rnorm(30), 5, 6)
P &lt;- commat(5, 6)
P %*% as.vector(Y) == as.vector(t(Y)) # check

</code></pre>


</div>