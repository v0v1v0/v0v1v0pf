<div class="container">

<table style="width: 100%;"><tr>
<td>buildSpread</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Construct a price/level series for pre-defined multi-leg spread instrument</h2>

<h3>Description</h3>

<p>Build price series for spreads, butterflies, or other synthetic instruments, 
using metadata of a previously defined synthetic instrument.
</p>


<h3>Usage</h3>

<pre><code class="language-R">buildSpread(spread_id, Dates = NULL, onelot = TRUE, prefer = NULL,
  auto.assign = TRUE, env = .GlobalEnv)

buildBasket(spread_id, Dates = NULL, onelot = TRUE, prefer = NULL,
  auto.assign = TRUE, env = .GlobalEnv)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>spread_id</code></td>
<td>
<p>The name of the <code>instrument</code> that contains members and 
memberratio</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Dates</code></td>
<td>
<p>Date range on which to subset.  Also, if a member's data is not 
available via <code>get</code> <code>getSymbols</code> will be 
called, and the values of the <code>from</code> and <code>to</code> arguments will be 
determined using <code>.parseISO8601</code> on <code>Dates</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>onelot</code></td>
<td>
<p>Should the series be divided by the first leg's ratio?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prefer</code></td>
<td>
<p>Price column to use to build structure.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auto.assign</code></td>
<td>
<p>Assign the spread? If FALSE, the xts object will be 
returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>env</code></td>
<td>
<p>Environment holding data for members as well as where spread data
will be assigned.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The spread and all legs must be defined instruments.
</p>
<p>This function can build multileg spreads such as calendars, butterflies, 
condors, etc. However, the returned series will be univariate. It does not 
return multiple columns (e.g. ‘Bid’, ‘Ask’, ‘Mid’) like 
<code>fn_SpreadBuilder</code> does.
</p>
<p><code>buildBasket</code> is an alias
</p>
<p>TODO: allow for multiplier (divisor) that is a vector.
</p>


<h3>Value</h3>

<p>If <code>auto.assign</code> is FALSE, a univariate xts object. 
Otherwise, the xts object will be assigned to <code>spread_id</code> and the 
<code>spread_id</code> will be returned.
</p>


<h3>Note</h3>

<p>this could also be used to build a basket or a strip by using only 
positive values in memberratio
</p>


<h3>Author(s)</h3>

<p>Brian Peterson, Garrett See
</p>


<h3>See Also</h3>

<p><code>fn_SpreadBuilder</code>
<code>spread</code> for instructions on defining the spread
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
currency("USD")
stock("SPY","USD",1)
stock("DIA","USD",1)
getSymbols(c("SPY","DIA")) 

spread("SPYDIA", "USD", c("SPY","DIA"),c(1,-1)) #define it.
buildSpread('SPYDIA') #build it.
head(SPYDIA)


## End(Not run)
</code></pre>


</div>