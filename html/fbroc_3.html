<div class="container">

<table style="width: 100%;"><tr>
<td>boot.roc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bootstrap ROC curve</h2>

<h3>Description</h3>

<p><code>boot.roc</code> calculates the ROC curve, initializes the settings
and calculates the bootstrap results for the true and false
positive rate at every relevant threshold. Missing values are removed with 
a warning prior to bootstrapping.
</p>


<h3>Usage</h3>

<pre><code class="language-R">boot.roc(pred, true.class, stratify = TRUE, n.boot = 1000,
  use.cache = FALSE, tie.strategy = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pred</code></td>
<td>
<p>A numeric vector. Contains predictions. <code>boot.roc</code> assumes
that a high prediction is evidence for the observation belonging to the
positive class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>true.class</code></td>
<td>
<p>A logical vector. TRUE indicates the sample belonging to the
positive class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stratify</code></td>
<td>
<p>Logical. Indicates whether we use stratified bootstrap.
Default to TRUE. Non-stratified bootstrap is not yet implemented.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.boot</code></td>
<td>
<p>A number that will be coerced to integer. Specified the 
number of bootstrap replicates. Defaults to 1000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.cache</code></td>
<td>
<p>If true the bootstrapping results for the
ROC curve will be pre-cached. This increases speed when the object is used often, but also
takes up more memory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tie.strategy</code></td>
<td>
<p>How to handle ties. See details below.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of class <code>fbroc.roc</code>, containing the elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>prediction</code></td>
<td>
<p>Input predictions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>true.class</code></td>
<td>
<p>Input classes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>roc</code></td>
<td>
<p>A data.frame containing the thresholds of the ROC curve and the TPR and FPR at these
thresholds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.thresholds</code></td>
<td>
<p>Number of thresholds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.boot</code></td>
<td>
<p>Number of bootstrap replicates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.cache</code></td>
<td>
<p>Indicates if cache is used for this ROC object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tie.strategy</code></td>
<td>
<p>Used setting how to handle ties in predictors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.pos</code></td>
<td>
<p>Number of positive observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.neg</code></td>
<td>
<p>Number of negative observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auc</code></td>
<td>
<p>The AUC of the original ROC curve.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boot.tpr</code></td>
<td>
<p>If the cache is enabled, a matrix containing the bootstrapped TPR at the thresholds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boot.fpr</code></td>
<td>
<p>If the cache is enabled, a matrix containing the bootstrapped FPR at the thresholds.</p>
</td>
</tr>
</table>
<h3>Caching</h3>

<p>If you enable caching, <code>boot.roc</code> calculates the requested number of bootstrap samples and
saves the TPR and FPR values for each iteration. This can take up a sizable portion of memory,
but it speeds up subsequent operations. This can be useful if you plan to use the ROC curve
multiple <code>fbroc</code> functions.
</p>


<h3>Ties</h3>

<p>You can set this parameter to either 1 or 2. If your numerical predictor has no ties, both settings
will produce the same results. 
If you set <code>tie.strategy</code> to 1 the ROC curve is built by connecting the TPR/FPR pairs for
neighboring thresholds. A tie.strategy of 2 indicates that the TPR calculated at a specific FPR
is the best TPR at a FPR smaller than or equal than the FPR specified. Defaults to 2.
</p>


<h3>See Also</h3>

<p><a href="http://www.epeter-stats.de/roc-curves-and-ties/">http://www.epeter-stats.de/roc-curves-and-ties/</a>, <code>plot.fbroc.roc</code>, 
<code>print.fbroc.roc</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">y &lt;- rep(c(TRUE, FALSE), each = 500)
x &lt;- rnorm(1000) + y
result.boot &lt;- boot.roc(x, y)
</code></pre>


</div>