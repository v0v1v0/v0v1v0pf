<div class="container">

<table style="width: 100%;"><tr>
<td>FM_fetch_ds</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fetches Datasets from Modules in the App</h2>

<h3>Description</h3>

<p>Loops through each specified module ID or all modules if no ID
was specified. For each ID, an attempt will be made to extract any datasets
available.
</p>


<h3>Usage</h3>

<pre><code class="language-R">FM_fetch_ds(state, session, ids = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>state</code></td>
<td>
<p>Current module state after yaml file has been read</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>session</code></td>
<td>
<p>Shiny session variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ids</code></td>
<td>
<p>Vector of ID strings for the modules containing the datasets or
NULL for all datasets available.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>list containing the current dataset with the following format:
</p>

<ul>
<li>
<p>isgood: Boolean indicating the whether a dataset was found
(<code>FALSE</code>)
</p>
</li>
<li>
<p>ds: List of datasets with element names corresponding to the
R object name for that dataset. This has the following format
</p>

<ul>
<li>
<p>label:  Text label for the dataset (used to display to the user)
</p>
</li>
<li>
<p>DS:     Data frame with the dataset
</p>
</li>
<li>
<p>DSMETA: Data frame with metadata about the colunns of the
dataset in <code>DS</code>. The data frame should have the following columns:
</p>

<ul><li>
<p>col1: column 1
</p>
</li></ul>
</li>
<li>
<p>code: Code to generate the dataset.
</p>
</li>
<li>
<p>checksum: Module checksum when the dataset was pulled
</p>
</li>
<li>
<p>DSchecksum: Checksum of the dataframe in DS
</p>
</li>
</ul>
</li>
<li>
<p>catalog: Dataframe containing the a tabular catalog of the
datasets found.
</p>

<ul>
<li>
<p>label: Text label
</p>
</li>
<li>
<p>object: Name of the R Object containing the data frame
</p>
</li>
<li>
<p>MOD_TYPE: Short name of the type of module
</p>
</li>
<li>
<p>id: Module ID
</p>
</li>
<li>
<p>checksum: Module checksum
</p>
</li>
<li>
<p>DSchecksum: Checksum of the dataset
</p>
</li>
<li>
<p>code: Code to generate the dataset
</p>
</li>
</ul>
</li>
<li>
<p>modules: List with an entry for each module. The element name is
the short name. Each of these is a list with an entry that is the shiny module
ID. For each of these there is a checksum. For example to access the
checksum of a DW module with a  module ID of 'my_id', you would use the
following: <code>res$modules$DW$my_id</code>.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R"># We need a module state and a Shiny session variable
# to use this function:
id="UD"
sess_res = UD_test_mksession(session=list(), id=id)
session = sess_res$session
state   = sess_res$state
ds = FM_fetch_ds(state, session)
ds$catalog
</code></pre>


</div>