<div class="container">

<table style="width: 100%;"><tr>
<td>plot.standsurv</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot standardized metrics from a fitted flexsurv model</h2>

<h3>Description</h3>

<p>Plot standardized metrics such as the marginal survival, restricted mean 
survival and hazard, based on a fitted flexsurv model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'standsurv'
plot(x, contrast = FALSE, ci = FALSE, expected = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A standsurv object returned by <code>standsurv</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contrast</code></td>
<td>
<p>Should contrasts of standardized metrics be plotted. Defaults
to FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci</code></td>
<td>
<p>Should confidence intervals be plotted (if calculated in 
<code>standsurv</code>)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expected</code></td>
<td>
<p>Should the marginal expected survival / hazard also be 
plotted? This can only be invoked if <code>rmap</code> and <code>ratetable</code> have 
been passed to <code>standsurv</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Not currently used</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A ggplot showing the standardized metric calculated by 
<code>standsurv</code> over time. Modification of the plot is
possible by adding further ggplot objects, see Examples.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Use bc dataset, with an age variable appended
## mean age is higher in those with smaller observed survival times 
newbc &lt;- bc
newbc$age &lt;- rnorm(dim(bc)[1], mean = 65-scale(newbc$recyrs, scale=FALSE), 
sd = 5)

## Fit a Weibull flexsurv model with group and age as covariates
weib_age &lt;- flexsurvreg(Surv(recyrs, censrec) ~ group+age, data=newbc,
                       dist="weibull")
## Calculate standardized survival and the difference in standardized survival
## for the three levels of group across a grid of survival times
standsurv_weib_age &lt;- standsurv(weib_age,
                                           at = list(list(group="Good"),
                                                     list(group="Medium"),
                                                     list(group="Poor")),
                                           t=seq(0,7, length=100),
                                           contrast = "difference", ci=TRUE,
                                           boot = TRUE, B=10, seed=123)
plot(standsurv_weib_age)
plot(standsurv_weib_age) + ggplot2::theme_bw() + ggplot2::ylab("Survival") +
 ggplot2::xlab("Time (years)") + 
 ggplot2::guides(color=ggplot2::guide_legend(title="Prognosis"),
                               fill=ggplot2::guide_legend(title="Prognosis"))
plot(standsurv_weib_age, contrast=TRUE, ci=TRUE) + 
 ggplot2::ylab("Difference in survival") 
</code></pre>


</div>