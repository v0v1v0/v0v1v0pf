<div class="container">

<table style="width: 100%;"><tr>
<td>did_means</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Treated and control sample descriptives</h2>

<h3>Description</h3>

<p>This function shows the means and standard-deviations of several variables conditional on whether they are from the treated or the control group. The groups can further be split according to a pre/post variable. Results can be seamlessly be exported to Latex.
</p>


<h3>Usage</h3>

<pre><code class="language-R">did_means(
  fml,
  base,
  treat_var,
  post_var,
  tex = FALSE,
  treat_dict,
  dict = getFixest_dict(),
  file,
  replace = FALSE,
  title,
  label,
  raw = FALSE,
  indiv,
  treat_first,
  prepostnames = c("Before", "After"),
  diff.inv = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fml</code></td>
<td>
<p>Either a formula of the type <code>var1 + ... + varN ~ treat</code> or
<code>var1 + ... + varN ~ treat | post</code>. Either a data.frame/matrix containing
all the variables for which the means are to be computed (they must be numeric of course).
Both the treatment and the post variables must contain only exactly two values.
You can use a point to select all the variables of the data set: <code>. ~ treat</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base</code></td>
<td>
<p>A data base containing all the variables in the formula <code>fml</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treat_var</code></td>
<td>
<p>Only if argument <code>fml</code> is <em>not</em> a formula. The vector identifying
the treated and the control observations (the vector can be of any type but must
contain only two possible values). Must be of the same length as the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>post_var</code></td>
<td>
<p>Only if argument <code>fml</code> is <em>not</em> a formula. The vector identifying
the periods (pre/post) of the observations (the vector can be of any type but
must contain only two possible values). The first value (in the sorted sense)
of the vector is taken as the pre period. Must be of the same length as the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tex</code></td>
<td>
<p>Should the result be displayed in Latex? Default is <code>FALSE</code>. Automatically
set to <code>TRUE</code> if the table is to be saved in a file using the argument <code>file</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treat_dict</code></td>
<td>
<p>A character vector of length two. What are the names of the treated
and the control? This should be a dictionary: e.g. <code>c("1"="Treated", "0" = "Control")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dict</code></td>
<td>
<p>A named character vector. A dictionary between the variables names and an alias.
For instance <code>dict=c("x"="Inflation Rate")</code> would replace the variable name <code>x</code>
by “Inflation Rate”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>A file path. If given, the table is written in Latex into this file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace</code></td>
<td>
<p>Default is <code>TRUE</code>, which means that when the table is exported, the
existing file is not erased.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>Character string giving the Latex title of the table. (Only if exported.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>Character string giving the Latex label of the table. (Only if exported.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raw</code></td>
<td>
<p>Logical, default is <code>FALSE</code>. If <code>TRUE</code>, it returns the information without formatting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indiv</code></td>
<td>
<p>Either the variable name of individual identifiers, a one sided formula,
or a vector. If the data is that of a panel, this can be used to track the number
of individuals per group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treat_first</code></td>
<td>
<p>Which value of the 'treatment' vector should appear on the left?
By default the max value appears first (e.g. if the treatment variable is a 0/1 vector,
1 appears first).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prepostnames</code></td>
<td>
<p>Only if there is a 'post' variable. The names of the pre and post
periods to be displayed in Latex. Default is <code>c("Before", "After")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diff.inv</code></td>
<td>
<p>Logical, default to <code>FALSE</code>. Whether to inverse the difference.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>By default, when the user tries to apply this function to nun-numeric variables, an error is raised. The exception is when the all variables are selected with the dot (like in <code>. ~ treat</code>. In this case, non-numeric variables are automatically omitted (with a message).
</p>
<p>NAs are removed automatically: if the data contains NAs an information message will be prompted. First all observations containing NAs relating to the treatment or post variables are removed. Then if there are still NAs for the variables, they are excluded separately for each variable, and a new message detailing the NA breakup is prompted.
</p>


<h3>Value</h3>

<p>It returns a data.frame or a Latex table with the conditional means and statistical differences between the groups.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Playing around with the DiD data
data(base_did)

# means of treat/control
did_means(y+x1+period~treat, base_did)

# same but inverting the difference
did_means(y+x1+period~treat, base_did, diff.inv = TRUE)

# now treat/control, before/after
did_means(y+x1+period~treat|post, base_did)

# same but with a new line giving the number of unique "indiv" for each case
did_means(y+x1+period~treat|post, base_did, indiv = "id")

# same but with the treat case "0" coming first
did_means(y+x1+period~treat|post, base_did, indiv = ~id, treat_first = 0)

# Selecting all the variables with "."
did_means(.~treat|post, base_did, indiv = "id")


</code></pre>


</div>