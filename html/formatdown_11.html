<div class="container">

<table style="width: 100%;"><tr>
<td>format_numbers</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Format numbers</h2>

<h3>Description</h3>

<p>Convert a numeric vector to a character vector in which the numbers are
formatted in power-of-ten notation in scientific or engineering form and
delimited for rendering as inline equations in an R markdown document.
Decimal numbers can be similarly formatted, without the power-of-ten
notation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">format_numbers(
  x,
  digits = 4,
  format = "engr",
  ...,
  omit_power = c(-1, 2),
  set_power = NULL,
  delim = formatdown_options("delim"),
  size = formatdown_options("size"),
  decimal_mark = formatdown_options("decimal_mark"),
  big_mark = formatdown_options("big_mark"),
  big_interval = formatdown_options("big_interval"),
  small_mark = formatdown_options("small_mark"),
  small_interval = formatdown_options("small_interval"),
  whitespace = formatdown_options("whitespace")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Number or numbers to be formatted. Can be a single number, a vector,
or a column of a data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Integer from 1 through 20 that controls the number of
significant digits in printed numeric values. Passed to <code>signif()</code>.
Default is 4.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>Character, length 1, defines the type of notation. Possible
values are <code>"engr"</code> (default) for engineering power-of-ten notation,
<code>"sci"</code> for scientific power-of-ten notation, and <code>"dcml"</code> for decimal
notation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Not used for values; forces subsequent arguments to be
referable only by name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>omit_power</code></td>
<td>
<p>Numeric vector <code>c(p, q)</code> with <code>p &lt;= q</code>, specifying
the range of exponents over which power-of-ten notation is omitted in
either scientific or engineering format. Default is
<code>c(-1, 2)</code>. If a single value is assigned, i.e., <code>omit_power = p</code>, the
argument is interpreted as <code>c(p, p)</code>. If <code>NULL</code> or <code>NA</code>, all elements
are formatted in power-of-ten notation. Argument is overridden by
specifying <code>set_power</code> or decimal notation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>set_power</code></td>
<td>
<p>Integer, length 1. Formats all values in <code>x</code> with the same
power-of-ten exponent. Default NULL. Overrides <code>format</code> and <code>omit_power</code>
arguments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delim</code></td>
<td>
<p>Character, length 1 or 2, to define the left and right math
markup delimiters. The default setting, <code>delim = "$"</code>, produces
left and right delimiters <code style="white-space: pre;">⁠$...$⁠</code>. The alternate built-in
setting, <code>delim = "\("</code>, produces left and right delimiters
<code style="white-space: pre;">⁠\\( ... \\)⁠</code>. Custom delimiters can be assigned in a vector of
length 2 with left and right delimiter symbols, e.g.,
<code style="white-space: pre;">⁠c("\\[", "\\]")⁠</code>. Special characters typically must be escaped.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>Character, length 1, to assign a font size. If not empty, adds
a font size macro to the markup inside the math delimiters. Possible
values are <code>"scriptsize"</code>, <code>"small"</code>, <code>"normalsize"</code>, <code>"large"</code>, and
<code>"huge"</code>. One may also assign the equivalent LaTeX-style markup itself,
e.g., <code>"\\scriptsize"</code>, <code>"\\small"</code>, etc. Default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decimal_mark</code></td>
<td>
<p>Character, length 1, to assign the decimal marker.
Possible values are a period <code>"."</code> (default) or a comma <code>","</code>. Passed
to <code>formatC(decimal.mark)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>big_mark</code></td>
<td>
<p>Character, length 1, used as the mark between every
<code>big_interval</code> number of digits to the left of the decimal marker to
improve readability. Possible values are empty <code>""</code> (default) or
<code>"thin"</code> to produce a LaTeX-style thin, horizontal space. One may also
assign the thin-space markup itself <code>"\\\\,"</code>.
Passed to <code>formatC(big.mark)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>big_interval</code></td>
<td>
<p>Integer, length 1, that defines the number of digits
(default 3) in groups separated by <code>big_mark</code>. Passed to
<code>formatC(big.interval)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>small_mark</code></td>
<td>
<p>Character, length 1, used as the mark between every
<code>small_interval</code> number of digits to the right of the decimal marker to
improve readability. Possible values are empty <code>""</code> (default) or
<code>"thin"</code> to produce a LaTeX-style thin, horizontal space. One may also
assign the thin-space markup itself <code>"\\\\,"</code>.
Passed to <code>formatC(small.mark)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>small_interval</code></td>
<td>
<p>Integer, length 1, that defines the number of digits
(default 5) in groups separated by <code>small_mark</code>. Passed to
<code>formatC(small.interval)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>whitespace</code></td>
<td>
<p>Character, length 1, to define the LaTeX-style
math-mode macro to preserve a horizontal space between words of text or
between physical-unit abbreviations when formatting numbers of class
"units". Default is <code>"\\\\&gt;"</code>. Alternatives include <code>"\\\\:"</code> or
"<code style="white-space: pre;">⁠\\\\ ⁠</code>".</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Given a number, a numerical vector, or a numerical column from a data frame,
<code>format_numbers()</code> converts the numbers to character strings of the form,
<code>"$a \\times 10^{n}$"</code>, where <code>a</code> is the coefficient to a specified
number of significant digits and <code>n</code> is the exponent. When used for decimal
notation, <code>format_numbers()</code> converts numbers to character strings of the
form <code>"$a$"</code>.
</p>
<p>Powers-of-ten notation is omitted over a range of exponents via <code>omit_power</code>
such that numbers so specified are converted to decimal notation. For
example, the default <code>omit_power = c(-1, 2)</code> formats numbers such as 0.123,
1.23, 12.3, and 123 in decimal form. To cancel these exceptions and convert
all numbers to powers-of-ten notation, set the <code>omit_power</code> argument to NULL
or NA.
</p>
<p>Delimiters for inline math markup can be edited if necessary. If the default
argument fails, try using <code>"\\("</code> as an alternative. If using a custom
delimiter to suit the markup environment, be sure to escape all special
symbols.
</p>
<p>When inputs are of class "units" (created with the units package), a
math-text macro of the form <code style="white-space: pre;">⁠\\mathrm{&lt;units_string&gt;}⁠</code> is appended
to the formatted numerical value inside the math delimiters.
</p>
<p>Arguments after the dots (<code>...</code>) must be referred to by name.
</p>


<h3>Value</h3>

<p>A character vector in which numbers are formatted in power-of-ten
or decimal notation and delimited for rendering as inline equations
in an R markdown document.
</p>


<h3>See Also</h3>

<p>Other format_*: 
<code>format_dcml()</code>,
<code>format_engr()</code>,
<code>format_sci()</code>,
<code>format_text()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># input: single number
x &lt;- 6.0221E+23
format_numbers(x)

# input: units class
x &lt;- 103400
units(x) &lt;- "N m2 C-2"
format_numbers(x)

# input: vector
data("metals", package = "formatdown")
x &lt;- metals$dens
format_numbers(x)

# significant digits
x &lt;- 9.75358e+5
format_numbers(x, 2)
format_numbers(x, 3)
format_numbers(x, 4)

# format &amp; wrappers: format_engr(), format_sci(), format_dcml()
x &lt;- 6.0221E+23
format_numbers(x, format = "engr")
format_engr(x)

format_numbers(x, format = "sci")
format_sci(x)

x &lt;- 103400
format_numbers(x, format = "dcml")
format_dcml(x)

# input: data frame
x &lt;- metals[, c("thrm_exp", "thrm_cond")]
as.data.frame(apply(x, 2, format_sci, digits = 3))

# omit_power
x &lt;- 103400
format_sci(x, omit_power = c(-1, 2)) # default
format_sci(x, omit_power = c(-1, 5))
format_sci(x, omit_power = 5) # equivalent to omit_power = c(5, 5)
x &lt;- 1.2
format_sci(x, omit_power = NULL)

# set_power
format_sci(x, set_power = NULL) # default
format_sci(x, set_power = 3)

# set_power overrides format
x &lt;- 6.0221E+23
format_engr(x)
format_engr(x, set_power = 24L)
format_sci(x)
format_sci(x, set_power = 24L)

# set_power overrides omit_power
x &lt;- 101300
format_sci(x, omit_power = 5)
format_sci(x, omit_power = 5, set_power = 2)
format_sci(x, omit_power = 2)
format_sci(x, omit_power = 2, set_power = 2)

# decimal format ignores set_power
x &lt;- 103400
format_numbers(x, format = "dcml")
format_numbers(x, format = "dcml", set_power = 3)

</code></pre>


</div>