<div class="container">

<table style="width: 100%;"><tr>
<td>make.calibration</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creates a calibration object, further used for calculation of coordinates in the <code>run.particle.filter</code>.</h2>

<h3>Description</h3>

<p>Function estimates all necessary parameters from the calibration data logged in a known location or locations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">make.calibration(
  Proc.data,
  Calibration.periods,
  model.ageing = FALSE,
  plot.each = FALSE,
  plot.final = FALSE,
  likelihood.correction = "auto",
  fixed.logSlope = c(NA, NA),
  suggest.irrad.borders = FALSE,
  return.slopes = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Proc.data</code></td>
<td>
<p>processed data object generated by <code>get.tags.data</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Calibration.periods</code></td>
<td>
<p>a data frame containing start and end dates of all the calibration periods (POSIXct) and geographic coordinates of the corresponding calibration locations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model.ageing</code></td>
<td>
<p>if set to TRUE, accounts for the tag ageing (with opacification of its transparent shell of a light sensor), resulting into decreasing sensitivity of the device. This option is useful only if there were several calibration periods or if calibration period was very long (~ longer than a month).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.each</code></td>
<td>
<p>Do you want every twilight to be plotted while processing</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.final</code></td>
<td>
<p>Do you want final calibration graph to be plotted. On the graph you can see all the observed versus expected light levels. All slopes should be similar.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>likelihood.correction</code></td>
<td>
<p>will estimate correction of likelihood for the current calibration parameters. Highly recommended not to be change from 'auto'. In this case FLightR will switch it to FALSE in case tag saved data on 10 minutes or longer period.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixed.logSlope</code></td>
<td>
<p>these are mean (1) and SD (2) for distribution of slopes. Should normally be estimated from the data (and thus default is c(NA, NA)). Change any of these two finite values if you want them to be predetermined and not estimated from the calibration data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>suggest.irrad.borders</code></td>
<td>
<p>experimental parameter! If set to TRUE function will try to find the best values for the log.irrad.borders</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return.slopes</code></td>
<td>
<p>if true function will return estimated individual twilight slopes.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>calibration object to be uses in the <code>make.prerun.object</code>
</p>


<h3>Author(s)</h3>

<p>Eldar Rakhimberdiev
</p>


<h3>Examples</h3>

<pre><code class="language-R">File&lt;-system.file("extdata", "Godwit_TAGS_format.csv", package = "FLightR")
Proc.data&lt;-get.tags.data(File, end.date=as.POSIXct('2013-08-20', tz='GMT'))
Calibration.periods&lt;-data.frame(
       calibration.start=NA,
       calibration.stop=as.POSIXct("2013-08-20", tz='GMT'),
       lon=5.43, lat=52.93) 
       #use c() also for the geographic coordinates, if you have more than one calibration location
       # (e. g.,  lon=c(5.43, 6.00), lat=c(52.93,52.94))
print(Calibration.periods)

# NB Below likelihood.correction is set to FALSE for fast run! 
# Leave it as default 'auto' for real examples
Calibration&lt;-make.calibration(Proc.data, Calibration.periods, likelihood.correction=FALSE)

</code></pre>


</div>