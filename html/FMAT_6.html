<div class="container">

<table style="width: 100%;"><tr>
<td>FMAT_query</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prepare a data.table of queries and variables for the FMAT.</h2>

<h3>Description</h3>

<p>Prepare a data.table of queries and variables for the FMAT.
</p>


<h3>Usage</h3>

<pre><code class="language-R">FMAT_query(
  query = "Text with [MASK], optionally with {TARGET} and/or {ATTRIB}.",
  MASK = .(),
  TARGET = .(),
  ATTRIB = .()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>Query text (should be a character string/vector
with at least one <code style="white-space: pre;">⁠[MASK]⁠</code> token).
Multiple queries share the same set of
<code>MASK</code>, <code>TARGET</code>, and <code>ATTRIB</code>.
For multiple queries with different
<code>MASK</code>, <code>TARGET</code>, and/or <code>ATTRIB</code>,
please use <code>FMAT_query_bind</code> to combine them.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MASK</code></td>
<td>
<p>A named list of <code style="white-space: pre;">⁠[MASK]⁠</code> target words.
Must be single words in the vocabulary of a certain masked language model.
</p>
<p>For model vocabulary, see, e.g.,
<a href="https://huggingface.co/bert-base-uncased/raw/main/vocab.txt">https://huggingface.co/bert-base-uncased/raw/main/vocab.txt</a>
</p>
<p>Infrequent words may be not included in a model's vocabulary,
and in this case you may insert the words into the context by
specifying either <code>TARGET</code> or <code>ATTRIB</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TARGET, ATTRIB</code></td>
<td>
<p>A named list of Target/Attribute words or phrases.
If specified, then <code>query</code> must contain
<code>{TARGET}</code> and/or <code>{ATTRIB}</code> (in all uppercase and in braces)
to be replaced by the words/phrases.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data.table of queries and variables.
</p>


<h3>See Also</h3>

<p><code>FMAT_load</code>
</p>
<p><code>FMAT_query_bind</code>
</p>
<p><code>FMAT_run</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">FMAT_query("[MASK] is a nurse.", MASK = .(Male="He", Female="She"))

FMAT_query(
  c("[MASK] is {TARGET}.", "[MASK] works as {TARGET}."),
  MASK = .(Male="He", Female="She"),
  TARGET = .(Occupation=c("a doctor", "a nurse", "an artist"))
)

FMAT_query(
  "The [MASK] {ATTRIB}.",
  MASK = .(Male=c("man", "boy"),
           Female=c("woman", "girl")),
  ATTRIB = .(Masc=c("is masculine", "has a masculine personality"),
             Femi=c("is feminine", "has a feminine personality"))
)

</code></pre>


</div>