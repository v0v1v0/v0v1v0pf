<div class="container">

<table style="width: 100%;"><tr>
<td>createExpSpace</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creates exposure space of hydroclimatic targets for generation of scenarios using 'generateScenarios'</h2>

<h3>Description</h3>

<p><code>createExpSpace</code> returns a list containing the targets (<code>targetMat</code>) and the metadata (input arguments) used to create the exposure space.
</p>


<h3>Usage</h3>

<pre><code class="language-R">createExpSpace(
  attPerturb,
  attPerturbSamp,
  attPerturbMin,
  attPerturbMax,
  attPerturbType = "regGrid",
  attPerturbBy = NULL,
  attHold = NULL,
  attTargetsFile = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>attPerturb</code></td>
<td>
<p>A char vector; the names of the attributes to be perturbed. 
This vector can contain attributes of different hydroclimatic variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attPerturbSamp</code></td>
<td>
<p>An integer vector; the number of samples for each attribute <code>attPerturb</code>. 
The length of this vector should be equal to the length of <code>attPerturb</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attPerturbMin</code></td>
<td>
<p>A numeric vector; the minimum bounds for sampling of <code>attPerturb</code>. 
The length of this vector should be equal to the length of <code>attPerturb</code>. 
For variables like precipitation, evapotranspiration, radiation, etc. <code>attPerturbMin</code> should specified as a fraction of the original 
(eg: 0.9 = 90% of the original attribute). For temperature, <code>attPerturbMin</code> should be specified in K (eg: 0.9 = 0.9 K).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attPerturbMax</code></td>
<td>
<p>A numeric vector; the maximum bounds for sampling of <code>attPerturb</code>. 
The length of this vector should be equal to the length of <code>attPerturb</code>. 
For variables like precipitation, evapotranspiration, radiation, etc. <code>attPerturbMax</code> should specified as a fraction of the original 
(eg: 0.9 = 90% of the original attribute). For temperature, <code>attPerturbMax</code> should be specified in K (eg: 0.9 = 0.9 K).
Note that to create a single sample of the attribute, <code>attPerturbSamp</code> could be specified as 1 with <code>attPerturbMin</code> and <code>attPerturbMax</code> specified as equal.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attPerturbType</code></td>
<td>
<p>A string to specify the type of sampling, defaults to regular spacing. Valid sampling types are:
</p>

<ul>
<li>
<p> "regGrid" a regular grid sampling all the attributes specified in <code>attPerturb</code> simultaneously
</p>
</li>
<li>
<p> "OAT" one-at-a-time sampling of the attributes specified in <code>attPerturb</code>
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attPerturbBy</code></td>
<td>
<p>A numeric vector; increment of values to create samples between <code>attPerturbMin</code> and <code>attPerturbMax</code>.
If <code>attPerturbBy</code> is specified, attPerturbSamp should be set as <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attHold</code></td>
<td>
<p>A char vector; the names of the attributes to be held at historical levels. 
This vector can contain attributes of different hydroclimatic variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attTargetsFile</code></td>
<td>
<p>String specifying the full path to a CSV file containing the target exposure space. 
The column names in the file should correspond to the attributes specified in <code>attPerturb</code> and <code>attHold</code>. 
<code>attTargetsFile</code> is alternate way to specify exposure space targets that do not form a regular grid. 
If <code>attTargetsFile</code> is specified, the inputs arguments <code>attPerturbSamp</code>, <code>attPerturbMin</code>, <code>attPerturbMax</code>, 
and <code>attPerturbType</code> should be set to <code>NULL</code> and will not be used by the function.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>See "Detailed Tutorial: Climate 'Stress-Testing' using *fore*SIGHT" vignette for specifying attribute names for <code>attPerturb</code> and <code>attHold</code>. The definition of the attribute can be viewed using the function <code>viewAttributeDef</code>.
</p>


<h3>Value</h3>

<p>The exposure space as a list containing the following fields:
</p>

<ul>
<li> <p><code>targetMat</code> a dataframe or matrix; each column is a perturb/hold attribute, each row is a point in the exposure space.
</p>
</li>
<li> <p><code>attRot</code> a char vector containing the one-at-a-time ("OAT") attributes associated with <code>targetMat</code>, <code>attRot</code> is <code>NULL</code> for other types of sampling.
</p>
</li>
<li> <p><code>attPerturb</code>, <code>attHold</code>, <code>attPerturbSamp</code>, <code>attPerturbMin</code>, <code>attPerturbMax</code>, <code>attPerturbType</code> in the  function input arguments, if not <code>NULL</code>.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>generateScenarios</code>, <code>viewAttributeDef</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># To view the definition of any valid attribute
viewAttributeDef("P_ann_tot_m")

# To create an exposure space of points on a regular grid
attPerturb &lt;- c("P_ann_tot_m", "P_ann_nWet_m", "P_ann_R10_m")
attPerturbType &lt;- "regGrid"
attPerturbSamp &lt;- c(3, 1, 1)
attPerturbMin &lt;- c(0.9, 1, 1)
attPerturbMax &lt;- c(1.1, 1, 1)
attHold &lt;- c("P_Feb_tot_m", "P_SON_dyWet_m", "P_JJA_avgWSD_m", 
"P_MAM_tot_m", "P_DJF_avgDSD_m", "Temp_ann_rng_m", "Temp_ann_avg_m")
expSpace &lt;- createExpSpace(attPerturb = attPerturb, attPerturbSamp = attPerturbSamp, 
attPerturbMin = attPerturbMin, attPerturbMax = attPerturbMax, 
attPerturbType = attPerturbType, attHold = attHold, attTargetsFile = NULL)

# Using attPerturbBy to specify the increment of perturbation (attPerturbSamp set to NULL)

attPerturb &lt;- c("P_ann_tot_m", "P_ann_nWet_m", "P_ann_R10_m")
attPerturbType &lt;- "regGrid"
attPerturbMin &lt;- c(0.9, 1, 1)
attPerturbMax &lt;- c(1.1, 1, 1)
attPerturbBy &lt;- c(0.1, 0, 0)
attHold &lt;- c("P_Feb_tot_m", "P_SON_dyWet_m", "P_JJA_avgWSD_m", "P_MAM_tot_m", 
"P_DJF_avgDSD_m", "Temp_ann_rng_m", "Temp_ann_avg_m")
expSpace &lt;- createExpSpace(attPerturb = attPerturb, attPerturbSamp = NULL, 
attPerturbMin = attPerturbMin, attPerturbMax = attPerturbMax, attPerturbType = attPerturbType, 
attPerturbBy = attPerturbBy, attHold = attHold, attTargetsFile = NULL)

# To create an exposure space of observed attributes without perturbation
# Note that attPerturbMin and attPerturbMax values are set to 1 for variables like precipitation, 
# and 0 for temperature 
attPerturb &lt;- c("P_ann_tot_m", "P_ann_nWet_m", "P_ann_R10_m", "Temp_DJF_avg_m")
attPerturbType &lt;- "regGrid"
attPerturbSamp &lt;- c(1, 1, 1, 1)
attPerturbMin &lt;- c(1, 1, 1, 0)
attPerturbMax &lt;- c(1, 1, 1, 0)
expSpace &lt;- createExpSpace(attPerturb = attPerturb, attPerturbSamp = attPerturbSamp, 
attPerturbMin = attPerturbMin, attPerturbMax = attPerturbMax, attPerturbType = attPerturbType, 
attHold = NULL, attTargetsFile = NULL)
</code></pre>


</div>