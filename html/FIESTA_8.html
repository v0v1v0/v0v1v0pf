<div class="container">

<table style="width: 100%;"><tr>
<td>datLUTclass</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Data - Create a variable with classified values.</h2>

<h3>Description</h3>

<p>Merge a look-up table to define categories of continuous data in x (e.g.,
DIA).  Adds a variable to x, defining as: xvar &gt;= MIN (and xvar &lt; MAX).
</p>


<h3>Usage</h3>

<pre><code class="language-R">datLUTclass(
  x,
  xvar = NULL,
  LUT = NULL,
  minvar = NULL,
  maxvar = NULL,
  cutbreaks = NULL,
  cutlabels = NULL,
  LUTclassnm = NULL,
  label.dec = 1,
  NAto0 = FALSE,
  vars2keep = NULL,
  keepcutbreaks = FALSE,
  dsn = NULL,
  dbconn = NULL,
  dbconnopen = FALSE,
  dbwrite = FALSE,
  dbreturn = TRUE,
  overwrite = TRUE,
  savedata = FALSE,
  savedata_opts = NULL,
  gui = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Data frame or comma-delimited file (*.csv) or table in dsn. 
The data table with variable to classify.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xvar</code></td>
<td>
<p>String. Name of variable in the data table to join to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LUT</code></td>
<td>
<p>Data frame or comma-delimited file (*.csv). Name of the look-up
table with collapsed classes. Lookup table should include minimum values for
classes, maximum values for classes, and a name of class (i.e., LUTclassnm).
Maximum values and names are optional.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minvar</code></td>
<td>
<p>String. If LUT is not null, name of variable with minimimum
class value (&gt;= minvar).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxvar</code></td>
<td>
<p>String. Optional. If LUT is not null, name of variable with
maximum class value (&lt;= maxvar).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutbreaks</code></td>
<td>
<p>Numeric vector. Vector of numbers for minimum class values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutlabels</code></td>
<td>
<p>String vector. Optional. Vector of names for classes. If
NULL, class names are generated from cutbreaks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LUTclassnm</code></td>
<td>
<p>String. Optional. Name of classified variable in x. If LUT
is not null and class names are included, this is the name of variable with
class names. If NULL, a class names are generated from minvar or minvar and
maxvar with default name equal to 'xvar'CL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.dec</code></td>
<td>
<p>Integer. Number of decimals to include in label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NAto0</code></td>
<td>
<p>Logical. If TRUE, converts NA values to 0 before
classification.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars2keep</code></td>
<td>
<p>String vector. Variable names from LUT to keep (append) to
x.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keepcutbreaks</code></td>
<td>
<p>Logical. If TRUE, the cutbreaks used for creating
classes are appended to dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dsn</code></td>
<td>
<p>String. Data source name of database with x.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbconn</code></td>
<td>
<p>Open database connection.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbconnopen</code></td>
<td>
<p>Logical. If TRUE, keep database connection open.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbwrite</code></td>
<td>
<p>Logical. If TRUE, write class column to database table x.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbreturn</code></td>
<td>
<p>Logical. If TRUE, return table with class column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>Logical. If TRUE, and the class name already exists 
in x, overwrites class name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>savedata</code></td>
<td>
<p>Logical. If TRUE, saves data to outfolder.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>savedata_opts</code></td>
<td>
<p>List. See help(savedata_options()) for a list
of options. Only used when savedata = TRUE. If out_layer = NULL,
default = 'datlutcl'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gui</code></td>
<td>
<p>Logical. If gui, user is prompted for parameters.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Use datLUTclass() to prompt for input.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xLUT</code></td>
<td>
<p> Input data table with look-up table variable(s). </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LUTclassnm</code></td>
<td>
<p> Name of the classified variable. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LUT</code></td>
<td>
<p> Look-up
table with categories. </p>
</td>
</tr>
</table>
<p>tablst
If savedata = TRUE, a comma-delimited file is output to the outfolder as
outfn.  If outfn = NULL, the name of the file will be datlut_'date'.csv.
</p>


<h3>Note</h3>

<p>The look-up table format must be similar to the following table Set
LUTclassnm = VARCLNM. MAX and VALCLNM columns are optional.
</p>

<table>
<tr>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> <b>MIN</b> </td>
<td style="text-align: left;"> <b>MAX</b> </td>
<td style="text-align: left;"> <b>VARCLNM</b> </td>
</tr>
<tr>
<td style="text-align: left;"> </td>
<td style="text-align: left;">
1.0 </td>
<td style="text-align: left;"> 4.9 </td>
<td style="text-align: left;"> 1 </td>
</tr>
<tr>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> 5.0 </td>
<td style="text-align: left;"> 9.9 </td>
<td style="text-align: left;"> 2 </td>
</tr>
<tr>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> 10.0 </td>
<td style="text-align: left;"> 15.0
</td>
<td style="text-align: left;"> 3 </td>
</tr>
<tr>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> 15.0 </td>
<td style="text-align: left;"> 19.9 </td>
<td style="text-align: left;"> 4 </td>
</tr>
<tr>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> 20.0 </td>
<td style="text-align: left;"> 24.9 </td>
<td style="text-align: left;"> 5 </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> 25.0 </td>
<td style="text-align: left;"> 49.9 </td>
<td style="text-align: left;"> 6 </td>
</tr>
<tr>
<td style="text-align: left;"> </td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Tracey S. Frescino
</p>


<h3>Examples</h3>

<pre><code class="language-R">head(FIESTA::ref_diacl2in)
WYtreelut &lt;- datLUTclass(FIESTA::WYtree,
                         xvar = "DIA",
                         LUT = FIESTA::ref_diacl2in,
                         LUTclassnm = "DIACL2IN")
names(WYtreelut)
head(WYtreelut$xLUT)
table(WYtreelut$xLUT$DIACL2IN)

WYtreelut2 &lt;- datLUTclass(FIESTA::WYtree,
                          xvar = "DIA",
                          cutbreaks = c(1, 5, 25, 50, 100),
                          LUTclassnm = "DIACL2IN")
names(WYtreelut2)
head(WYtreelut2$xLUT)
table(WYtreelut2$xLUT$DIACL2IN)

#' Create look-up table of stand age classes
MIN &lt;- c(0, 20, 40, 60, 80, 101)
STDAGENM &lt;- c("0-20", "21-40", "41-60", "61-80", "81-100", "101+")
stdagelut &lt;- data.frame(MIN = MIN, STDAGENM = STDAGENM)
stdagelut

WYcondlut &lt;- datLUTclass(FIESTA::WYcond,
                         xvar = "STDAGE",
                         LUT = stdagelut,
                         LUTclassnm = "STDAGENM")
names(WYcondlut)
head(WYcondlut$xLUT)
table(WYcondlut$xLUT$STDAGENM)
</code></pre>


</div>