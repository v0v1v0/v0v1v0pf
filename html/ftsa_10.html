<div class="container">

<table style="width: 100%;"><tr>
<td>dynamic_FLR</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Dynamic updates via functional linear regression
</h2>

<h3>Description</h3>

<p>A functional linear regression is used to address the problem of dynamic updating, when partial data in the most recent curve are observed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dynamic_FLR(dat, newdata, holdoutdata, order_k_percent = 0.9, order_m_percent = 0.9, 
    pcd_method = c("classical", "M"), robust_lambda = 2.33, bootrep = 100, 
    	pointfore, level = 80)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>An object of class <code>sfts</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>A data vector of newly arrived observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>holdoutdata</code></td>
<td>
<p>A data vector of holdout sample to evaluate point forecast accuracy.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order_k_percent</code></td>
<td>
<p>Select the number of components that explains at least 90 percent of the total variation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order_m_percent</code></td>
<td>
<p>Select the number of components that explains at least 90 percent of the total variation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pcd_method</code></td>
<td>
<p>Method to use for principal components decomposition. Possibilities are "M", "rapca" and "classical".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>robust_lambda</code></td>
<td>
<p>Tuning parameter in the two-step robust functional principal component analysis, when <code>pcdmethod = "M"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bootrep</code></td>
<td>
<p>Number of bootstrap samples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pointfore</code></td>
<td>
<p>If <code>pointfore = TRUE</code>, point forecasts are produced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>Nominal coverage probability.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is designed to dynamically update point and interval forecasts, when partial data in the most recent curve are observed.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>update_forecast</code></td>
<td>
<p>Updated forecasts.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>holdoutdata</code></td>
<td>
<p>Holdout sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>err</code></td>
<td>
<p>Forecast errors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order_k</code></td>
<td>
<p>Number of principal components in the first block of functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order_m</code></td>
<td>
<p>Number of principal components in the second block of functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>update_comb</code></td>
<td>
<p>Bootstrapped forecasts for the dynamically updating time period.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>update_comb_lb_ub</code></td>
<td>
<p>By taking corresponding quantiles, obtain lower and upper prediction bounds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>err_boot</code></td>
<td>
<p>Bootstrapped in-sample forecast error for the dynamically updating time period.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Han Lin Shang
</p>


<h3>References</h3>

<p>H. Shen and J. Z. Huang (2008) "Interday forecasting and intraday updating of call center arrivals", <em>Manufacturing and Service Operations Management</em>, <b>10</b>(3), 391-410.
</p>
<p>H. Shen (2009) "On modeling and forecasting time series of curves", <em>Technometrics</em>, <b>51</b>(3), 227-238.
</p>
<p>H. L. Shang and R. J. Hyndman (2011) "Nonparametric time series forecasting with dynamic updating", Mathematics and Computers in Simulation, <b>81</b>(7), 1310-1324.
</p>
<p>J-M. Chiou (2012) "Dynamical functional prediction and classification with application to traffic flow prediction", <em>Annals of Applied Statistics</em>, <b>6</b>(4), 1588-1614.
</p>
<p>H. L. Shang (2013) "Functional time series approach for forecasting very short-term electricity demand", <em>Journal of Applied Statistics</em>, <b>40</b>(1), 152-168.
</p>
<p>H. L. Shang (2015) "Forecasting Intraday S&amp;P 500 Index Returns: A Functional Time Series Approach", <em>Journal of Forecasting</em>, <b>36</b>(7), 741-755.
</p>
<p>H. L. Shang (2017) "Functional time series forecasting with dynamic updating: An application to intraday particulate matter concentration", <em>Econometrics and Statistics</em>, <b>1</b>, 184-200.
</p>


<h3>See Also</h3>

<p><code>dynupdate</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">dynamic_FLR_point = dynamic_FLR(dat = ElNino_ERSST_region_1and2$y[,1:68], 
	newdata = ElNino_ERSST_region_1and2$y[1:4,69], 
	holdoutdata = ElNino_ERSST_region_1and2$y[5:12,69], pointfore = TRUE)

dynamic_FLR_interval = dynamic_FLR(dat = ElNino_ERSST_region_1and2$y[,1:68], 
	newdata = ElNino_ERSST_region_1and2$y[1:4,69], 
	holdoutdata = ElNino_ERSST_region_1and2$y[5:12,69], pointfore = FALSE)
</code></pre>


</div>