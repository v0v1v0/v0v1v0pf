<div class="container">

<table style="width: 100%;"><tr>
<td>fmSdDecomp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Decompose standard deviation into individual factor contributions</h2>

<h3>Description</h3>

<p>Compute the factor contributions to standard deviation (SD) of 
assets' returns based on Euler's theorem, given the fitted factor model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fmSdDecomp(object, ...)

## S3 method for class 'tsfm'
fmSdDecomp(object, factor.cov, use = "pairwise.complete.obs", ...)

## S3 method for class 'sfm'
fmSdDecomp(object, factor.cov, use = "pairwise.complete.obs", ...)

## S3 method for class 'ffm'
fmSdDecomp(object, factor.cov, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>fit object of class <code>tsfm</code> or <code>ffm</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>optional arguments passed to <code>cov</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>factor.cov</code></td>
<td>
<p>optional user specified factor covariance matrix with 
named columns; defaults to the sample covariance matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use</code></td>
<td>
<p>method for computing covariances in the presence of missing 
values; one of "everything", "all.obs", "complete.obs", "na.or.complete", or 
"pairwise.complete.obs". Default is "pairwise.complete.obs".</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The factor model for an asset's return at time <code>t</code> has the 
form <br><br><code>R(t) = beta'f(t) + e(t) = beta.star'f.star(t)</code> <br><br> 
where, <code>beta.star=(beta,sig.e)</code> and <code>f.star(t)=[f(t)',z(t)]'</code>. 
<br><br> By Euler's theorem, the standard deviation of the asset's return 
is given as: <br><br><code>Sd.fm = sum(cSd_k) = sum(beta.star_k*mSd_k)</code> <br><br> 
where, summation is across the <code>K</code> factors and the residual, 
<code>cSd</code> and <code>mSd</code> are the component and marginal 
contributions to <code>SD</code> respectively. Computing <code>Sd.fm</code> and 
<code>mSd</code> is very straight forward. The formulas are given below and 
details are in the references. The covariance term is approximated by the 
sample covariance. <br><br><code>Sd.fm = sqrt(beta.star''cov(F.star)beta.star)</code> <br><code>mSd = cov(F.star)beta.star / Sd.fm</code>
</p>


<h3>Value</h3>

<p>A list containing 
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Sd.fm</code></td>
<td>
<p>length-N vector of factor model SDs of N-asset returns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mSd</code></td>
<td>
<p>N x (K+1) matrix of marginal contributions to SD.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cSd</code></td>
<td>
<p>N x (K+1) matrix of component contributions to SD.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pcSd</code></td>
<td>
<p>N x (K+1) matrix of percentage component contributions to SD.</p>
</td>
</tr>
</table>
<p>Where, <code>K</code> is the number of factors and N is the number of assets.
</p>


<h3>Author(s)</h3>

<p>Eric Zivot, Yi-An Chen and Sangeetha Srinivasan
</p>


<h3>References</h3>

<p>Hallerback (2003). Decomposing Portfolio Value-at-Risk: A General Analysis. 
The Journal of Risk, 5(2), 1-18.
</p>
<p>Meucci, A. (2007). Risk contributions from generic user-defined factors. 
RISK-LONDON-RISK MAGAZINE LIMITED-, 20(6), 84. 
</p>
<p>Yamai, Y., &amp; Yoshiba, T. (2002). Comparative analyses of expected shortfall 
and value-at-risk: their estimation error, decomposition, and optimization. 
Monetary and economic studies, 20(1), 87-121.
</p>


<h3>See Also</h3>

<p><code>fitTsfm</code>
for the different factor model fitting functions.
</p>
<p><code>fmCov</code> for factor model covariance.
<code>fmVaRDecomp</code> for factor model VaR decomposition.
<code>fmEsDecomp</code> for factor model ES decomposition.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Time Series Factor Model

 # load data
data(managers, package = 'PerformanceAnalytics')
colnames(managers)
 # Make syntactically valid column names
colnames(managers) &lt;- make.names( colnames(managers))
colnames(managers)

fit.macro &lt;- fitTsfm(asset.names=colnames(managers[,(1:6)]),
                     factor.names=colnames(managers[,(7:9)]),
                     rf.name="US.3m.TR", data=managers)
decomp &lt;- fmSdDecomp(fit.macro)
# get the percentage component contributions
decomp$pcSd

</code></pre>


</div>