<div class="container">

<table style="width: 100%;"><tr>
<td>check</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Run All or a Subset of the Tests Across Future Plans</h2>

<h3>Description</h3>

<p>Run All or a Subset of the Tests Across Future Plans
</p>


<h3>Usage</h3>

<pre><code class="language-R">check(
  plan = NULL,
  tags = character(),
  timeout = NULL,
  settings = TRUE,
  session_info = FALSE,
  envir = parent.frame(),
  local = TRUE,
  debug = FALSE,
  exit_value = !interactive(),
  .args = commandArgs()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>plan</code></td>
<td>
<p>(character vector) One or more future strategy plans to be
validated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tags</code></td>
<td>
<p>(character vector; optional) Filter test by tags. If NULL, all
tests are performed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeout</code></td>
<td>
<p>(numeric; optional) Maximum time (in seconds) each test may
run before a timeout error is produced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>settings</code></td>
<td>
<p>(logical) If TRUE, details on the settings are outputted
before the tests start.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>session_info</code></td>
<td>
<p>(logical) If TRUE, session information is outputted
after the tests complete.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>envir</code></td>
<td>
<p>The environment where tests are run.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>local</code></td>
<td>
<p>Should tests be evaluated in a local environment or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>debug</code></td>
<td>
<p>(logical) If TRUE, the raw test results are printed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exit_value</code></td>
<td>
<p>(logical) If TRUE, and in a non-interactive session,
then use <code>base::quit()</code> to quit <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> with an exit code of 0 (zero) if all
tests passed with all OKs and otherwise 1 (one) if one or more test failed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.args</code></td>
<td>
<p>(character vector; optional) Command-line arguments.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>(list; invisible) A list of test results.
</p>


<h3>Command-line interface (CLI)</h3>

<p>This function can be called from the shell. To specify an argument, use the
format <code style="white-space: pre;">⁠--test-&lt;arg_name&gt;=&lt;value&gt;⁠</code>.  For example, <code>--test-timeout=600</code> will
set argument <code>timeout=600</code>, and <code style="white-space: pre;">⁠--tags=lazy,rng⁠</code>, or equivalently,
<code>--tags=lazy --tags=rng</code> will set argument <code>tags=c("lazy", "rng")</code>.
</p>
<p>Here are some examples on how to call this function from the command line:
</p>
<pre>
Rscript -e future.tests::check --args --test-plan=sequential
Rscript -e future.tests::check --args --test-plan=multicore,workers=2
Rscript -e future.tests::check --args --test-plan=sequential --test-plan=multicore,workers=2
Rscript -e future.tests::check --args --test-plan=future.callr::callr
Rscript -e future.tests::check --args --test-plan=future.batchtools::batchtools_local
</pre>
<p>The exit code will be 0 if all tests passed, otherwise 1. You
can use for instance <code style="white-space: pre;">⁠exit_code=$?⁠</code> to retrieve the exit code of the
most recent call.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
results &lt;- future.tests::check(plan = "sequential", tags = c("rng"))
exit_code &lt;- attr(results, "exit_code")
if (exit_code != 0) stop("One or more tests failed")

## End(Not run)

</code></pre>


</div>