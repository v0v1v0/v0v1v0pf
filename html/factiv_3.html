<div class="container">

<table style="width: 100%;"><tr>
<td>iv_finite_factorial</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Finite-Sample IV Estimation of 2^K Factorial Design</h2>

<h3>Description</h3>

<p>Estimate main effect IV ratios for 2^K factorial experiments
</p>


<h3>Usage</h3>

<pre><code class="language-R">iv_finite_factorial(formula, data, subset, level = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>formula specification of the factorial design with
noncompliance. The right-hand side of the formula should have
two components separated by the <code>|</code> symbol, with the first
component containing the K binary treatment variables and the
second component containing the K binary instruments associated
with each treatment variable. The order of the variables in the
formula must match.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data.frame on which to apply the <code>formula</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>subset of the data to pass to estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>the confidence level required.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function estimates the ratio of the effect of treatment
assignment on the outcome to the effect of treatment assignment on
treatment uptake in 2^K factorial experiments. The approach uses
finite sample asymptotic inference to generate confidence
intervals.
</p>


<h3>Value</h3>

<p>A list of class <code>iv_finite_factorial</code> that contains the
following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>tau</code></td>
<td>
<p>a vector of estimated effect ratios for each factor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau_cis</code></td>
<td>
<p>a matrix of confidence intervals for each effect
ratio. This matrix has 4 columns because it is possible to have
disjoint confidence intervals in this method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau_y</code></td>
<td>
<p>a vector of the estimated effects on the outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v_tau_y</code></td>
<td>
<p>the estimated sample variances of the effects on
the outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau_d</code></td>
<td>
<p>a vector of the estimated effects on treatment
uptake.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v_tau_y</code></td>
<td>
<p>the estimated sample variances of the effects on
treatment uptake.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>the confidence level of <code>tau_cis</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Matt Blackwell
</p>


<h3>References</h3>

<p>Matthew Blackwell and Nicole Pashley (2021) "Noncompliance in
Factorial Experiments." Working paper.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(newhaven)

out &lt;- iv_finite_factorial(turnout_98 ~ inperson + phone | inperson_rand
  + phone_rand, data = newhaven)

out

joint &lt;- iv_finite_factorial(turnout_98 ~ inperson + phone |
  inperson_rand + phone_rand, data = newhaven)

joint

</code></pre>


</div>