<div class="container">

<table style="width: 100%;"><tr>
<td>y_to_force</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert Time Series to Force</h2>

<h3>Description</h3>

<p>Converts a time series, e.g. a continuous voltage measurement from a sensor to force data
according to an amplification value and, depending on the measurement setup, the lever ratio of the
rocker forwarding the force from the point the force acts on to the sensor.
</p>


<h3>Usage</h3>

<pre><code class="language-R">y_to_force(df, classifier, measurement.col)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>Data frame or tibble in the below mentioned format. This should contain the time series, with
one line per time step and measurement.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>classifier</code></td>
<td>
<p>Classifier in the below mentioned format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measurement.col</code></td>
<td>
<p>Character string. If <code>measurement.col</code> is not defined, the whole input data frames will be
treated as if it was just one single time series. This is okay for data frames like that indeed only contain one
time series, but for data frames
with multiple time series, a grouping column needs to be defined. Default: <code>NULL</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These values should be stored in a <code>classifier</code> (s. below). At the same, it adds <code>specimen</code> and <code>species</code>
info from the respective columns of the <code>classifier</code>.
</p>
<p>The <code>classifier</code> should have the following format:</p>

<table>
<tr>
<td style="text-align: center;">
   <strong><code>species</code></strong> </td>
<td style="text-align: center;"> <strong><code>specimen</code></strong> </td>
<td style="text-align: center;"> <strong><code>measurement</code></strong> </td>
<td style="text-align: center;"> <strong><code>amp</code></strong> </td>
<td style="text-align: center;"> <strong><code>lever.ratio</code></strong> </td>
</tr>
<tr>
<td style="text-align: center;">
   <code>species.1</code> </td>
<td style="text-align: center;"> <code>specimen.1</code> </td>
<td style="text-align: center;"> <code>measurement.1</code> </td>
<td style="text-align: center;"> <code>amp.1</code> </td>
<td style="text-align: center;"> <code>lever.ratio.1</code> </td>
</tr>
<tr>
<td style="text-align: center;">
   <code>...</code> </td>
<td style="text-align: center;"> <code>...</code> </td>
<td style="text-align: center;"> <code>...</code> </td>
<td style="text-align: center;"> <code>...</code> </td>
<td style="text-align: center;"> <code>...</code> </td>
</tr>
<tr>
<td style="text-align: center;">
   <code>species.n</code> </td>
<td style="text-align: center;"> <code>specimen.n</code> </td>
<td style="text-align: center;"> <code>measurement.n</code> </td>
<td style="text-align: center;"> <code>amp.n</code> </td>
<td style="text-align: center;"> <code>lever.ratio.n</code> </td>
</tr>
<tr>
<td style="text-align: center;">
</td>
</tr>
</table>
<p>It must contain one row per unique measurement number that is present in the
df.
</p>
<p>The force (<code>F</code>) in Newton is calculated <em>via</em> the following formula:
</p>
<p><code>F = y * lever.ratio * (1 / amp)</code>
</p>
<p>where <code>y</code> is the measurement series, e.g. in <code>V</code>, <br><code>amp</code> is the amplification value, e.g. in <code>V/N</code>, <br>
and <code>lever.ratio</code> is the mechanical lever ratio of the measurement setup.
</p>
<p><code>df</code> should have the following format:</p>

<table>
<tr>
<td style="text-align: center;">
   <strong><code>t</code></strong> </td>
<td style="text-align: center;"> <strong><code>y</code></strong> </td>
<td style="text-align: center;"> <strong><code>measurement</code></strong> </td>
</tr>
<tr>
<td style="text-align: center;">
   <code>t.1</code> </td>
<td style="text-align: center;"> <code>y.1</code> </td>
<td style="text-align: center;"> <code>measurement.1</code> </td>
</tr>
<tr>
<td style="text-align: center;">
   <code>t.2</code> </td>
<td style="text-align: center;"> <code>y.2</code> </td>
<td style="text-align: center;"> <code>measurement.1</code> </td>
</tr>
<tr>
<td style="text-align: center;">
   <code>...</code> </td>
<td style="text-align: center;"> <code>...</code> </td>
<td style="text-align: center;"> <code>...</code> </td>
</tr>
<tr>
<td style="text-align: center;">
   <code>t.n</code> </td>
<td style="text-align: center;"> <code>y.n</code> </td>
<td style="text-align: center;"> <code>measurement.1</code> </td>
</tr>
<tr>
<td style="text-align: center;">
   <code>t.1</code> </td>
<td style="text-align: center;"> <code>y.1</code> </td>
<td style="text-align: center;"> <code>measurement.2</code> </td>
</tr>
<tr>
<td style="text-align: center;">
   <code>t.2</code> </td>
<td style="text-align: center;"> <code>y.2</code> </td>
<td style="text-align: center;"> <code>measurement.2</code> </td>
</tr>
<tr>
<td style="text-align: center;">
   <code>...</code> </td>
<td style="text-align: center;"> <code>...</code> </td>
<td style="text-align: center;"> <code>...</code> </td>
</tr>
<tr>
<td style="text-align: center;">
   <code>t.m</code> </td>
<td style="text-align: center;"> <code>y.m</code> </td>
<td style="text-align: center;"> <code>measurement.2</code> </td>
</tr>
<tr>
<td style="text-align: center;">
   <code>...</code> </td>
<td style="text-align: center;"> <code>...</code> </td>
<td style="text-align: center;"> <code>...</code> </td>
</tr>
<tr>
<td style="text-align: center;">
   <code>t.o</code> </td>
<td style="text-align: center;"> <code>y.o</code> </td>
<td style="text-align: center;"> <code>measurement.o</code> </td>
</tr>
<tr>
<td style="text-align: center;">
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a tibble in the same format as the input tibble with an additional column called '"'<code>force</code>'.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># convert y column of df.all to force column and add taxonomic data
# using info from classifier
df.all.tax &lt;- y_to_force(df = forceR::df.all.200,
                      classifier = forceR::classifier,
                      measurement.col = "measurement")

df.all.tax

</code></pre>


</div>