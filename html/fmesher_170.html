<div class="container">

<table style="width: 100%;"><tr>
<td>fm_CRS</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a coordinate reference system object</h2>

<h3>Description</h3>

<p>Creates either a CRS object or an inla.CRS object, describing a coordinate
reference system
</p>


<h3>Usage</h3>

<pre><code class="language-R">fm_CRS(x, oblique = NULL, ...)

## S3 method for class 'fm_CRS'
is.na(x)

## S3 method for class 'crs'
fm_CRS(x, oblique = NULL, ...)

## S3 method for class 'fm_crs'
fm_CRS(x, oblique = NULL, ...)

## S3 method for class 'Spatial'
fm_CRS(x, oblique = NULL, ...)

## S3 method for class 'fm_CRS'
fm_CRS(x, oblique = NULL, ...)

## S3 method for class 'SpatVector'
fm_CRS(x, oblique = NULL, ...)

## S3 method for class 'SpatRaster'
fm_CRS(x, oblique = NULL, ...)

## S3 method for class 'sf'
fm_CRS(x, oblique = NULL, ...)

## S3 method for class 'sfc'
fm_CRS(x, oblique = NULL, ...)

## S3 method for class 'sfg'
fm_CRS(x, oblique = NULL, ...)

## S3 method for class 'fm_mesh_2d'
fm_CRS(x, oblique = NULL, ...)

## S3 method for class 'fm_lattice'
fm_CRS(x, oblique = NULL, ...)

## S3 method for class 'fm_segm'
fm_CRS(x, oblique = NULL, ...)

## S3 method for class 'matrix'
fm_CRS(x, oblique = NULL, ...)

## S3 method for class 'CRS'
fm_CRS(x, oblique = NULL, ...)

## Default S3 method:
fm_CRS(
  x,
  oblique = NULL,
  projargs = NULL,
  doCheckCRSArgs = NULL,
  args = NULL,
  SRS_string = NULL,
  ...
)

## S3 method for class 'inla.CRS'
is.na(x)

## S3 method for class 'inla.CRS'
fm_CRS(x, oblique = NULL, ...)

## S3 method for class 'inla.mesh'
fm_CRS(x, oblique = NULL, ...)

## S3 method for class 'inla.mesh.lattice'
fm_CRS(x, oblique = NULL, ...)

## S3 method for class 'inla.mesh.segment'
fm_CRS(x, oblique = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Object to convert to CRS or to extract CRS information from.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>oblique</code></td>
<td>
<p>Vector of length at most 4 of rotation angles (in degrees)
for an oblique projection, all values defaulting to zero. The values
indicate (longitude, latitude, orientation, orbit), as explained in the
Details section for <code>fm_crs()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters, passed on to sub-methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>projargs</code></td>
<td>
<p>Either 1) a projection argument string suitable as input to
<code>sp::CRS</code>, or 2) an existing <code>CRS</code> object, or 3) a shortcut
reference string to a predefined projection; run
<code>names(fm_wkt_predef())</code> for valid predefined projections. (projargs is a
compatibility parameter that can be used for the default <code>fm_CRS()</code> method)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>doCheckCRSArgs</code></td>
<td>
<p>ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>args</code></td>
<td>
<p>An optional list of name/value pairs to add to and/or override
the PROJ4 arguments in <code>projargs</code>.  <code>name=value</code> is converted to
<code>"+name=value"</code>, and <code>name=NA</code> is converted to <code>"+name"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SRS_string</code></td>
<td>
<p>a WKT2 string defining the coordinate system;
see <code>sp::CRS</code>. This takes precedence over <code>projargs</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The first two
elements of the <code>oblique</code> vector are the (longitude, latitude)
coordinates for the oblique centre point. The third value (orientation) is a
counterclockwise rotation angle for an observer looking at the centre point
from outside the sphere. The fourth value is the quasi-longitude (orbit
angle) for a rotation along the oblique observers equator.
</p>
<p>Simple oblique: <code>oblique=c(0, 45)</code>
</p>
<p>Polar: <code>oblique=c(0, 90)</code>
</p>
<p>Quasi-transversal: <code>oblique=c(0, 0, 90)</code>
</p>
<p>Satellite orbit viewpoint: <code>oblique=c(lon0-time*v1, 0, orbitangle, orbit0+time*v2)</code>, where <code>lon0</code> is the longitude at which a satellite
orbit crosses the equator at <code>time=0</code>, when the satellite is at an
angle <code>orbit0</code> further along in its orbit.  The orbital angle relative
to the equatorial plane is <code>orbitangle</code>, and <code>v1</code> and <code>v2</code>
are the angular velocities of the planet and the satellite, respectively.
Note that "forward" from the satellite's point of view is "to the right" in
the projection.
</p>
<p>When <code>oblique[2]</code> or <code>oblique[3]</code> are non-zero, the resulting
projection is only correct for perfect spheres.
</p>


<h3>Value</h3>

<p>Either an <code>sp::CRS</code> object or an <code>inla.CRS</code> object,
depending on if the coordinate reference system described by the parameters
can be expressed with a pure <code>sp::CRS</code> object or not.
</p>
<p>An S3 <code>inla.CRS</code> object is a list, usually (but not necessarily)
containing at least one element: </p>
<table><tr style="vertical-align: top;">
<td><code>crs </code></td>
<td>
<p>The basic <code>sp::CRS</code>
object</p>
</td>
</tr></table>
<h3>Functions</h3>


<ul>
<li> <p><code>is.na(fm_CRS)</code>: Check if a <code>fm_CRS</code> has <code>NA</code> crs information and <code>NA</code>
obliqueness
</p>
</li>
<li> <p><code>is.na(inla.CRS)</code>: Check if a <code>inla.CRS</code> has <code>NA</code> crs information and <code>NA</code>
obliqueness
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Finn Lindgren <a href="mailto:finn.lindgren@gmail.com">finn.lindgren@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code>fm_crs()</code>, <code>sp::CRS()</code>, <code>fm_crs_wkt</code>,
<code>fm_sp_get_crs()</code>, <code>fm_crs_is_identical()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">crs1 &lt;- fm_CRS("longlat_globe")
crs2 &lt;- fm_CRS("lambert_globe")
crs3 &lt;- fm_CRS("mollweide_norm")
crs4 &lt;- fm_CRS("hammer_globe")
crs5 &lt;- fm_CRS("sphere")
crs6 &lt;- fm_CRS("globe")
</code></pre>


</div>