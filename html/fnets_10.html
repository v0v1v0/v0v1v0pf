<div class="container">

<table style="width: 100%;"><tr>
<td>factor.number</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Factor number selection methods</h2>

<h3>Description</h3>

<p>Methods to estimate the number of factor.
When <code>method = 'er'</code>, the factor number is estimated by maximising the ration of successive eigenvalues.
When <code>method = 'ic'</code>, the information criterion-methods discussed in Hallin and Liška (2007) (when <code>fm.restricted = FALSE</code>)
and Alessi, Barigozzi and Capasso (2010) (when <code>fm.restricted = TRUE</code>) are implemented.
The information criterion called by <code>ic.op = 5</code> (as an argument to <code>fnets</code> or <code>fnets.factor.model</code>) is recommended by default.
</p>


<h3>Usage</h3>

<pre><code class="language-R">factor.number(
  x,
  fm.restricted = FALSE,
  method = c("ic", "er"),
  q.max = NULL,
  center = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>input time series each column representing a time series variable; it is coerced into a ts object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fm.restricted</code></td>
<td>
<p>whether to estimate the number of restricted or unrestricted factors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>A string specifying the factor number selection method; possible values are:
</p>

<dl>
<dt><code>"ic"</code></dt>
<dd>
<p> information criteria-based methods of Alessi, Barigozzi &amp; Capasso (2010) when <code>fm.restricted = TRUE</code> or Hallin and Liška (2007) when <code>fm.restricted = FALSE</code></p>
</dd>
<dt><code>"er"</code></dt>
<dd>
<p> eigenvalue ratio of Ahn and Horenstein (2013) when <code>fm.restricted = TRUE</code> or Avarucci et al. (2022) when <code>fm.restricted = FALSE</code></p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q.max</code></td>
<td>
<p>maximum number of factors; if <code>q.max = NULL</code>, a default value is selected as <code>min(50, floor(sqrt(min(dim(x)[2] - 1, dim(x)[1]))))</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center</code></td>
<td>
<p>whether to de-mean the input <code>x</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For further details, see references.
</p>


<h3>Value</h3>

<p>S3 object of class <code>factor.number</code>.
If <code>method = "ic"</code>, a vector containing minimisers of the six information criteria, otherwise, the maximiser of the eigenvalue ratio
</p>


<h3>References</h3>

<p>Ahn, S. C. &amp; Horenstein, A. R. (2013) Eigenvalue ratio test for the number of factors. Econometrica, 81(3), 1203–1227.
</p>
<p>Alessi, L., Barigozzi, M., and Capasso, M. (2010) Improved penalization for determining the number of factors in approximate factor models. Statistics &amp; Probability Letters, 80(23-24):1806–1813.
</p>
<p>Avarucci, M., Cavicchioli, M., Forni, M., &amp; Zaffaroni, P. (2022) The main business cycle shock(s): Frequency-band estimation of the number of dynamic factors.
</p>
<p>Hallin, M. &amp; Liška, R. (2007) Determining the number of factors in the general dynamic factor model. Journal of the American Statistical Association, 102(478), 603–617.
</p>
<p>Owens, D., Cho, H. &amp; Barigozzi, M. (2024+) fnets: An R Package for Network Estimation and Forecasting via Factor-Adjusted VAR Modelling. The R Journal (to appear).
</p>


<h3>See Also</h3>

<p>plot.factor.number, print.factor.number
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(fnets)
## Alessi, Barigozzi, and Capasso method for restricted models
abc &lt;- factor.number(data.restricted, fm.restricted = TRUE)
print(abc)
plot(abc)

## Eigenvalue ratio method
er &lt;- factor.number(data.restricted, method = "er", fm.restricted = TRUE)
print(er)
plot(er)

## Hallin and Liška method for unrestricted models
hl &lt;- factor.number(data.unrestricted, fm.restricted = FALSE)
print(hl)
plot(hl)
</code></pre>


</div>