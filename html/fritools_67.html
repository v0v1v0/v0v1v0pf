<div class="container">

<table style="width: 100%;"><tr>
<td>relative_difference</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute Relative Differences Between the Values of Two Vectors</h2>

<h3>Description</h3>

<p>We often try to compare vectors on near equality. This is a wrapper to
<code>all.equal</code> for our convenience. It also implements relative
difference and change as discussed in
<a href="https://en.wikipedia.org/wiki/Relative_change_and_difference">https://en.wikipedia.org/wiki/Relative_change_and_difference</a>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">relative_difference(
  current,
  reference,
  type = c("all.equal", "difference", "change")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>current</code></td>
<td>
<p>One vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference</code></td>
<td>
<p>Another vector, for <code>type = all.equal</code>, this is passed
as <code>target</code>, for <code>type = all.equal</code> this can be thought of as the
"correct" value or the state "before".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>The method to be used. See Details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The default method (<code>type = all.equal</code>) applies
<code>all.equal</code> onto the two
vectors. Method <code>type = difference</code> is somewhat the same as the default,
method <code>type = change</code> takes account of the sign of the differences.
</p>


<h3>Value</h3>

<p>A vector of relative differences.
</p>


<h3>See Also</h3>

<p>Other statistics: 
<code>column_sums()</code>,
<code>count_groups()</code>,
<code>round_half_away_from_zero()</code>,
<code>sloboda()</code>,
<code>weighted_variance()</code>
</p>
<p>Other vector comparing functions: 
<code>compare_vectors()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">n &lt;- 500
x &lt;- rnorm(n)
y &lt;- x + rnorm(n, sd = 0.0001)
plot(relative_difference(x, y), x)
plot(relative_difference(x, y, "difference"), x)
# They do approximately the same:
max(relative_difference(relative_difference(x, y),
                            relative_difference(x, y, "difference")))
# Takes sign into account:
plot(relative_difference(x, y, "change"), x)
max(relative_difference(relative_difference(x, y),
                        abs(relative_difference(x, y, "change"))))
</code></pre>


</div>