<div class="container">

<table style="width: 100%;"><tr>
<td>Rbounds</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate random R matrices with user-defined bounds on the correlation 
coefficients via differential evolution (DE).</h2>

<h3>Description</h3>

<p><code>Rbounds</code> can generate uniformly sampled correlation matrices with 
user-defined bounds on the correlation coefficients via differential 
evolution (DE). Unconstrained <code class="reqn">R</code> matrices (i.e., with no constraints placed 
on the <code class="reqn">r_{ij}</code>) computed from 12 or fewer variables can be generated relatively 
quickly on a personal computer.  Larger matrices may require 
very long execution times. <code>Rbounds</code> can 
generate larger matrices when the correlations are tightly 
bounded (e.g., <code class="reqn">0 &lt; r_{ij} &lt; .5</code> for all <code class="reqn">i \neq j</code>). To generate 
uniformly sampled <code class="reqn">R</code> matrices, users should leave  
<code>NPopFactor</code> and <code>crAdaption</code> at 
their default values.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Rbounds(
  Nvar = 3,
  NMatrices = 1,
  Minr = -1,
  Maxr = 1,
  MinEig = 0,
  MaxIter = 200,
  NPopFactor = 10,
  crAdaption = 0,
  delta = 1e-08,
  PRINT = FALSE,
  Seed = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Nvar</code></td>
<td>
<p>(integer) The order of the generated correlation matrices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NMatrices</code></td>
<td>
<p>(integer) Generate <code>NMatrices</code>
correlation matrices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Minr</code></td>
<td>
<p>(numeric &gt; -1 and &lt; Maxr)  The lower bound for all  <code class="reqn">r_{ij}</code> in 
the generated R matrices.  Default <code>Minr = -1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Maxr</code></td>
<td>
<p>(numeric &gt; Minr and &lt;= 1). The upper bound for all <code class="reqn">r_{ij}</code> in the 
generated <code class="reqn">R</code> matrices.  Default <code>Maxr = 1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MinEig</code></td>
<td>
<p>(numeric). Minimum size of the last eigenvalue of R. Default 
<code>MinEig = 0</code>. By setting <code>MinEig</code> to a value slightly greater than 
0 (e.g., 1E-3), all generated matrices will be positive definite.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MaxIter</code></td>
<td>
<p>(integer) The maximum number of iterations
(i.e., generations) for the DE optimizer. Default <code>MaxIter = 200</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NPopFactor</code></td>
<td>
<p>(numeric &gt; 0). If <code class="reqn">R</code> is an <code class="reqn">n \times n</code> matrix, then each generation
will contain <code>NPopFactor</code> <code class="reqn">\times n(n-1)/2</code>  members.   Default <code>NPOP = 10</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crAdaption</code></td>
<td>
<p>(numeric (0,1]). Controls the speed of the crossover adaption.
This parameter is called ‘c’ in the  DEoptim.control help page.  
Default <code>crAdaption = 0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta</code></td>
<td>
<p>(numeric &gt; 0) A number that controls the convergence. See the DEoptim.control
accuracy of the differential evolution algorithm. Default <code>delta = 1E-8</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PRINT</code></td>
<td>
<p>(logical) When PRINT = TRUE the algorithm convergence status is printed.
Default  <code>PRINT = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Seed</code></td>
<td>
<p>(integer) Initial random number seed. Default (<code>Seed = NULL</code>).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>Rbounds</code> returns the following objects:
</p>

<ul>
<li>  <p><strong>R</strong> (matrix) A list of generated correlation matrices.
</p>
</li>
<li>  <p><strong>converged</strong>: (logical) a logical that indicates the 
convergence status of the optimization for each matrix.
</p>
</li>
<li> <p><strong>iter</strong> (integer) The number of cycles needed to reach a 
converged solution for each matrix.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Niels G. Waller
</p>


<h3>References</h3>

<p>Ardia, D., Boudt, K., Carl, P., Mullen, K.M., Peterson, B.G. (2011) Differential
Evolution with DEoptim. An Application to Non-Convex Portfolio Optimization.
URL The R Journal, 3(1), 27-34.
URL https://journal.r-project.org/archive/2011-1/RJournal_2011-1_Ardia~et~al.pdf.
</p>
<p>Georgescu, D. I., Higham, N. J., and Peters, G. W.  (2018).  Explicit
solutions to correlation matrix completion problems, with
an application to risk management and insurance.  Royal Society Open
Science, 5(3), 172348.
</p>
<p>Mishra, S. K.  (2007).  Completing correlation matrices
of arbitrary order by differential evolution method of global optimization:
a Fortran program.  Available at SSRN 968373.
</p>
<p>Mullen, K.M, Ardia, D., Gil, D., Windover, D., Cline, J. (2011). DEoptim: An
R Package for Global Optimization by Differential Evolution. <em>Journal of Statistical Software, 40</em>, 1-26. URL http://www.jstatsoft.org/v40/i06/.
</p>
<p>Price, K.V., Storn, R.M., Lampinen J.A. (2005) <em>Differential Evolution - A Practical Approach 
to Global Optimization</em>. Berlin Heidelberg: Springer-Verlag. ISBN 3540209506.
</p>
<p>Zhang, J. and Sanderson, A. (2009) <em>Adaptive Differential
Evolution</em>. Springer-Verlag. ISBN 978-3-642-01526-7
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Example 1: Generate random 4 x 4 Correlation matrices with all rij &gt;= 0.

  out &lt;- Rbounds(Nvar = 4,
              NMatrices = 4,
              Minr = 0,
              Maxr = 1,
              PRINT = TRUE,
              Seed = 1)
                      
  # Check convergence status of matrices                     
  print( table(out$converged) )                     

  print( round( out$R[[1]] , 3) )


</code></pre>


</div>