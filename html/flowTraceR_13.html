<div class="container">

<table style="width: 100%;"><tr>
<td>trace_level</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Trace common and unique identifications between different software outputs</h2>

<h3>Description</h3>

<p>Identifications of two input data frames are compared and categorized in unique and common entries.
</p>


<h3>Usage</h3>

<pre><code class="language-R">trace_level(
  input_df1,
  input_df2,
  analysis_name1 = "input_df1",
  analysis_name2 = "input_df2",
  level = c("precursor", "modified_peptides", "proteinGroups"),
  filter_unknown_mods = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>input_df1</code></td>
<td>
<p>A tibble with flowTraceR's standardized precursor, modified peptide, or proteinGroup level information - required column depends on chosen <code>level</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input_df2</code></td>
<td>
<p>A tibble with flowTraceR's standardized precursor, modified peptide,  or proteinGroup level information - required column depends on chosen <code>level</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>analysis_name1</code></td>
<td>
<p>output tibble name for input_df1 - default is <code>"input_df1"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>analysis_name2</code></td>
<td>
<p>output tibble name for input_df2 - default is <code>"input_df2"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p><code>"precursor", "modified_peptides", "proteinGroups"</code> - respective level for tracing common vs. unique entries. Default is precursor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter_unknown_mods</code></td>
<td>
<p>Logical value, default is TRUE. If TRUE, unknown modifications are filtered out - requires "traceR_precursor_unknownMods" or "traceR_mod.peptides_unknownMods" column; depends on chosen <code>level</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Based on flowTraceR's standardized output format two software outputs can be compared and categorized into common and unique identifications for a chosen level: precursor, modified peptide or proteinGroup level.
</p>


<h3>Value</h3>

<p>This function returns a list with both original submitted <code>tibbles</code> - input_df1 and input_df2 - including one of the following new columns depending on chosen <code>level</code> :
</p>

<ul>
<li>
<p> traceR_traced_precursor - categorization on precursor level in common and unique entries.
</p>
</li>
<li>
<p> traceR_traced_mod.peptides - categorization on modified peptide level in common and unique entries.
</p>
</li>
<li>
<p> traceR_traced_proteinGroups - categorization on proteinGroups level in common and unique entries.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Oliver Kardell
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load libraries
library(dplyr)
library(stringr)
library(tibble)

# DIA-NN example data
diann &lt;- tibble::tibble(
  "traceR_proteinGroups" = c("P02768", "P02671", "Q92496", "DummyProt"),
  "traceR_mod.peptides" = c("AAC(UniMod:4)LLPK", "RLEVDIDIK",
   "EGIVEYPR", "ALTDM(DummyModification)PQMK"),
  "traceR_mod.peptides_unknownMods" = c(FALSE, FALSE, FALSE, TRUE),
  "traceR_precursor" = c("AAC(UniMod:4)LLPK1", "RLEVDIDIK2",
   "EGIVEYPR2", "ALTDM(DummyModification)PQMK3" ),
  "traceR_precursor_unknownMods" = c(FALSE, FALSE, FALSE, TRUE)
)

# Spectronaut example data
spectronaut &lt;- tibble::tibble(
  "traceR_proteinGroups" = c("P02768", "Q02985", "P02671"),
  "traceR_mod.peptides" = c("AAC(UniMod:4)LLPK", "EGIVEYPR", "M(UniMod:35)KPVPDLVPGNFK"),
  "traceR_mod.peptides_unknownMods" = c(FALSE, FALSE, FALSE),
  "traceR_precursor" = c("AAC(UniMod:4)LLPK1", "EGIVEYPR2", "M(UniMod:35)KPVPDLVPGNFK2"),
  "traceR_precursor_unknownMods" = c(FALSE, FALSE, FALSE)
)

# trace proteinGroup level
traced_proteinGroups &lt;- trace_level(
  input_df1 = diann,
  input_df2 = spectronaut,
  analysis_name1 = "DIA-NN",
  analysis_name2 = "Spectronaut",
  level = "proteinGroups",
  filter_unknown_mods = TRUE
)

# trace precursor level
traced_pecursor &lt;- trace_level(
  input_df1 = diann,
  input_df2 = spectronaut,
  analysis_name1 = "DIA-NN",
  analysis_name2 = "Spectronaut",
  level = "precursor",
  filter_unknown_mods = TRUE
)
</code></pre>


</div>