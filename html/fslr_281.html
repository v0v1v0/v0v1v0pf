<div class="container">

<table style="width: 100%;"><tr>
<td>probtrackx</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Probabilistic diffusion tractography with multiple fibre orientations</h2>

<h3>Description</h3>

<p>This function wraps <code>probtrackx</code> from FSL
</p>


<h3>Usage</h3>

<pre><code class="language-R">probtrackx(
  samples = "merged",
  mask,
  seed,
  outdir = "fdt_paths",
  verbose = TRUE,
  mode = NULL,
  targetmasks = NULL,
  mask2 = NULL,
  waypoints = NULL,
  network = FALSE,
  mesh = NULL,
  seedref = NULL,
  dir = FALSE,
  forcedir = FALSE,
  opd = FALSE,
  pd = FALSE,
  os2t = FALSE,
  avoid = NULL,
  stop = NULL,
  xfm = NULL,
  invxfm = NULL,
  nsamples = 5000,
  nsteps = 2000,
  distthresh = 0,
  cthr = 0.2,
  fibthresh = 0.01,
  sampvox = FALSE,
  steplength = 0.5,
  loopcheck = FALSE,
  usef = FALSE,
  randfib = c(0, 1, 2, 3),
  fibst = 1,
  modeuler = FALSE,
  rseed = NULL,
  s2tastext = FALSE,
  opts = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>samples</code></td>
<td>
<p>(nifti/character) Basename for samples files</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mask</code></td>
<td>
<p>(nifti/character) Bet binary mask file in diffusion space</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>(nifti/character) Seed volume, or voxel, or ascii file with multiple volumes, or freesurfer label file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outdir</code></td>
<td>
<p>(character) Output file (default='fdt_paths')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>(logical/numeric) Verbose level, [0-2]</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mode</code></td>
<td>
<p>(character) Use â€“mode=simple for single seed voxel</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>targetmasks</code></td>
<td>
<p>(character) File containing a list of target masks - required for seeds_to_targets classification</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mask2</code></td>
<td>
<p>(nifti/character) Second mask in twomask_symm mode.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>waypoints</code></td>
<td>
<p>(nifti/character) Waypoint mask or ascii list of waypoint masks - only keep paths going through ALL the masks</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>network</code></td>
<td>
<p>(logical) Activate network mode - only keep paths going through at least one seed mask (required if multiple seed masks)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mesh</code></td>
<td>
<p>(character) Freesurfer-type surface descriptor (in ascii format)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seedref</code></td>
<td>
<p>(nifti/character) Reference vol to define seed space in simple mode - diffusion space assumed if absent</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>(logical) Directory to put the final volumes in - code makes this directory - default='logdir'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>forcedir</code></td>
<td>
<p>(logical) Use the actual directory name given - i.e. don't add + to make a new directory</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opd</code></td>
<td>
<p>(logical) Output path distribution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pd</code></td>
<td>
<p>(logical) Correct path distribution for the length of the pathways</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>os2t</code></td>
<td>
<p>(logical) Output seeds to targets</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>avoid</code></td>
<td>
<p>(nifti/character) Reject pathways passing through locations given by this mask</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stop</code></td>
<td>
<p>(nifti/character) Stop tracking at locations given by this mask file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xfm</code></td>
<td>
<p>(character) Transform taking seed space to DTI space (either FLIRT matrix or FNIRT warpfield) - default is identity</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>invxfm</code></td>
<td>
<p>(character) Transform taking DTI space to seed space (compulsory when using a warpfield for seeds_to_dti)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsamples</code></td>
<td>
<p>(numeric) Number of samples - default=5000</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsteps</code></td>
<td>
<p>(numeric) Number of steps per sample - default=2000</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distthresh</code></td>
<td>
<p>(numeric) Discards samples shorter than this threshold (in mm - default=0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cthr</code></td>
<td>
<p>(numeric) Curvature threshold - default=0.2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fibthresh</code></td>
<td>
<p>(numeric) Volume fraction before subsidiary fibre orientations are considered - default=0.01</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sampvox</code></td>
<td>
<p>(logical) Sample random points within seed voxels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>steplength</code></td>
<td>
<p>(numeric) Steplength in mm - default=0.5</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loopcheck</code></td>
<td>
<p>(logical) Perform loopchecks on paths - slower, but allows lower curvature threshold</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>usef</code></td>
<td>
<p>(logical) Use anisotropy to constrain tracking</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>randfib</code></td>
<td>
<p>(numeric) Default 0. Set to 1 to randomly sample initial fibres (with f &gt; fibthresh). Set to 2 to sample in proportion fibres (with f&gt;fibthresh) to f. Set to 3 to sample ALL populations at random (even if f&lt;fibthresh)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fibst</code></td>
<td>
<p>(numeric) Force a starting fibre for tracking - default=1, i.e. first fibre orientation. Only works if randfib==0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modeuler</code></td>
<td>
<p>(logical) Use modified euler streamlining</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rseed</code></td>
<td>
<p>(numeric) Random seed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s2tastext</code></td>
<td>
<p>(logical) Output seed-to-target counts as a text file (useful when seeding from a mesh)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opts</code></td>
<td>
<p>Additional options or way to specify things instead of command
line arguments</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A filename of the output file
</p>


</div>