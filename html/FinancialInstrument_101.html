<div class="container">

<table style="width: 100%;"><tr>
<td>next.future_id</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get the primary_id of the next-to-expire (previously expiring) future_series instrument</h2>

<h3>Description</h3>

<p>Using <code>parse_id</code>, this will figure out where in the <code>month_cycle</code> that <code>id</code>
belongs.  Then, it will use the next (previous) month in <code>month_cycle</code> to construct the id of the
next-to-expire contract.
</p>


<h3>Usage</h3>

<pre><code class="language-R">next.future_id(id, month_cycle = seq(3, 12, 3), root = NULL,
  format = NULL)

prev.future_id(id, month_cycle = seq(3, 12, 3), root = NULL,
  format = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>character string primary_id of a future_series instrument</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>month_cycle</code></td>
<td>
<p>months in which contracts expire. numeric or month codes. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>root</code></td>
<td>
<p>root_id. usually only used if there is no underscore in the <code>id</code>. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>how you would like the returned id to be formatted. If NULL, it will match the format of <code>id</code>. See Details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>month_cycle</code> can be a numeric vector (corresponding to the months in which contracts expire),
or it can be a vector of month codes, a vector of month abbreviations, or a comma-delimited
string of month codes or abbreviations, in which case an attempt will be made to convert it to a numeric vector.
by passing it through <code>month_cycle2numeric</code>
</p>
<p><code>root</code> is primarily used when you have an id that does not have an underscore, in which case, providing <code>root</code>
will make splitting the id into primary_id and suffix_id easier and more accurate.  <code>root</code> can also be used if you want
the returned id to be on a different <code>future</code> than the id you passed in (when used this way, <code>format</code> should also be used).
</p>
<p>By default, (when called with <code>format=NULL</code>) the returned id will be of the same format as the <code>id</code> that was passed in.  
The format of the returned id can be specified with the <code>format</code> argument.  See <code>format_id</code> for supported values of <code>format</code>
</p>


<h3>Value</h3>

<p>character
</p>


<h3>Author(s)</h3>

<p>Garrett See
</p>


<h3>See Also</h3>

<p><code>format_id</code> for supported values of <code>format</code>.
<code>month_cycle2numeric</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">next.future_id("ES_Z1","H,M,U,Z", format=NULL) 
next.future_id("VIXAUG11", 1:12, root='VIX', format=NULL)
next.future_id("YM_Q11", seq(3,12,3)) #gives a warning about 'Q' not being part of month_cycle
</code></pre>


</div>