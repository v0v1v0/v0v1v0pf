<div class="container">

<table style="width: 100%;"><tr>
<td>ACF</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>(Partial) Autocorrelation and Cross-Correlation Function Estimation</h2>

<h3>Description</h3>

<p>The function <code>ACF</code> computes an estimate of the autocorrelation function
of a (possibly multivariate) tsibble. Function <code>PACF</code> computes an estimate
of the partial autocorrelation function of a (possibly multivariate) tsibble.
Function <code>CCF</code> computes the cross-correlation or cross-covariance of two columns
from a tsibble.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ACF(
  .data,
  y,
  ...,
  lag_max = NULL,
  type = c("correlation", "covariance", "partial"),
  na.action = na.contiguous,
  demean = TRUE,
  tapered = FALSE
)

PACF(.data, y, ..., lag_max = NULL, na.action = na.contiguous, tapered = FALSE)

CCF(
  .data,
  y,
  x,
  ...,
  lag_max = NULL,
  type = c("correlation", "covariance"),
  na.action = na.contiguous
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>A tsibble</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>The column(s) from the tsibble used to compute the ACF, PACF or CCF.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lag_max</code></td>
<td>
<p>maximum lag at which to calculate the acf. Default is 10*log10(N/m)
where N is the number of observations and m the number of series. Will be
automatically limited to one less than the number of observations in the series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>character string giving the type of ACF to be computed. Allowed values are <code>"correlation"</code> (the default), <code>"covariance"</code> or <code>"partial"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>function to be called to handle missing
values. <code>na.pass</code> can be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>demean</code></td>
<td>
<p>logical.  Should the covariances be about the sample
means?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tapered</code></td>
<td>
<p>Produces banded and tapered estimates of the (partial) autocorrelation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x, y</code></td>
<td>
<p>a univariate or multivariate (not <code>ccf</code>) numeric time
series object or a numeric vector or matrix, or an <code>"acf"</code> object.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The functions improve the <code>stats::acf()</code>, <code>stats::pacf()</code> and
<code>stats::ccf()</code> functions. The main differences are that <code>ACF</code> does not plot
the exact correlation at lag 0 when <code>type=="correlation"</code> and
the horizontal axes show lags in time units rather than seasonal units.
</p>
<p>The resulting tables from these functions can also be plotted using
<code>autoplot.tbl_cf()</code>.
</p>


<h3>Value</h3>

<p>The <code>ACF</code>, <code>PACF</code> and <code>CCF</code> functions return objects
of class "tbl_cf", which is a tsibble containing the correlations computed.
</p>


<h3>Author(s)</h3>

<p>Mitchell O'Hara-Wild and Rob J Hyndman
</p>


<h3>References</h3>

<p>Hyndman, R.J. (2015). Discussion of "High-dimensional
autocovariance matrices and optimal linear prediction". <em>Electronic
Journal of Statistics</em>, 9, 792-796.
</p>
<p>McMurry, T. L., &amp; Politis, D. N. (2010). Banded and tapered estimates for
autocovariance matrices and the linear process bootstrap. <em>Journal of
Time Series Analysis</em>, 31(6), 471-482.
</p>


<h3>See Also</h3>

<p><code>stats::acf()</code>, <code>stats::pacf()</code>, <code>stats::ccf()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(tsibble)
library(tsibbledata)
library(dplyr)

vic_elec %&gt;% ACF(Temperature)

vic_elec %&gt;% ACF(Temperature) %&gt;% autoplot()

vic_elec %&gt;% PACF(Temperature)

vic_elec %&gt;% PACF(Temperature) %&gt;% autoplot()

global_economy %&gt;%
  filter(Country == "Australia") %&gt;%
  CCF(GDP, Population)

global_economy %&gt;%
  filter(Country == "Australia") %&gt;%
  CCF(GDP, Population) %&gt;%
  autoplot()

</code></pre>


</div>