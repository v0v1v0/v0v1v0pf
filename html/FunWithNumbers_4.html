<div class="container">

<table style="width: 100%;"><tr>
<td>bestFrac</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Generate a fraction close to the input value.
</h2>

<h3>Description</h3>

<p>Inspired by the well-known approximations to <code>pi</code>, i.e. 22/7 and 355/113, this function allows the user to find the best-match fraction for any number, within the specified maximum magnitude of the numerator and denominator
</p>


<h3>Usage</h3>

<pre><code class="language-R">bestFrac(x, intrange)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>A character string representing a number to be "converted" to a fraction of nearly equal value. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intrange</code></td>
<td>

<p>If a single value, the function tests all combinations of numerator and denominator between one and <code>intrange</code> . If two values, the 'testing range' is <code>intrange[1]:intrange[2]</code>. Otherwise, whatever vector of values is supplied will be used. 
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For irrationals and the like, the simplest way to generate the input parameter string <code>x</code> is to use <code>sprintf</code> with as many digits to the right of the decimal point as desired. 
The returned values are in reduced form, i.e. the numerator and denominator are relatively prime. 
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>bestmatch </code></td>
<td>

<p>The numerator and denominator of the best-matching fraction
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>goodmatch </code></td>
<td>

<p>An N-by-2 array of the progressively better matches found (numerators and denominators in the columns)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>matcherr </code></td>
<td>

<p>A vector of the  differences between the 'matcherr' fractions and the input value. This is limited in precision to the machine limit for doubles (floats). 
</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a> 
</p>


<h3>Examples</h3>

<pre><code class="language-R">gpi &lt;- sprintf("%1.30f", pi) 
bestFrac(gpi, 100)
# $bestmatch
# [1] 22  7
# $goodmatch
#           [,1] [,2]
# goodmatch    0    0
#              1    1
#              2    1
#              3    1
#             13    4
#             16    5
#             19    6
#             22    7
# $matcherr
# [1] 1.000000e+02 6.816901e-01 3.633802e-01 4.507034e-02 3.450713e-02
#     1.859164e-02 7.981306e-03 4.024994e-04
bestFrac(gpi, 100:400)
# $bestmatch
# [1] 355 113
# $goodmatch
#           [,1] [,2]
# goodmatch    0    0
#            100   31
#            100   32
#            101   32
#            104   33
#            107   34
#            110   35  # notice this is 22/7 
#            179   57
#            201   64
#            223   71
#            245   78
#            267   85
#            289   92
#            311   99
#            333  106
#            355  113
# $matcherr
#  [1] 1.000000e+02 2.680608e-02 5.281606e-03 4.665578e-03 3.158429e-03
#      1.739936e-03 4.024994e-04
#  [8] 3.952697e-04 3.080137e-04 2.379631e-04 1.804857e-04 1.324752e-04 
#      9.177057e-05 5.682219e-05
# [15] 2.648963e-05 8.491368e-08)
</code></pre>


</div>