<div class="container">

<table style="width: 100%;"><tr>
<td>pred.treeRK</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Make predictions on the test observations based on a rktree model
</h2>

<h3>Description</h3>

<p>Makes predictions on the observations in the test dataset based on the
<code>rktree</code> model constructed from the training dataset.
</p>
<p>Please be aware that, at the end of the <code>pred.treeRK</code> function, the test
data points in <code>prediction.df</code> are re-ordered by the increasing original
index number (the original rownames) of those test observations. So if you
shuffled the data before seperating them into a training and a test set,
the order of the data points in which they are presented under the data frame
<code>prediction.df</code> may not be same as the shuffled order in your original
test set.
</p>
<p>Users of this function may be interested in identifying the original name of
the numericized predicted class type shown in the last column of data frame
<code>prediction.df</code>. This can easily be done by extracting the attribute
<code>y.factor.levels</code> from the <code>y.organizer</code> object. For example, if the
data frame <code>prediction.df</code> indicates that the predicted class type of the
1st test observation is "2", that means the actual name of the predicted
class type for that 1st test observation is indicated as the 2nd element of the
vector  <code>y.organizer.object$y.factor.levels</code> that we can obtain during
the data cleaning phase.
</p>
<p>The <code>pred.treeRK</code> function makes a use of the list of hierarchical flags
generated by the <code>construct.treeRK</code> function; the function uses the list
of hierarchical flag as a guide to how it should split the test set to make
predictions. The function <code>pred.treeRK</code> itself actually generates a list
of hierarchical flag of its own as it splits the test set, and at the end of
the function <code>pred.treeRK</code> tries to match the list of hierarchical flag it
generated with the list of hierarchical flag from the <code>construct.treeRK</code>
function. If the two flags match exactly, then it is a good sign since this
would imply that the splitting on the test set was done in the manner consistent
with how the training set was split when the rkTree in question was built.
If there is any difference in the two flags, however, this is not a good sign
since it would signal that the splitting on the test set has done in a different
manner than how the splitting was done on the training set; if the mismatch
occurs, the <code>pred.treeRK</code> function will stop and throw an error. For more
information about the hierarchical flags of a <code>rkTree</code>, please see the
<code>construct.treeRK</code> section of this documentation.
</p>


<h3>Usage</h3>

<pre><code class="language-R"> pred.treeRK(X = data.frame(), rktree = construct.treeRK())
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>

<p>a numericized data frame of covariates of the test observations
or the observations that we want to make predictions for (obtained via
<code>x.organizer()</code>). <code>X</code> should contain no <code>NA</code> or <code>NaN</code>'s.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rktree</code></td>
<td>

<p>a <code>construct.treeRK</code> object.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing the following items:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>prediction.df</code></td>
<td>

<p>a data frame of test observations. If <code>prediction.df</code> has <code>n</code>
columns, the first <code>n-1</code> columns will contain the numericized covariates
of the test observations, and the very last <code>n</code>-th column will contain
the predicted numericized class type for each of those test observations.
Note that, at the end of the <code>pred.treeRK</code> function, the test data points
in <code>prediction.df</code> are re-ordered by theincreasing original observation
index number.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flag.pred</code></td>
<td>

<p>the hierarchical flag of splits performed on the test set by applying the
<code>rktree</code> model in question.
</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Hyunjin Cho, <a href="mailto:h56cho@uwaterloo.ca">h56cho@uwaterloo.ca</a>
Rebecca Su, <a href="mailto:y57su@uwaterloo.ca">y57su@uwaterloo.ca</a>
</p>


<h3>See Also</h3>

<p><code>pred.forestRK</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">  ## example: iris dataset
  ## load the forestRK package
  library(forestRK)

  ## numericize the data
  x.train &lt;- x.organizer(iris[,1:4], encoding = "num")[c(1:25,51:75,101:125),]
  x.test &lt;- x.organizer(iris[,1:4], encoding = "num")[c(26:50,76:100,126:150),]
  y.train &lt;- y.organizer(iris[c(1:25,51:75,101:125),5])$y.new

  ## Construct a tree
  # min.num.obs.end.node.tree is set to 5 by default;
  # entropy is set to TRUE by default
  tree.entropy &lt;- construct.treeRK(x.train, y.train)
  tree.gini &lt;- construct.treeRK(x.train, y.train,
                                min.num.obs.end.node.tree = 6, entropy = FALSE)

  ## Make predictions on the test set based on the constructed rktree model
  # last column of prediction.df stores predicted class on the test observations
  # based on a given rktree
  prediction.df &lt;- pred.treeRK(X = x.test, tree.entropy)$prediction.df
  flag.pred &lt;- pred.treeRK(X = x.test, tree.entropy)$flag.pred
</code></pre>


</div>