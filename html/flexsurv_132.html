<div class="container">

<table style="width: 100%;"><tr>
<td>normboot.flexsurvreg</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate from the asymptotic normal distribution of parameter estimates.</h2>

<h3>Description</h3>

<p>Produce a matrix of alternative parameter estimates under sampling
uncertainty, at covariate values supplied by the user.  Used by
<code>summary.flexsurvreg</code> for obtaining confidence intervals around
functions of parameters.
</p>


<h3>Usage</h3>

<pre><code class="language-R">normboot.flexsurvreg(
  x,
  B,
  newdata = NULL,
  X = NULL,
  transform = FALSE,
  raw = FALSE,
  tidy = FALSE,
  rawsim = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A fitted model from <code>flexsurvreg</code> (or <code>flexsurvspline</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>Number of samples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>Data frame or list containing the covariate values to
evaluate the parameters at.  If there are covariates in the model, at least
one of <code>newdata</code> or <code>X</code> must be supplied, unless <code>raw=TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>Alternative (less convenient) format for covariate values: a
matrix with one row, with one column for each covariate or factor contrast.
Formed from all the "model matrices", one for each named parameter of the
distribution, with intercepts excluded, <code>cbind</code>ed together.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transform</code></td>
<td>
<p><code>TRUE</code> if the results should be transformed to the
real-line scale, typically by log if the parameter is defined as positive.
The default <code>FALSE</code> returns parameters on the natural scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raw</code></td>
<td>
<p>Return samples of the baseline parameters and the covariate
effects, rather than the default of adjusting the baseline parameters for
covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tidy</code></td>
<td>
<p>If <code>FALSE</code> (the default) then
a list is returned.  If <code>TRUE</code> a data frame is returned, consisting
of the list elements <code>rbind</code>ed together, with integer variables
labelling the covariate number and simulation replicate number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rawsim</code></td>
<td>
<p>allows input of raw samples from a previous run of
<code>normboot.flexsurvreg</code>. This is useful if running
<code>normboot.flexsurvreg</code> multiple time on the same dataset but with
counterfactual contrasts, e.g. treat =0 vs. treat  =1.
Used in <code>standsurv.flexsurvreg</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If <code>newdata</code> includes only one covariate combination, a matrix
will be returned with <code>B</code> rows, and one column for each named
parameter of the survival distribution.
</p>
<p>If more than one covariate combination is requested (e.g. <code>newdata</code> is
a data frame with more than one row), then a list of matrices will be
returned, one for each covariate combination.
</p>


<h3>Author(s)</h3>

<p>C. H. Jackson <a href="mailto:chris.jackson@mrc-bsu.cam.ac.uk">chris.jackson@mrc-bsu.cam.ac.uk</a>
</p>


<h3>References</h3>

<p>Mandel, M. (2013). "Simulation based confidence intervals for
functions with complicated derivatives." The American Statistician (in
press).
</p>


<h3>See Also</h3>

<p><code>summary.flexsurvreg</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
    fite &lt;- flexsurvreg(Surv(futime, fustat) ~ age, data = ovarian, dist="exp")
    normboot.flexsurvreg(fite, B=10, newdata=list(age=50))
    normboot.flexsurvreg(fite, B=10, X=matrix(50,nrow=1))
    normboot.flexsurvreg(fite, B=10, newdata=list(age=0))  ## closer to...
    fite$res
</code></pre>


</div>