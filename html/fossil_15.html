<div class="container">

<table style="width: 100%;"><tr>
<td>create.matrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creating species locality matrices</h2>

<h3>Description</h3>

<p>Create a matrix with taxa as rows and occurrences or samples as columns
</p>


<h3>Usage</h3>

<pre><code class="language-R">  create.matrix(
  x,
  tax.name="genus",
  locality="locality",
  time.col=NULL,
  time=NULL, 
  abund=FALSE,
  abund.col="abundance"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a table arranged in columnar format, with at least one column
indicating name of taxa and another giving location or sample</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tax.name</code></td>
<td>
<p>the name or number of the column giving the taxonomic names to 
be used (the rows of the matrix to be created)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locality</code></td>
<td>
<p>the name or number of the column giving the locations of the 
samples (the columns of the matrix to be created)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.col</code></td>
<td>
<p>what is the column name or number containing the time periods; 
if left null, filtering for time willbe ignored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>what time periods to keep for the matrix; if left null, filtering 
for time willbe ignored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abund</code></td>
<td>
<p>whether to record abundances of taxa; if left FALSE, a binary
(presence/absence) matrix is created</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abund.col</code></td>
<td>
<p>column name or number containing abundance values</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is a helper function to convert large lists of data into matrices of 
species (rows) and locations (columns). The parameters can be adjusted to 
create either a binary (presence/absence) or abundance matrix. The setup of 
the table is largely flexible; simply input the column names or numbers 
containing the pertinent information. To filter data according to time, both 
the time column and the time period must be specified. For abundance, the 
default title for the abundance column is simply "abundance"; the function 
will not work if you have chosen to include abundances (<code>abund = TRUE</code> 
but the name of the abundance column is incorrect.</p>


<h3>Value</h3>

<p>A matrix of taxa (rows) by localities (columns).
</p>


<h3>Note</h3>

<p>At present, the function will ignore rows where the taxon name is <code>NA</code>, <code>NULL</code>, <code>''</code> (empty character value) or <code>' '</code> (single space), as these labels typically represent an unknown taxa, which would be inappropriate to include in most analyses.</p>


<h3>Author(s)</h3>

<p>Matthew Vavrek</p>


<h3>See Also</h3>

<p><code>create.lats</code></p>


<h3>Examples</h3>

<pre><code class="language-R">#converting the fdata.list dataset into a matrix of species (rows) 
#by samples (columns) with abundance data
data(fdata.list)
create.matrix(fdata.list, tax.name = "species", abund=TRUE)

#same data set, but now for an occurrence matrix
create.matrix(fdata.list, tax.name = "species", locality = "locality")

</code></pre>


</div>