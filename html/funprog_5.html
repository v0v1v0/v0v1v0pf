<div class="container">

<table style="width: 100%;"><tr>
<td>group_if</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Group vector values</h2>

<h3>Description</h3>

<p>Split a vector or a list into groups, given a predicate function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">group_if(x, predicate, na.rm = FALSE)

group_eq(x, na.rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a vector or a list to split into groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predicate</code></td>
<td>
<p>a binary function returning a boolean value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>if x is atomic, delete missing values before grouping.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>predicate</code> will be applied to 2 adjacent elements. If it evaluates to
<code>TRUE</code>, those elements belong to the same group, otherwise they belong
to different groups.
</p>
<p>Grouping on equality is the most natural approach, therefore <code>group_eq</code>
is a convenient shortcut defined as </p>

<ul>
<li>
<p><code>group_if(x, predicate = `==`)</code> for an atomic vector;
</p>
</li>
<li>
<p><code>group_if(x, predicate = identical)</code> for a list.
</p>
</li>
</ul>
<p><code>group_if</code> (resp. <code>group_eq</code>) is inspired by <code>groupBy</code> (resp.
<code>group</code>) in Haskell.
<em>Note that <code>group_if</code> behaves a little differently : while in
Haskell, the comparison is made with the first element in the group, in this
R-version the comparison is made with the adjacent element.</em>
</p>
<p>The operator %on% may be helpful to create a predicate with readable
syntax.
</p>


<h3>Value</h3>

<p>A list where each element is a group (flattening this list should
give back the same values in the same order). Element names are kept.
</p>


<h3>Examples</h3>

<pre><code class="language-R">x1 &lt;- c(3, 4, 2, 2, 1, 1, 1, 3)
group_eq(x1)
group_if(x1, `&lt;=`)
group_if(x1, function(x, y) abs(x - y) &gt; 1)

x2 &lt;- c(3, 4, 2, -2, -1, 1, 1, 3)
group_if(x2, `==` %on% abs)

x3 &lt;- list(1:3, 1:3, 3:5, 1, 2)
group_if(x3, `==` %on% length)
</code></pre>


</div>