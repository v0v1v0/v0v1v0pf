<div class="container">

<table style="width: 100%;"><tr>
<td>Q.matr.setup.general</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Internal function</h2>

<h3>Description</h3>

<p>Internal function needed for setup of Q matrix and its first and second derivative.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Q.matr.setup.general(
  params,
  nstates,
  full.X,
  start.pos.par,
  l.short.formula,
  whereQ,
  firstD = TRUE,
  secondD = TRUE,
  bound.eta = FALSE,
  pos.optparams,
  pos.optparams2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>Parameters vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nstates</code></td>
<td>
<p>Number of states.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>full.X</code></td>
<td>
<p>Full design matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start.pos.par</code></td>
<td>
<p>Positions within full parameters vector of starting point for each sub-parameters vector corresponding to each transition intensity specification.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>l.short.formula</code></td>
<td>
<p>Number of transitions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>whereQ</code></td>
<td>
<p>Positions within Q matrix of not-null transition intensities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>firstD</code></td>
<td>
<p>Whether the first derivative of the Q matrix should be computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>secondD</code></td>
<td>
<p>Whether the second derivative of the Q matrix should be computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bound.eta</code></td>
<td>
<p>Whether to bound the additive predictor, defaults to <code>FALSE</code>. This is only used for debugging purposes, do not change.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pos.optparams</code></td>
<td>
<p>Vector with positions of parameters vector in the form used by the optimization algorithm (i.e. when one or more parameters are constrained to be equal these will only appear once).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pos.optparams2</code></td>
<td>
<p>Like <code>pos.optparams</code> but the count is not stopped at the constrained parameters.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Q matrix and its first and second derivatives with respect to the parameters vector.
</p>


</div>