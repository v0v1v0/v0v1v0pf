<div class="container">

<table style="width: 100%;"><tr>
<td>FM_fetch_data_format</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creates Formatting Information for Datasets</h2>

<h3>Description</h3>

<p>Takes a data frame and information in the site configureation
to produce formatting information to make it easier for the user to see data
type information.
</p>


<h3>Usage</h3>

<pre><code class="language-R">FM_fetch_data_format(df, state)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>Raw dataframe to be built into an rhandsontable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>state</code></td>
<td>
<p>Current module state after yaml file has been read.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>list with the following elements:
</p>

<ul>
<li>
<p>col_heads: List (element for each column) of formatting
information for column  headers to be  use with rhandsontable.
</p>
</li>
<li>
<p>col_subtext: List (element for each column) of subtext to
be displayed in selections using 'pickerInput' from the 'shinyWidgets' package.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R"># We need a module state object to use this function:
sess_res = UD_test_mksession(session=list())
state = sess_res$state

data_file_local =  system.file(package="formods", "test_data", "TEST_DATA.xlsx")
sheet           = "DATA"

df = readxl::read_excel(path=data_file_local, sheet=sheet)

hfmt = FM_fetch_data_format(df, state)

# Column header formatting
head(as.vector(unlist( hfmt[["col_heads"]])))

# Column select subtext
head(as.vector(unlist( hfmt[["col_subtext"]])))
</code></pre>


</div>