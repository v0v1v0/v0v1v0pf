<div class="container">

<table style="width: 100%;"><tr>
<td>datPivot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Data - Generates a pivot table.</h2>

<h3>Description</h3>

<p>Generates a pivot table of values by x row and y column.
</p>


<h3>Usage</h3>

<pre><code class="language-R">datPivot(
  x,
  pvar,
  xvar,
  yvar,
  pfun = sum,
  xfilter = NULL,
  NAto0 = TRUE,
  dropNAxvar = TRUE,
  dropNAyvar = TRUE,
  pvar.round = 6,
  returnDT = FALSE,
  savedata = FALSE,
  savedata_opts = NULL,
  gui = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Dataframe. Table with pivot variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pvar</code></td>
<td>
<p>String. The name of the variable for pivot table values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xvar</code></td>
<td>
<p>String. The name of the variable for rows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yvar</code></td>
<td>
<p>String. The name of the variable for columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pfun</code></td>
<td>
<p>Function. The name of the function to use for pivot table values
(ex. sum, mean, max).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xfilter</code></td>
<td>
<p>String. A filter to subset the datatable table x before
pivoting (ex. "STATUSCD == 1").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NAto0</code></td>
<td>
<p>Logical. If TRUE, converts NA values to 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dropNAxvar</code></td>
<td>
<p>Logical. If TRUE, removes columns that are NA.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dropNAyvar</code></td>
<td>
<p>Logical. If TRUE, removes rows that have NA values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pvar.round</code></td>
<td>
<p>Integer. Number to round pvar values to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>returnDT</code></td>
<td>
<p>Logical. If TRUE, returns a datatable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>savedata</code></td>
<td>
<p>Logical. If TRUE, writes output data to outfolder.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>savedata_opts</code></td>
<td>
<p>List. See help(savedata_options()) for a list
of options. Only used when savedata = TRUE.  If out_layer = NULL, 
default = 'datpivot'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gui</code></td>
<td>
<p>Logical. If TRUE, pop-up windows will appear for user-interface.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table><tr style="vertical-align: top;">
<td><code>ptab</code></td>
<td>
<p> Matrix. The pivot table. </p>
</td>
</tr></table>
<h3>Author(s)</h3>

<p>Tracey S. Frescino
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Pivot WYcond table
datPivot(x = FIESTA::WYcond,
         pvar = "CONDPROP_UNADJ",
         xvar = "FORTYPCD",
         yvar = "STDSZCD")

# Pivot WYtree table
datPivot(x = FIESTA::WYtree,
         pvar = "TPA_UNADJ",
         xvar = "SPCD",
         yvar = "STATUSCD",
         pfun = mean,
         NAto0 = TRUE)
</code></pre>


</div>