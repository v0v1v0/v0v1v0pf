<div class="container">

<table style="width: 100%;"><tr>
<td>plot.flam</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Plots Function Estimates for Fit of Class "flam"
</h2>

<h3>Description</h3>

<p>This function plots the estimated functions from a model estimated using <code>flam</code>. The user specifies the model of interest (i.e., the tuning parameters) and a plot is made for the estimated association between all non-sparse (or a chosen subset of) features and the outcome.</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'flam'
plot(x, index, n.plot = 10, predictor.indicators = NULL,
predictor.labels = NULL, outcome.label = "outcome", ticks = F, 
col = "dodgerblue", n.panel.width = NULL, n.panel.height = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>an object of class "flam".
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>

<p>the index for the model of interest to be plotted. Note that <code>index</code> of i corresponds to the model with tuning parameters <code>x$all.alpha[i]</code> and <code>x$all.lambda[i]</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.plot</code></td>
<td>

<p>the number of predictors to be plotted (default of 10). Note that only non-sparse predictors are plotted, however, this argument is ignored if <code>predictor.indicators</code> is specified.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predictor.indicators</code></td>
<td>

<p>a vector indicating which predictor function estimates to plot. The vector should contain the column numbers of <code>x$x</code> whose function estimates are to be plotted. By default, the <code>n.plot</code> predictors with the largest L2 norm are plotted.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predictor.labels</code></td>
<td>

<p>a vector containing the predictor labels of the same length as <code>predictor.indicators</code> if specified, otherwise of length <code>ncol(x$x)</code>. By default, "Predictor 1", "Predictor 2", ... are used.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcome.label</code></td>
<td>

<p>the name of the outcome used in the y-axis label. By default, the label is "outcome".
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ticks</code></td>
<td>

<p>a logical (<code>TRUE</code> or <code>FALSE</code>) for whether tick marks indicating the distribution of the predictor should be included at the bottom of each plot.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>

<p>a vector of colors used to plot the function estimates. If <code>col</code> has length 1, then the same color is used for all predictors. Otherwise, <code>col</code> should indicate the color for each predictor and have the same length as <code>predictor.indicators</code> if specified, otherwise the number of columns of <code>x$x</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.panel.width</code></td>
<td>

<p>the plots will be plotted with <code>par(mfrow=c(n.panel.height,n.panel.width))</code>. If specified, <code>n.panel.height</code> must also be specified. By default, an appropriate grid of plots is used.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.panel.height</code></td>
<td>

<p>the plots will be plotted with <code>par(mfrow=c(n.panel.height,n.panel.width))</code>. If specified, <code>n.panel.width</code> must also be specified. By default, an appropriate grid of plots is used.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>additional arguments to be passed. These are ignored in this function.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The estimated function fits are drawn by connecting the predictions for all of the observations in <code>x$x</code>. This may result in fits that appear not to be piecewise consant if only a single observation is observed for a range of x-values.
</p>


<h3>Author(s)</h3>

<p>Ashley Petersen
</p>


<h3>References</h3>

<p>Petersen, A., Witten, D., and Simon, N. (2014). Fused Lasso Additive Model. arXiv preprint arXiv:1409.5391.
</p>


<h3>See Also</h3>

<p><code>flam</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#See ?'flam-package' for a full example of how to use this package

#generate data
set.seed(1)
data &lt;- sim.data(n = 50, scenario = 1, zerof = 10, noise = 1)
#fit model for a range of tuning parameters
flam.out &lt;- flam(x = data$x, y = data$y, alpha.seq = c(0.8, 0.9, 1))

#we plot the predictor fits for a specific index, e.g. 25
#that is, lambda and alpha of
flam.out$all.lambda[25]; flam.out$all.alpha[25]
plot(flam.out, index = 25)
#the fit only has 5 non-sparse features

#by default, up to 10 non-sparse features with the largest L2 norms are 
#plotted, but we can plot a different number of features if desired
plot(flam.out, index = 40, n.plot = 12)
#or we can plot specific predictors of interest
plot(flam.out, index = 40, predictor.indicators = c(1:4, 6, 8, 11, 12))
</code></pre>


</div>