<div class="container">

<table style="width: 100%;"><tr>
<td>unvec_mat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Transform vector data to image</h2>

<h3>Description</h3>

<p>From a <code class="reqn">v \times p</code> matrix of vectorized data and an <code class="reqn">m \times n</code>
image mask with <code class="reqn">v</code> in-mask locations, create a list of <code class="reqn">p</code>
<code class="reqn">m \times n</code> data arrays in which the mask locations are filled
in with the vectorized data values.
</p>
<p>Consider using <code>abind::abind</code> to merge the result into a single
array.
</p>


<h3>Usage</h3>

<pre><code class="language-R">unvec_mat(x, mask, fill_value = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code class="reqn">v \times p</code> matrix, where <code class="reqn">v</code> is the number of
voxels within a mask and <code class="reqn">p</code> is the number of vectors to transform into
matrix images.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mask</code></td>
<td>
<p><code class="reqn">m \times n</code> logical matrix in which <code>v</code>
entries are <code>TRUE</code> and the rest are <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill_value</code></td>
<td>
<p>Out-of-mask value in the output image. Default:
<code>NA</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of masked values from <code>x</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">x &lt;- unvec_mat(
 cbind(seq(3), seq(2,4), seq(3,5)), 
 matrix(c(rep(TRUE, 3), FALSE), ncol=2),
 0
)
y &lt;- array(c(1,2,3,0,2,3,4,0,3,4,5,0), dim=c(2,2,3))
stopifnot(identical(x[[1]], y[,,1]))
stopifnot(identical(x[[2]], y[,,2]))
stopifnot(identical(x[[3]], y[,,3]))

</code></pre>


</div>