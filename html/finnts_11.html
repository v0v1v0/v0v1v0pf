<div class="container">

<table style="width: 100%;"><tr>
<td>prep_models</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prep Models</h2>

<h3>Description</h3>

<p>Preps various aspects of run before training models. Things like train/test
splits, creating hyperparameters, etc.
</p>


<h3>Usage</h3>

<pre><code class="language-R">prep_models(
  run_info,
  back_test_scenarios = NULL,
  back_test_spacing = NULL,
  models_to_run = NULL,
  models_not_to_run = NULL,
  run_ensemble_models = TRUE,
  pca = NULL,
  num_hyperparameters = 10,
  seed = 123
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>run_info</code></td>
<td>
<p>run info using the <code>set_run_info()</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>back_test_scenarios</code></td>
<td>
<p>Number of specific back test folds to run when
determining the best model. Default of NULL will automatically choose
the number of back tests to run based on historical data size,
which tries to always use a minimum of 80% of the data when training a model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>back_test_spacing</code></td>
<td>
<p>Number of periods to move back for each back
test scenario. Default of NULL moves back 1 period at a time for year,
quarter, and month data. Moves back 4 for week and 7 for day data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>models_to_run</code></td>
<td>
<p>List of models to run. Default of NULL runs all models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>models_not_to_run</code></td>
<td>
<p>List of models not to run, overrides values in
models_to_run. Default of NULL doesn't turn off any model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>run_ensemble_models</code></td>
<td>
<p>If TRUE, prep for ensemble models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pca</code></td>
<td>
<p>If TRUE, run principle component analysis on any lagged features
to speed up model run time. Default of NULL runs PCA on day and week
date types across all local multivariate models, and also for global models
across all date types.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_hyperparameters</code></td>
<td>
<p>number of hyperparameter combinations to test
out on validation data for model tuning.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Set seed for random number generator. Numeric value.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Writes outputs related to model prep to disk.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data_tbl &lt;- timetk::m4_monthly %&gt;%
  dplyr::rename(Date = date) %&gt;%
  dplyr::mutate(id = as.character(id)) %&gt;%
  dplyr::filter(
    Date &gt;= "2012-01-01",
    Date &lt;= "2015-06-01"
  )

run_info &lt;- set_run_info()

prep_data(run_info,
  input_data = data_tbl,
  combo_variables = c("id"),
  target_variable = "value",
  date_type = "month",
  forecast_horizon = 3
)

prep_models(run_info,
  models_to_run = c("arima", "ets", "glmnet")
)

</code></pre>


</div>