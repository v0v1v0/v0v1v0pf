<div class="container">

<table style="width: 100%;"><tr>
<td>rarc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Rotate Points on the Surface on an N-Dimensional Ellipsoid</h2>

<h3>Description</h3>

<p>Rotate between two points on the surface on an n-dimensional ellipsoid. The
hyper-ellipsoid is composed of all points, B, such that B' Rxx B = Rsq.
Vector B contains standardized regression coefficients.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rarc(Rxx, Rsq, b1, b2, Npoints)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Rxx</code></td>
<td>
<p>Predictor correlation matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rsq</code></td>
<td>
<p>Model coefficient of determination.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b1</code></td>
<td>
<p>First point on ellipsoid. If b1 and b2 are scalars then choose
scaled eigenvectors v[b1] and v[b2] as the start and end vectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b2</code></td>
<td>
<p>Second point on ellipsoid. If b1 and b2 are scalars then choose
scaled eigenvectors v[b1] and v[b2] as the start and end vectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Npoints</code></td>
<td>
<p>Generate “Npoints” +1 OLS coefficient vectors between b1
and b2.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table><tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>N+1 sets of OLS coefficient vectors between b1 and b2.</p>
</td>
</tr></table>
<h3>Author(s)</h3>

<p>Niels Waller and Jeff Jones.
</p>


<h3>References</h3>

<p>Waller, N. G. &amp; Jones, J. A. (2011). Investigating the
performance of alternate regression weights by studying all possible
criteria in regression models with a fixed set of predictors.
<em>Psychometrika, 76</em>, 410-439.
</p>


<h3>Examples</h3>

<pre><code class="language-R">

## Example
## GRE/GPA Data
##-------------------##
R &lt;- Rxx &lt;- matrix(c(1.00, .56, .77,
                      .56, 1.00, .73,
                      .77, .73, 1.00), 3, 3)
                  
## GPA validity correlations                 
rxy &lt;- c(.39, .34, .38)
b &lt;- solve(Rxx) %*% rxy
 
Rsq &lt;- t(b) %*% Rxx %*% b
N &lt;- 200       
                   
b &lt;- rarc(Rxx = R, Rsq, b1 = 1, b2 = 3, Npoints = N) 
 
## compute validity vectors
r &lt;- Rxx %*% b
N &lt;- N + 1
Rsq.r &lt;- Rsq.unit &lt;- rep(0, N)

for(i in 1:N){
## eval performance of unit weights
  Rsq.unit[i] &lt;- (t(sign(r[,i])) %*% r[,i])^2 /
 		           (t(sign(r[,i])) %*% R %*% sign(r[,i]))
 		           
## eval performance of correlation weights               
  Rsq.r[i] &lt;- (t(r[,i]) %*% r[,i])^2 /(t(r[,i]) %*% R %*% r[,i])	
}
 
cat("\nAverage relative performance of unit weights across elliptical arc:",
 	    round(mean(Rsq.unit)/Rsq,3) )     
cat("\n\nAverage relative performance of r weights across elliptical arc:",
 	    round(mean(Rsq.r)/Rsq,3) ) 
 

plot(seq(0, 90, length = N), Rsq.r, typ = "l", 
          ylim = c(0, .20),
          xlim = c(0, 95),
          lwd = 3,
          ylab = expression(R^2),
          xlab = expression(paste("Degrees from ",b[1]," in the direction of ",b[2])),
          cex.lab = 1.25, lab = c(10, 5, 5))
 points(seq(0, 90, length = N), Rsq.unit, 
          type = "l", 
          lty = 2, lwd = 3)
 legend(x = 0,y = .12,
        legend = c("r weights", "unit weights"), 
        lty = c(1, 2),
        lwd = c(4, 3),
        cex = 1.5)               

</code></pre>


</div>