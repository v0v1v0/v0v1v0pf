<div class="container">

<table style="width: 100%;"><tr>
<td>som</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Selection Order Matrix (SOM)</h2>

<h3>Description</h3>

<p>Generates a Selection Order Matrix (SOM) in a deterministic/random manner.
</p>


<h3>Usage</h3>

<pre><code class="language-R">som(
  data_frame = NULL,
  n_treat,
  treat_sizes,
  include_discard = FALSE,
  method = "SCOMARS",
  control = FALSE,
  marginal_treat = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data_frame</code></td>
<td>
<p>A (optional) data frame corresponding to the full sample of units. 
Required if <code>include_discard = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_treat</code></td>
<td>
<p>Number of treatment groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treat_sizes</code></td>
<td>
<p>A vector of treatment group sizes. If <code>control = TRUE</code>, 
the first element of <code>treat_sizes</code> should be the control group size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_discard</code></td>
<td>
<p><code>TRUE</code> if a discard group is considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Specifies the selection strategy used among <code>'global percentage'</code>, 
<code>'randomized chunk'</code>, <code>'SCOMARS'</code>. <code>'SCOMARS'</code> is applicable only if <code>n_treat = 2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>If <code>TRUE</code>, treatments are labeled as 0,1,...,g-1 (0 representing the control group). 
If <code>FALSE</code>, they are labeled as 1,2,...,g.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marginal_treat</code></td>
<td>
<p>A vector of marginal probabilities, the jth element being the probability that treatment group
(or treatment group 2 in case <code>control = FALSE</code>) gets to choose at the jth stage given
the total number of choices made by treatment group upto the (j-1)th stage. 
Only applicable when <code>method = 'SCOMARS'</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame containing the selection order of treatments, i.e. the labels of treatment groups 
at each stage of selection. If <code>method = 'SCOMARS'</code>, the data frame contains an additional column of 
the conditional selection probabilities.
</p>


<h3>Author(s)</h3>

<p>Ambarish Chattopadhyay, Carl N. Morris and Jose R. Zubizarreta.
</p>


<h3>References</h3>

<p>Chattopadhyay, A., Morris, C. N., and Zubizarreta, J. R. (2020), 
“Randomized and Balanced Allocation of Units into Treatment Groups Using the Finite Selection Model for <code>R</code>”.
</p>
<p>Morris, C. (1983), “Sequentially controlled Markovian random sampling (SCOMARS)”, Institute of 
Mathematical Statistics Bulletin,12(5), 237.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Generate an SOM with N = 12, n1 = n2 = 6.
som_sample = som(data_frame = NULL, n_treat = 2, treat_sizes = c(6,6), include_discard = FALSE, 
method = 'SCOMARS', control = FALSE, marginal_treat = rep(6/12,12))
</code></pre>


</div>