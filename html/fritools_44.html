<div class="container">

<table style="width: 100%;"><tr>
<td>is_cran</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Is '<span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>' Running on CRAN?</h2>

<h3>Description</h3>

<p><em>This is a verbatim copy of <code>fda::CRAN</code> of
<span class="pkg">fda</span> version 5.1.9.</em>
</p>


<h3>Usage</h3>

<pre><code class="language-R">is_cran(cran_pattern, n_r_check4cran)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cran_pattern</code></td>
<td>
<p>A regular expressions to apply to the names of
<code>Sys.getenv()</code>
to identify possible CRAN parameters.  Defaults to
<code>Sys.getenv('_CRAN_pattern_')</code> if available and '^_R_' if not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_r_check4cran</code></td>
<td>
<p>Assume this is CRAN if at least n_R_CHECK4CRAN
elements of
<code>Sys.getenv()</code> have names matching x.  Defaults to
<code>Sys.getenv('_n_R_CHECK4CRAN_')</code> if available and 5 if not.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function allows package developers to run tests themselves that
should not run on CRAN or with </p>
<pre>R CMD check --as-cran</pre>
<p> because
of compute time constraints with CRAN tests.
</p>
<p>The "Writing R Extensions" manual says that <code>R CMD check</code> can be
customized "by setting environment variables _R_CHECK_*_:, as
described in" the Tools section of the "R Internals" manual.
</p>
<p><code>R CMD check</code> was tested with R 3.0.1 under Fedora 18 Linux and with
<code>Rtools</code> 3.0 from April 16, 2013 under Windows 7.  With the
</p>
<pre>'--as-cran'</pre>
<p>option, 7 matches were found;  without it, only 3 were found.  These
numbers were unaffected by the presence or absence of the '–timings'
parameter.  On this basis, the default value of n_R_CHECK4CRAN was set
at 5.
</p>
<p>1.  <code>x. &lt;- Sys.getenv()</code>
</p>
<p>2.  Fix <code>CRAN_pattern</code> and <code>n_R_CHECK4CRAN</code> if missing.
</p>
<p>3.  Let i be the indices of x. whose names match all the patterns in
the vector x.
</p>
<p>4.  Assume this is CRAN if length(i) &gt;= n_R_CHECK4CRAN
</p>


<h3>Value</h3>

<p>A logical scalar with attributes ‘<span class="samp">⁠'sys_getenv'⁠</span>’ containing the
results of <code>Sys.getenv()</code> and 'matches' containing <code>i</code> per step 3
above.
</p>


<h3>See Also</h3>

<p>Other test helpers: 
<code>develop_test()</code>,
<code>get_boolean_envvar()</code>,
<code>get_run_r_tests()</code>,
<code>is_r_cmd_check()</code>,
<code>is_running_on_fvafrcu_machines()</code>,
<code>is_running_on_gitlab_com()</code>,
<code>run_r_tests_for_known_hosts()</code>,
<code>set_run_r_tests()</code>
</p>
<p>Other logical helpers: 
<code>get_run_r_tests()</code>,
<code>is_batch()</code>,
<code>is_false()</code>,
<code>is_force()</code>,
<code>is_installed()</code>,
<code>is_not_false()</code>,
<code>is_null_or_true()</code>,
<code>is_of_length_zero()</code>,
<code>is_r_cmd_check()</code>,
<code>is_r_package_installed()</code>,
<code>is_running_on_fvafrcu_machines()</code>,
<code>is_running_on_gitlab_com()</code>,
<code>is_success()</code>,
<code>is_version_sufficient()</code>,
<code>is_windows()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (!is_cran()) {
    message("Run your tests here.")
}
</code></pre>


</div>