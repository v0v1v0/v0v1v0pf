<div class="container">

<table style="width: 100%;"><tr>
<td>buildRatio</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>construct price ratios of 2 instruments</h2>

<h3>Description</h3>

<p>Calculates time series of ratio of 2 instruments using available data. 
Returned object will be ratios calculated using Bids, Asks, and Mids, or Opens, Closes, and Adjusteds.
</p>


<h3>Usage</h3>

<pre><code class="language-R">buildRatio(x, env = .GlobalEnv, silent = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>vector of instrument names. e.g. c("SPY","DIA")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>env</code></td>
<td>
<p>environment where xts data is stored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>
<p>silence warnings?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>x</code> should be a vector of 2 instrument names. An attempt will be made to <code>get</code> the data
for both instruments.  If there are no xts data stored under either of the names, it will try to 
return prebuilt data with a call to <code>.get_rate</code>.
</p>
<p>If the data are not of the same frequency, or are not of the same type (OHLC, BBO, etc.)
An attempt will be made to make them compatible.  Preference is given to the first leg.
</p>
<p>If the data in <code>x[1]</code> is daily or slower and the data in <code>x[2]</code> is intraday
(e.g. if you give it daily OHLC and intraday Bid Ask Mid, it will use all of 
the OHLC columns of <code>x[1]</code> and only the the End of Day Mid price of the BAM object.
</p>
<p>If the data in <code>x[1]</code> is intraday, and the data in <code>x[2]</code> is daily or slower,
for each day, the previous closing value of <code>x[2]</code> will be filled forward with <code>na.locf</code>
</p>


<h3>Value</h3>

<p>An xts object with columns of
Bid, Ask, Mid
OR
Open, Close, Adjusted
OR
Price
</p>


<h3>Author(s)</h3>

<p>Garrett See
</p>


<h3>See Also</h3>

<p><code>redenominate</code>
<code>buildSpread</code>
<code>fn_SpreadBuilder</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 
syms &lt;- c("SPY","DIA")
getSymbols(syms)
rat &lt;- buildRatio(syms)
summary(rat)

## End(Not run)
</code></pre>


</div>