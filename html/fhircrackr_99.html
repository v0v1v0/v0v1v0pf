<div class="container">

<table style="width: 100%;"><tr>
<td>fhir_table_description-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A S4 class describing the form of a table produced by <code>fhir_crack()</code>
</h2>

<h3>Description</h3>

<p>A <code>fhir_table_description</code> holds the information <code>fhir_crack()</code> needs to flatten (aka crack) FHIR resources from a FHIR bundle and
is created with its constructor function <code>fhir_table_description()</code>.
Each <code>fhir_table_description</code> describes a table for a specific resource type as <code>fhir_crack()</code> will create one data.frame/data.table
per resource type. See Details.
</p>


<h3>Details</h3>

<p>A <code>fhir_table_description</code> consists of
the following elements:
</p>

<ul>
<li>
<p> The resource element: Defines the resource type (e.g. <code>Patient</code> or <code>Observation</code>). See <code>fhir_resource_type()</code>.
</p>
</li>
<li>
<p> The cols element: Contains the column names and XPath expressions defining the columns to extract.
If this element is empty, <code>fhir_crack()</code> will extract all available elements of the resource and name the
columns automatically. See <code>fhir_columns()</code>.
</p>
</li>
<li>
<p> The sep element: A character of length one containing the separator string used for separating multiple entries in cells.
</p>
</li>
<li>
<p> The brackets element: A character of length one or two used for the indices of multiple entries. The first one is the opening bracket
and the second one the closing bracket. Vectors of length one will be recycled.
Defaults to <code>character(0)</code>, i.e. no brackets, meaning that multiple entries won't be indexed.
</p>
</li>
<li>
<p> The rm_empty_cols element: A logical of length one indicating whether empty columns should be removed in the resulting table or not. Defaults to <code>FALSE</code>.
</p>
</li>
<li>
<p> The format element: A character of length one indicating whether the resulting table should be cracked to a <code>wide</code> or <code>compact</code> format.
<code>wide</code> means multiple entries will be distributed over several columns with indexed names. <code>compact</code> means multiple entries will be pasted into one cell/column separated by <code>sep</code> .
Defaults to <code>compact</code>.
</p>
</li>
<li>
<p> The keep_attr element: A logical of length one indicating whether the attribute name of the respective element (<code style="white-space: pre;">⁠@value⁠</code> in most cases)
should be attached to the name of the variable in the resulting table. Defaults to <code>FALSE</code>.
</p>
</li>
</ul>
<p>A full <code>fhir_table_description</code> looks for example like this:
</p>
<div class="sourceCode"><pre>fhir_resource_type: Patient

fhir_columns:
column name | xpath expression
------------------------
name        | name/family
gender      | gender
id          | id

sep:           ':::'
brackets:      '[', ']'
rm_empty_cols: FALSE
format:        'compact'
keep_attr:     FALSE
</pre></div>


<h3>Slots</h3>


<dl>
<dt><code>resource</code></dt>
<dd>
<p>An object of class fhir_resource_type defining the resource type that
should be extracted.</p>
</dd>
<dt><code>cols</code></dt>
<dd>
<p>An object of class fhir_columns describing which columns should be created and how.
If this is an empty fhir_columns object, the call to <code>fhir_crack()</code> will extract all available
elements and put them in automatically named columns.</p>
</dd>
<dt><code>sep</code></dt>
<dd>
<p>A character of length one containing the separator string used for separating multiple entries in cells when <code>format = "compact"</code>.
ignored when <code>format = "wide"</code>.</p>
</dd>
<dt><code>brackets</code></dt>
<dd>
<p>A character of length one or two used for the indices of multiple entries. The first one is the opening bracket
and the second one the closing bracket. Vectors of length one will be recycled.
Defaults to <code>character(0)</code>, i.e. no brackets, meaning that multiple entries won't be indexed.</p>
</dd>
<dt><code>rm_empty_cols</code></dt>
<dd>
<p>A logical of length one indicating whether empty columns should be removed from the resulting table or not. Defaults to FALSE.</p>
</dd>
<dt><code>format</code></dt>
<dd>
<p>A character of length one indicating whether the resulting table should be cracked to a <code>wide</code> or <code>compact</code> format.
<code>wide</code> means multiple entries will be distributed over several columns with indexed names. <code>compact</code> means multiple entries will be pasted into one cell/column separated by <code>sep</code> .
Defaults to <code>compact</code>.</p>
</dd>
<dt><code>keep_attr</code></dt>
<dd>
<p>A logical of length one indicating whether the attribute name of the respective element (<code style="white-space: pre;">⁠@value⁠</code> in most cases)
should be attached to the name of the variable in the resulting table. Defaults to <code>FALSE</code></p>
</dd>
</dl>
<h3>See Also</h3>

<p><code>fhir_resource_type()</code>,<code>fhir_columns()</code>, <code>fhir_design()</code>, <code>fhir_crack()</code>
</p>


</div>