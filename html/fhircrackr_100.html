<div class="container">

<table style="width: 100%;"><tr>
<td>fhir_tree</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Represent a wide cast table as a tree</h2>

<h3>Description</h3>

<p>This function takes a wide table as created by <code>fhir_crack()</code> with <code>format="wide"</code>and creates the tree structure implicit in the
column names of the tables. It is useful to get an overview over the implied structure when planning to create
FHIR bundles from this table using <code>fhir_build_bundle()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fhir_tree(
  table,
  brackets,
  resource = "Resource",
  keep_attr = FALSE,
  keep_ids = FALSE,
  skip_one = FALSE,
  format = "plain",
  prompt = ": "
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>table</code></td>
<td>
<p>A data.frame or data.table as produced by <code>fhir_crack()</code> with <code>format="wide"</code> or <code>fhir_cast()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>brackets</code></td>
<td>
<p>A character vector of length two. The brackets used in the table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resource</code></td>
<td>
<p>A character vector of length one or fhir_resource_type object indicating which resource type the table is build from.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_attr</code></td>
<td>
<p>A logical vector of length one indicating whether attributes should be displayed or not.
Only used for formats <code>"plain"</code> and <code>"fancy"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_ids</code></td>
<td>
<p>A logical vector of length one indicating whether indices should be displayed or not.
Only used for formats <code>"plain"</code> and <code>"fancy"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip_one</code></td>
<td>
<p>A logical vector of length one indicating whether first index 1 should be displayed or not.
Only used for formats <code>"plain"</code> and <code>"fancy"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>The format of the tree. One of <code>"plain"</code>, <code>"fancy"</code> or <code>"xml"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prompt</code></td>
<td>
<p>A character vector of length one use as prompt
Only used for formats <code>"plain"</code> and <code>"fancy"</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A string that can be used with <code>cat()</code> or can be written to a text file.
</p>


<h3>See Also</h3>

<p><code>fhir_cast()</code>, <code>fhir_build_bundle()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#' #unserialize example
bundles &lt;- fhir_unserialize(bundles = example_bundles1)

#crack fhir resources
table_desc &lt;- fhir_table_description(
    resource = "Patient",
    brackets = c("[", "]"),
    sep      = " ",
    format   = "wide"
)

df &lt;- fhir_crack(bundles = bundles, design = table_desc)


###show tree

#plain format
cat(fhir_tree(
       table = df,
       brackets = c("[", "]"),
       resource = "Patient"
    )
 )

#fancy format with indices
cat(fhir_tree(
       table = df,
       brackets = c("[", "]"),
       resource = "Patient",
       format = "fancy",
       keep_ids = TRUE
     )
)

#xml format
cat(fhir_tree(
       table = df,
       brackets = c("[", "]"),
       resource = "Patient",
       format = "xml"
     )
 )
</code></pre>


</div>