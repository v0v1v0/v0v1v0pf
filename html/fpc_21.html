<div class="container">

<table style="width: 100%;"><tr>
<td>clustatsum</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute and format cluster validation statistics</h2>

<h3>Description</h3>

<p><code>clustatsum</code> computes cluster validation statistics by running
<code>cqcluster.stats</code>, 
and potentially <code>distrsimilarity</code>, and collecting some key
statistics values with a somewhat different nomenclature.
</p>
<p>This was implemented as a helper function for use inside of
<code>clusterbenchstats</code> and <code>cgrestandard</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">clustatsum(datadist=NULL,clustering,noisecluster=FALSE,
                       datanp=NULL,npstats=FALSE,useboot=FALSE,
                       bootclassif=NULL,
                       bootmethod="nselectboot",
                       bootruns=25, cbmethod=NULL,methodpars=NULL,
                       distmethod=NULL,dnnk=2,
                       pamcrit=TRUE,...)

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>datadist</code></td>
<td>
<p>distances on which validation-measures are based, <code>dist</code>
object or distance matrix. If <code>NULL</code>, this is computed from
<code>datanp</code>; at least one of <code>datadist</code> and <code>datanp</code>
must be specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clustering</code></td>
<td>
<p>an integer vector of length of the number of cases,
which indicates a clustering. The clusters have to be numbered
from 1 to the number of clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noisecluster</code></td>
<td>
<p>logical. If <code>TRUE</code>, it is assumed that the
largest cluster number in <code>clustering</code> denotes a 'noise
class', i.e. points that do not belong to any cluster. These points
are not taken into account for the computation of all functions of
within and between cluster distances including the validation
indexes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>datanp</code></td>
<td>
<p>optional observations times variables data matrix, see
<code>npstats</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>npstats</code></td>
<td>
<p>logical. If <code>TRUE</code>, <code>distrsimilarity</code>
is called and the two statistics computed there are added to the
output. These are based on <code>datanp</code> and require <code>datanp</code>
to be specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useboot</code></td>
<td>
<p>logical. If <code>TRUE</code>, a stability index (either
<code>nselectboot</code> or <code>prediction.strength</code>) will be involved.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bootclassif</code></td>
<td>
<p>If <code>useboot=TRUE</code>, a string indicating the
classification method to be used with the stability index, see the
<code>classification</code> argument of <code>nselectboot</code> and
<code>prediction.strength</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bootmethod</code></td>
<td>
<p>either <code>"nselectboot"</code> or
<code>"prediction.strength"</code>; stability index to be used if
<code>useboot=TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bootruns</code></td>
<td>
<p>integer. Number of resampling runs. If
<code>useboot=TRUE</code>, passed on as <code>B</code> to
<code>nselectboot</code> or
<code>M</code> to <code>prediction.strength</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cbmethod</code></td>
<td>
<p>CBI-function (see <code>kmeansCBI</code>); clustering
method to be used for
stability assessment if <code>useboot=TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>methodpars</code></td>
<td>
<p>parameters to be passed on to <code>cbmethod</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distmethod</code></td>
<td>
<p>logical. In case of <code>useboot=TRUE</code> indicates
whether <code>cbmethod</code> will interpret data as distances.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dnnk</code></td>
<td>
<p><code>nnk</code>-argument to be passed on to
<code>distrsimilarity</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pamcrit</code></td>
<td>
<p><code>pamcrit</code>-argument to be passed on to
<code>cqcluster.stats</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments to be passed on to
<code>cqcluster.stats</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>clustatsum</code> returns a list. The components, as listed below, are
outputs of <code>summary.cquality</code> with default parameters,
which means that they are partly transformed versions of those given
out by <code>cqcluster.stats</code>, i.e., their range is between 0
and 1 and large values are good. Those from
<code>distrsimilarity</code> are computed with
<code>largeisgood=TRUE</code>, correspondingly.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>avewithin</code></td>
<td>
<p>average distance within clusters (reweighted so
that every observation, rather than every distance, has the same weight).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mnnd</code></td>
<td>
<p>average distance to <code>nnk</code>th nearest neighbour within
cluster.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cvnnd</code></td>
<td>
<p>coefficient of variation of dissimilarities to
<code>nnk</code>th nearest wthin-cluster neighbour, measuring uniformity of
within-cluster densities, weighted over all clusters, see Sec. 3.7 of
Hennig (2019).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxdiameter</code></td>
<td>
<p>maximum cluster diameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>widestgap</code></td>
<td>
<p>widest within-cluster gap or average of cluster-wise
widest within-cluster gap, depending on parameter <code>averagegap</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sindex</code></td>
<td>
<p>separation index, see argument <code>sepindex</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minsep</code></td>
<td>
<p>minimum cluster separation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>asw</code></td>
<td>
<p>average silhouette
width. See <code>silhouette</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dindex</code></td>
<td>
<p>this index measures to what extent the density decreases
from the cluster mode to the outskirts; I-densdec in Sec. 3.6 of
Hennig (2019).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>denscut</code></td>
<td>
<p>this index measures whether cluster boundaries run
through density valleys; I-densbound in Sec. 3.6 of Hennig (2019).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>highdgap</code></td>
<td>
<p>this measures whether there is a large within-cluster
gap with high density on both sides; I-highdgap in Sec. 3.6 of
Hennig (2019).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pearsongamma</code></td>
<td>
<p>correlation between distances and a
0-1-vector where 0 means same cluster, 1 means different clusters.
"Normalized gamma" in Halkidi et al. (2001).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>withinss</code></td>
<td>
<p>a generalisation of the within clusters sum
of squares (k-means objective function), which is obtained if
<code>d</code> is a Euclidean distance matrix.  For general distance
measures, this is half
the sum of the within cluster squared dissimilarities divided by the
cluster size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>entropy</code></td>
<td>
<p>entropy of the distribution of cluster memberships,
see Meila(2007).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pamc</code></td>
<td>
<p>average distance to cluster centroid.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kdnorm</code></td>
<td>
<p>Kolmogorov distance between distribution of
within-cluster Mahalanobis
distances and appropriate chi-squared distribution, aggregated over
clusters (I am grateful to Agustin Mayo-Iscar for the idea).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kdunif</code></td>
<td>
<p>Kolmogorov distance between distribution of distances to
<code>nnk</code>th nearest within-cluster neighbor and appropriate
Gamma-distribution, see Byers and Raftery (1998), aggregated over
clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boot</code></td>
<td>
<p>if <code>useboot=TRUE</code>, stability value; <code>stabk</code> for
method <code>nselectboot</code>; <code>mean.pred</code> for method
<code>prediction.strength</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Christian Hennig
<a href="mailto:christian.hennig@unibo.it">christian.hennig@unibo.it</a>
<a href="https://www.unibo.it/sitoweb/christian.hennig/en/">https://www.unibo.it/sitoweb/christian.hennig/en/</a>
</p>


<h3>References</h3>

<p>Akhanli, S. and Hennig, C. (2020) Calibrating and aggregating cluster
validity indexes for context-adapted comparison of clusterings.
<em>Statistics and Computing</em>, 30, 1523-1544,
<a href="https://link.springer.com/article/10.1007/s11222-020-09958-2">https://link.springer.com/article/10.1007/s11222-020-09958-2</a>, <a href="https://arxiv.org/abs/2002.01822">https://arxiv.org/abs/2002.01822</a>
</p>
<p>Halkidi, M., Batistakis, Y., Vazirgiannis, M. (2001) On Clustering
Validation Techniques, <em>Journal of Intelligent Information
Systems</em>, 17, 107-145.
</p>
<p>Hennig, C. (2019) Cluster validation by measurement of clustering
characteristics relevant to the user. In C. H. Skiadas (ed.)
<em>Data Analysis and Applications 1: Clustering and Regression,
Modeling-estimating, Forecasting and Data Mining, Volume 2</em>, Wiley,
New York 1-24,
<a href="https://arxiv.org/abs/1703.09282">https://arxiv.org/abs/1703.09282</a>
</p>
<p>Kaufman, L. and Rousseeuw, P.J. (1990). "Finding Groups in Data:
An Introduction to Cluster Analysis". Wiley, New York.
</p>
<p>Meila, M. (2007) Comparing clusterings?an information based distance,
<em>Journal of Multivariate Analysis</em>, 98, 873-895.
</p>


<h3>See Also</h3>

<p><code>cqcluster.stats</code>, <code>distrsimilarity</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">  
  set.seed(20000)
  options(digits=3)
  face &lt;- rFace(20,dMoNo=2,dNoEy=0,p=2)
  dface &lt;- dist(face)
  complete3 &lt;- cutree(hclust(dface),3)
  clustatsum(dface,complete3)
  
</code></pre>


</div>