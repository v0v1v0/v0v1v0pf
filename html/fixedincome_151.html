<div class="container">

<table style="width: 100%;"><tr>
<td>SpotRate-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>SpotRate class</h2>

<h3>Description</h3>

<p>The <code>SpotRate</code> class abstracts the interst rate and has methods
to handle many calculations on it.
</p>


<h3>Details</h3>

<p>The <code>SpotRate</code> class fully specifies spot rates.
It has:
</p>

<ul>
<li>
<p> the spot rate values which are numeric values representing the rate.
</p>
</li>
<li>
<p> the compounding regime that specifies how to compound the spot
rate. This is a <code>Compounding</code> object.
</p>
</li>
<li>
<p> the daycount rule to compute the compounding periods right
adjusted to the spot rate frequency.
</p>
</li>
<li>
<p> the calendar according to which the number of days are counted.
</p>
</li>
</ul>
<p>The <code>SpotRate</code> class is a <code>numeric</code>, that represents the
interest rate and that has the slots: <code>compounding</code>, <code>daycount</code>
and <code>calendar</code>.
</p>
<p>For example, an annual simple interest rate of 6%, that compounds in
calendar days, is defined as follows:
</p>
<div class="sourceCode r"><pre>sr_simple &lt;- spotrate(0.06, "simple", "actual/360", "actual")
sr_simple
#&gt; [1] "0.06 simple actual/360 actual"
</pre></div>
<p><code>actual/360</code> is the daycount rule and <code>actual</code> is the calendar.
</p>
<p>Differently, an annual compound interest rate of 10%, that compounds
in business days according to calendar <code>Brazil/ANBIMA</code> is
</p>
<div class="sourceCode r"><pre>sr_disc &lt;- spotrate(0.1, "discrete", "business/252", "Brazil/ANBIMA")
sr_disc
#&gt; [1] "0.1 discrete business/252 Brazil/ANBIMA"
</pre></div>
<p>The <code>calendar</code> slot is a <code>bizdays</code> calendar.
</p>
<p>An $100,000 investment in an instrument that pays that interst rate for 5
years has the future value.
</p>
<div class="sourceCode r"><pre>100000 * compound(sr_disc, term(5, "years"))
#&gt; [1] 161051
</pre></div>
<p>for the simple interest rate we have
</p>
<div class="sourceCode r"><pre>100000 * compound(sr_simple, term(5, "years"))
#&gt; [1] 130000
</pre></div>
<p>SpotRate objects can be created with vectors
</p>
<div class="sourceCode r"><pre>rates &lt;- c(1.69, 0.16, 0.07, 0.72, 0.10, 1.60, 0.18, 1.56, 0.60, 1.69)
sr_vec &lt;- spotrate(rates, "discrete", "business/252", "Brazil/ANBIMA")
sr_vec
#&gt;  [1] "1.69 discrete business/252 Brazil/ANBIMA"
#&gt;  [2] "0.16 discrete business/252 Brazil/ANBIMA"
#&gt;  [3] "0.07 discrete business/252 Brazil/ANBIMA"
#&gt;  [4] "0.72 discrete business/252 Brazil/ANBIMA"
#&gt;  [5] "0.10 discrete business/252 Brazil/ANBIMA"
#&gt;  [6] "1.60 discrete business/252 Brazil/ANBIMA"
#&gt;  [7] "0.18 discrete business/252 Brazil/ANBIMA"
#&gt;  [8] "1.56 discrete business/252 Brazil/ANBIMA"
#&gt;  [9] "0.60 discrete business/252 Brazil/ANBIMA"
#&gt; [10] "1.69 discrete business/252 Brazil/ANBIMA"
</pre></div>
<p>and can be put into a <code>data.frame</code>
</p>
<div class="sourceCode r"><pre>data.frame(spot_rate = sr_vec)
#&gt;                                   spot_rate
#&gt; 1  1.69 discrete business/252 Brazil/ANBIMA
#&gt; 2  0.16 discrete business/252 Brazil/ANBIMA
#&gt; 3  0.07 discrete business/252 Brazil/ANBIMA
#&gt; 4  0.72 discrete business/252 Brazil/ANBIMA
#&gt; 5  0.10 discrete business/252 Brazil/ANBIMA
#&gt; 6  1.60 discrete business/252 Brazil/ANBIMA
#&gt; 7  0.18 discrete business/252 Brazil/ANBIMA
#&gt; 8  1.56 discrete business/252 Brazil/ANBIMA
#&gt; 9  0.60 discrete business/252 Brazil/ANBIMA
#&gt; 10 1.69 discrete business/252 Brazil/ANBIMA
</pre></div>
<p>once in a <code>data.frame</code>, dplyr verbs can be used to manipulate it.
</p>
<div class="sourceCode r"><pre>require(dplyr, warn.conflicts = FALSE)
#&gt; Loading required package: dplyr

data.frame(spot_rate = sr_vec) |&gt;
   mutate(comp = compound(spot_rate, term(5, "months")))
#&gt;                                   spot_rate     comp
#&gt; 1  1.69 discrete business/252 Brazil/ANBIMA 1.510301
#&gt; 2  0.16 discrete business/252 Brazil/ANBIMA 1.063794
#&gt; 3  0.07 discrete business/252 Brazil/ANBIMA 1.028592
#&gt; 4  0.72 discrete business/252 Brazil/ANBIMA 1.253536
#&gt; 5  0.10 discrete business/252 Brazil/ANBIMA 1.040512
#&gt; 6  1.60 discrete business/252 Brazil/ANBIMA 1.489037
#&gt; 7  0.18 discrete business/252 Brazil/ANBIMA 1.071398
#&gt; 8  1.56 discrete business/252 Brazil/ANBIMA 1.479449
#&gt; 9  0.60 discrete business/252 Brazil/ANBIMA 1.216326
#&gt; 10 1.69 discrete business/252 Brazil/ANBIMA 1.510301
</pre></div>
<p>SpotRate is <code>numeric</code>, so it executes arithmetic and comparison operations
with <code>numeric</code> objects.
</p>
<div class="sourceCode r"><pre>data.frame(spot_rate = sr_vec) |&gt;
   mutate(
     new_spot_rate = spot_rate + 0.02,
     check_gt_1pp = spot_rate &gt; 0.01,
     check_gt_nsr = spot_rate &gt; new_spot_rate
   )
#&gt;                                   spot_rate
#&gt; 1  1.69 discrete business/252 Brazil/ANBIMA
#&gt; 2  0.16 discrete business/252 Brazil/ANBIMA
#&gt; 3  0.07 discrete business/252 Brazil/ANBIMA
#&gt; 4  0.72 discrete business/252 Brazil/ANBIMA
#&gt; 5  0.10 discrete business/252 Brazil/ANBIMA
#&gt; 6  1.60 discrete business/252 Brazil/ANBIMA
#&gt; 7  0.18 discrete business/252 Brazil/ANBIMA
#&gt; 8  1.56 discrete business/252 Brazil/ANBIMA
#&gt; 9  0.60 discrete business/252 Brazil/ANBIMA
#&gt; 10 1.69 discrete business/252 Brazil/ANBIMA
#&gt;                               new_spot_rate check_gt_1pp check_gt_nsr
#&gt; 1  1.71 discrete business/252 Brazil/ANBIMA         TRUE        FALSE
#&gt; 2  0.18 discrete business/252 Brazil/ANBIMA         TRUE        FALSE
#&gt; 3  0.09 discrete business/252 Brazil/ANBIMA         TRUE        FALSE
#&gt; 4  0.74 discrete business/252 Brazil/ANBIMA         TRUE        FALSE
#&gt; 5  0.12 discrete business/252 Brazil/ANBIMA         TRUE        FALSE
#&gt; 6  1.62 discrete business/252 Brazil/ANBIMA         TRUE        FALSE
#&gt; 7  0.20 discrete business/252 Brazil/ANBIMA         TRUE        FALSE
#&gt; 8  1.58 discrete business/252 Brazil/ANBIMA         TRUE        FALSE
#&gt; 9  0.62 discrete business/252 Brazil/ANBIMA         TRUE        FALSE
#&gt; 10 1.71 discrete business/252 Brazil/ANBIMA         TRUE        FALSE
</pre></div>
<p>SpotRate vectors also are created with the concatenation function <code>c</code>.
</p>
<div class="sourceCode r"><pre>c(sr_disc, 0.1, 0.13, 0.14, 0.15)
#&gt; [1] "0.10 discrete business/252 Brazil/ANBIMA"
#&gt; [2] "0.10 discrete business/252 Brazil/ANBIMA"
#&gt; [3] "0.13 discrete business/252 Brazil/ANBIMA"
#&gt; [4] "0.14 discrete business/252 Brazil/ANBIMA"
#&gt; [5] "0.15 discrete business/252 Brazil/ANBIMA"
</pre></div>
<p>Furtherly, all indexing operations of numeric objects are supported by
SpotRate objects.
</p>


<h4>Invalid Operations</h4>

<p>Operations involving SpotRate objects with different <code>compounding</code>,
<code>daycount</code> or <code>calendar</code>, raise errors.
</p>
<p>This happens with the following operations:
</p>

<ul>
<li>
<p> Compare: &gt;, &lt;, &lt;=, &gt;=
</p>
</li>
<li>
<p> Arithmetic: +, -, *, /
</p>
</li>
<li>
<p> Concatenation: <code>c</code>
</p>
</li>
</ul>
<div class="sourceCode r"><pre>try(sr_simple + sr_disc)
#&gt; Error in stop_if_spotrate_slots_differ(e1, e2, "SpotRate objects have different slots") : 
#&gt;   SpotRate objects have different slots
try(sr_simple &gt; sr_disc)
#&gt; Error in stop_if_spotrate_slots_differ(e1, e2, "SpotRate objects have different slots") : 
#&gt;   SpotRate objects have different slots
try(c(sr_simple, sr_disc))
#&gt; Error in stop_if_spotrate_slots_differ(x, values_, "SpotRate objects have different slots") : 
#&gt;   SpotRate objects have different slots
</pre></div>



<h3>Note</h3>

<p>The <code>SpotRate</code> objects are annual rates.
</p>


</div>