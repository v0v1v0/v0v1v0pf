<div class="container">

<table style="width: 100%;"><tr>
<td>fhir_authenticate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create token for Authentication</h2>

<h3>Description</h3>

<p>This function is a wrapper to create an httr::Token object for authentication with OAuth2/OpenID Connect.
Internally, it calls <code>httr::oauth_app()</code>, <code>httr::oauth_endpoint()</code> and <code>httr::oauth2.0_token()</code> to create a token that can
then be used in fhir_search.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fhir_authenticate(
  secret,
  key,
  base_url,
  access,
  authorize,
  query_authorize_extra = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>secret</code></td>
<td>
<p>The consumer/client secret, belonging to <code>key</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p>Consumer key, also called client ID.
For Keycloak this would for instance be the Keycloak client, e.g. "postman".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base_url</code></td>
<td>
<p>The URL the user will be redirected to after authorization is complete.
This will usually be the base url of you FHIR server.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>access</code></td>
<td>
<p>The url used to exchange unauthenticated for authenticated token.
This can be identical to <code>authorize</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>authorize</code></td>
<td>
<p>The url to send the client for authorization.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>query_authorize_extra</code></td>
<td>
<p>A named list holding query parameters to append to initial auth page query.
Could hold info about user identity and scope for keycloak like this:
</p>
<div class="sourceCode"><pre>list(scope = "openid",
     grant_type = "password",
     username = "fhir-user",
     password = "fhirtest")
</pre></div>
</td>
</tr>
</table>
</div>