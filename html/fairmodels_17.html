<div class="container">

<table style="width: 100%;"><tr>
<td>group_matrices</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Group confusion matrices</h2>

<h3>Description</h3>

<p>Calculates confusion matrices for each subgroup
</p>


<h3>Usage</h3>

<pre><code class="language-R">group_matrices(protected, probs, preds, cutoff)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>protected</code></td>
<td>
<p>vector containing protected variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probs</code></td>
<td>
<p><code>character</code> name of column with probabilities</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>preds</code></td>
<td>
<p>numeric, vector with predictions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff</code></td>
<td>
<p><code>numeric</code> cutoff for probabilities, default = 0.5</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>group_matrices</code> object
It is a list with values:
</p>

<p>For each subgroup:
</p>
<ul><li>
<p> subgroup
</p>

<ul>
<li>
<p>tp - number of true positives
</p>
</li>
<li>
<p>fp - number of false positives
</p>
</li>
<li>
<p>tn - number of true negatives
</p>
</li>
<li>
<p>fn - number of false negatives
</p>
</li>
</ul>
</li></ul>
<h3>Examples</h3>

<pre><code class="language-R">data("compas")

glm_compas &lt;- glm(Two_yr_Recidivism ~ ., data = compas, family = binomial(link = "logit"))
y_prob &lt;- glm_compas$fitted.values

y_numeric &lt;- as.numeric(compas$Two_yr_Recidivism) - 1

gm &lt;- group_matrices(compas$Ethnicity,
  y_prob,
  y_numeric,
  cutoff = list(
    Asian = 0.45,
    African_American = 0.5,
    Other = 0.5,
    Hispanic = 0.5,
    Caucasian = 0.4,
    Native_American = 0.5
  )
)

gm
</code></pre>


</div>