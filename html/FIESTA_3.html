<div class="container">

<table style="width: 100%;"><tr>
<td>datBarStacked</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Data - Generates frequency barplot.</h2>

<h3>Description</h3>

<p>Generate a barplot of frequencies in order from most to least.
</p>


<h3>Usage</h3>

<pre><code class="language-R">datBarStacked(
  x,
  main.attribute,
  sub.attribute,
  response = "phat",
  percent = FALSE,
  LUT.color = NULL,
  color = "rainbow",
  device.type = "default",
  jpeg.res = 300,
  device.width = 9,
  device.height = 6,
  mar = NULL,
  horiz = TRUE,
  bar.lim = NULL,
  bar.ratio = 1,
  ylabel = NULL,
  xlabel = NULL,
  las.xnames = NULL,
  main.order = NULL,
  sub.order = NULL,
  legend.fit = NULL,
  legend.cex = 0.8,
  legend.x = NULL,
  legend.y = NULL,
  legend.title = NULL,
  legend.bty = "o",
  legend.bg = par("bg"),
  legend.inset = 0,
  legend.xpd = par("xpd"),
  main = NULL,
  cex.main = 1,
  cex.label = 1,
  cex.names = 0.8,
  sub.add0 = FALSE,
  savedata = FALSE,
  outfolder = NULL,
  outfn = NULL,
  outfn.pre = NULL,
  outfn.date = TRUE,
  overwrite = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Data frame or comma-delimited file (*.csv) - table of values to be
plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main.attribute</code></td>
<td>
<p>String. The column to be used for each bar.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sub.attribute</code></td>
<td>
<p>String. The column to be used to subdivide each bar.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>response</code></td>
<td>
<p>String. The column of values to be plotted. Currently
defaults to "phat".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>percent</code></td>
<td>
<p>Logical. If TRUE, values cover values in a stack are
converted to percent of stack.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LUT.color</code></td>
<td>
<p>Data frame or comma-delimited file (*.csv) - look up table
for colors.  Must contain column with same name as sub.attribute.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>String. Automated color selection ("rainbow", "topo", "heat",
"terrain", "cm").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>device.type</code></td>
<td>
<p>String. The type(s) of device for plotting ("default",
"jpg", "pdf", or "ps").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jpeg.res</code></td>
<td>
<p>Integer. The resolution for jpeg image.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>device.width</code></td>
<td>
<p>Integer. The width of output device (in inches)'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>device.height</code></td>
<td>
<p>Integer. The height of output device (in inches)'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mar</code></td>
<td>
<p>See par.. A numerical vector representing number of lines for
margins (c(bottom, left, top, right).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>horiz</code></td>
<td>
<p>Logical. See barplot. If FALSE, the bars are drawn vertically
with the first bar to the left. If TRUE, the bars are drawn horizontally
with the first bar at the bottom.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bar.lim</code></td>
<td>
<p>Number vector. Equivalent to xlim or ylim, for whichever is
the lengthwise axis in barcharts (ex. c(0,10)). Warning: for lower limits
other than zero (ex. c(20,100), will behave strangely because par(xpd) is
set to NA.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bar.ratio</code></td>
<td>
<p>Proportion of figure area taken up by barplot vs taken by
legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylabel</code></td>
<td>
<p>String. A label for the y axis (same as ylab).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlabel</code></td>
<td>
<p>String. A label for the x axis (same as xlab).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>las.xnames</code></td>
<td>
<p>Number. The direction of x variable names (0,1,2,3).
0:Default, parallel; 1:horizontal; 2:perpendicular; 3:vertical.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main.order</code></td>
<td>
<p>String vector. A vector of main.attribute names in desired
order for bars. May also be 'DESC' or 'ASC'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sub.order</code></td>
<td>
<p>String vector. Avector of sub.attribute names in desired
order for stack, with the first name used as the column in each stack. If
NULL, the order is based on the overall cover of each sub.attribute. May
also be 'DESC' or 'ASC'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.fit</code></td>
<td>
<p>Logical. Should bar.lim be changed to fit the legend of
the plot.  Will only be used if the legend is on the right side of a
horizontal plot or the top of a vertical plot. (i.e. horiz=FALSE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.cex</code></td>
<td>
<p>Number. Expansion factor for legend text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.x</code></td>
<td>
<p>See legend. The x coordinate to be used to position the
legend. If horiz=TRUE, suggested options include "topright" or
"bottomright". If horiz=FALSE, suggested options include "topleft" or
"topright".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.y</code></td>
<td>
<p>See legend. The y coordinate to be used to position the
legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.title</code></td>
<td>
<p>See legend. A title for the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.bty</code></td>
<td>
<p>See legend. the type of box to be drawn around the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.bg</code></td>
<td>
<p>See legend. The background color for the legend box.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.inset</code></td>
<td>
<p>See legend. The distance from the margins as a fraction
of the plot region.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.xpd</code></td>
<td>
<p>See legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>String. Title for plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.main</code></td>
<td>
<p>Number. Expansion factor for title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.label</code></td>
<td>
<p>Number. A number representing cex in barplot (size
expansion of x and/or ylabels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.names</code></td>
<td>
<p>Number. Expansion factor for axis names (bar labels). Ex.
0.5 represents half the size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sub.add0</code></td>
<td>
<p>Logical. If TRUE, adds categories with 0 values to
sub.attribute legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>savedata</code></td>
<td>
<p>Logical. If TRUE, writes output data to outfolder (jpg and
pdf).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outfolder</code></td>
<td>
<p>String. The name of the output folder. If savedata=TRUE,
all output saved to the outfolder. If savedata=FALSE, only a text file of
input parameters is saved.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outfn</code></td>
<td>
<p>String. The name of the output file if savedata=TRUE (*.csv).
Do not include extension. If NULL, the file will be named
BARPLOT_'yvar_date'.csv</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outfn.pre</code></td>
<td>
<p>String. Add a prefix to output name (e.g., "01").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outfn.date</code></td>
<td>
<p>Logical. If TRUE, add date to end of outfile (e.g.,
outfn_'date'.csv).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>Logical. If TRUE and exportshp=TRUE, overwrite files in
outfolder.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>list of additional arguments to pass to barplot(); names of the
list are used as argument names.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p># Note: This function uses a customized lengthwise axis (y axis if horiz=F,
x axis if horiz=T) # Therefore to modify this axis by par commands (other
than the # ones specifically included above) may require changing the
function. For example par(yaxp) # may not work.  # # # The arguments bar.lab
and bar.lim are equivalent to xlab/ylab, xlim/ylim, controlling # whichever
is the lengthwise axis in the bar charts (as determined by horiz).  # # #
bar.ratio is only used when bar.lim is specified, it controls what
percentage of the # plot area will be occupied by the specified range of the
chart itself. For example, setting # bar.lim=c(0,80) and bar.ratio=0.75 will
result in the 80
region, leaving 25
the bars are taller than 80
bar.lim is not specified, the function will automatically scale the
lengthwise axis so # that all the bars are as tall as possible, but none of
the bars over lap the legend.  # # The main purpose of specifying bar.lim is
if you want multiple forest types to be shown at # the same scale,
sacrificing individual forest type details to make the graphs comparable #
across forest types. Then you may need to fiddle with bar.ratio till the
plots all look good.
</p>


<h3>Value</h3>

<p>Outputs stacked barplot to display window.
</p>


<h3>Note</h3>

<p>If savedata = TRUE, writes a jpg and pdf of barplot to outfolder.
</p>


<h3>Author(s)</h3>

<p>Elizabeth Freeman, Tracey S. Frescino
</p>


</div>