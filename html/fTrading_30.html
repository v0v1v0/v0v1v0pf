<div class="container">

<table style="width: 100%;"><tr>
<td>RollingAnalysis</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Rolling Analysis</h2>

<h3>Description</h3>

<p>A collection and description of functions
to perform a rolling analysis. A rolling
analysis is often required in building
trading models.
<br></p>
<p>The functions are:
</p>

<table>
<tr>
<td style="text-align: left;">
    <code>rollFun</code> </td>
<td style="text-align: left;"> Rolling or moving sample statistics, </td>
</tr>
<tr>
<td style="text-align: left;">



    <code>rollVar</code> </td>
<td style="text-align: left;"> Rolling or moving sample variance. </td>
</tr>
</table>
<h3>Usage</h3>

<pre><code class="language-R">rollFun(x, n, trim = TRUE, na.rm = FALSE, FUN, ...)



rollVar(x, n = 9, trim = TRUE, unbiased = TRUE, na.rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>

<p>the rolling function, arguments to this function can be
passed through the <code>...</code> argument.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>

<p>an integer specifying the number of periods or
terms to use in each rolling/moving sample.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>

<p>a logical flag: if TRUE, missing values in x will be removed
before computation. The default is FALSE.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trim</code></td>
<td>

<p>a logical flag: if TRUE, the first n-1 missing values in
the returned object will be removed; if FALSE, they will
be saved in the returned object. The default is TRUE.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unbiased</code></td>
<td>

<p>a logical flag. If TRUE, the unbiased sample variance
will be returned. The default is TRUE.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>an univariate <code>timeSeries</code> object or a numeric vector.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>additional arguments to be passed.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The functions return a <code>timeSeries</code> object or a numeric
vector, depending on the argument <code>x</code>.
</p>
<p><code>rollMax</code> returns the rolling sample maximum, <br><code>rollMin</code> returns the rolling sample minimum, <br><code>rollMean</code> returns the rolling sample mean, and <br><code>rollVar</code> returns the biased/unbiased rolling sample variance.
</p>
<p>Note, that the function <code>rollFun</code> always returns a numeric
vector, independent of the argument <code>x</code>.
</p>
<p>If you like to operate for <code>x</code> with rectangular objects,
you have to call the functions columnwise within a loop.
</p>


<h3>Author(s)</h3>

<p>Diethelm Wuertz for the Rmetrics <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>-port.
</p>


<h3>See Also</h3>

<p><code>var</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Rolling Analysis:
   x = (1:10)^2
   x
   trim =  c(TRUE, TRUE, FALSE, FALSE)
   na.rm = c(TRUE, FALSE, TRUE, FALSE)
   for (i in 1:4)
     rollFun(x, 5, trim[i], na.rm[i], FUN = min)
   for (i in 1:4)
     rollFun(x, 5, trim[i], na.rm[i], FUN = max)
   for (i in 1:4)
     rollVar(x, 5, trim[i], unbiased = TRUE, na.rm[i])
   for (i in 1:4)
     rollVar(x, 5, trim[i], unbiased = FALSE, na.rm[i])
</code></pre>


</div>