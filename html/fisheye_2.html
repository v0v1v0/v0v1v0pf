<div class="container">

<table style="width: 100%;"><tr>
<td>fisheye</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>fisheye</h2>

<h3>Description</h3>

<p>This function transform an sf layer with a fisheye
transformation. Several methods are available. This is a visualisation
method that should not be used for geospatial calculation (area,
distances...).
The output sf object has no CRS as it is not relevant.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fisheye(x, centre, method = "log", k = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an sf object (POINT, LINESTRING, MULTILINESTRING, POLYGON,
MULTIPOLYGON) to be transformed. This object needs to be projected
(no lon/lat).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>centre</code></td>
<td>
<p>an sf object, the center of the transformation. This object
must use the same projection as x.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>transfomation method, either 'log' or 'sqrt'. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>integer, factor to adjust the log transformation, higher values
soften the deformation. See Details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The 'log' method transforms distances to <code>center</code> with:
<code class="reqn">{d}' = \log(1 + 10^{-k} * d)</code>
<br>
The 'sqrt' method transforms distances to <code>center</code> with:
<code class="reqn">{d}' = \sqrt(d)</code>
</p>


<h3>Value</h3>

<p>A transformed sf object is returned.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(sf)
ncraw &lt;- st_read(system.file("shape/nc.shp", package="sf"), quiet = TRUE)
nc &lt;- st_transform(ncraw, 3857)
ncfe &lt;- fisheye(nc, centre = nc[100, ], method = 'log', k = 4)
plot(st_geometry(ncfe), col = "grey70", lwd = .2)
plot(st_geometry(ncfe[100,]), col = NA, lwd = 2, border = "red", add = TRUE)
</code></pre>


</div>