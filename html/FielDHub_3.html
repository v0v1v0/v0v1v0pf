<div class="container">

<table style="width: 100%;"><tr>
<td>diagonal_arrangement</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Spatial Un-replicated Diagonal Arrangement Design</h2>

<h3>Description</h3>

<p>Randomly generates an spatial un-replicated diagonal arrangement design.
</p>


<h3>Usage</h3>

<pre><code class="language-R">diagonal_arrangement(
  nrows = NULL,
  ncols = NULL,
  lines = NULL,
  checks = NULL,
  planter = "serpentine",
  l = 1,
  plotNumber = 101,
  kindExpt = "SUDC",
  splitBy = "row",
  seed = NULL,
  blocks = NULL,
  exptName = NULL,
  locationNames = NULL,
  multiLocationData = FALSE,
  data = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nrows</code></td>
<td>
<p>Number of rows in the field.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncols</code></td>
<td>
<p>Number of columns in the field.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lines</code></td>
<td>
<p>Number of genotypes, experimental lines or treatments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>checks</code></td>
<td>
<p>Number of genotypes checks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>planter</code></td>
<td>
<p>Option for <code>serpentine</code> or <code>cartesian</code> plot arrangement. 
By default  <code>planter = 'serpentine'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>l</code></td>
<td>
<p>Number of locations or sites. By default  <code>l = 1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotNumber</code></td>
<td>
<p>Numeric vector with the starting plot number for each location. 
By default <code>plotNumber = 101</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kindExpt</code></td>
<td>
<p>Type of diagonal design, with single options: Single Un-replicated Diagonal Checks
<code>'SUDC'</code> and Decision Blocks Un-replicated Design with Diagonal Checks <code>'DBUDC'</code> 
for multiple experiments. By default <code>kindExpt = 'SUDC'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>splitBy</code></td>
<td>
<p>Option to split the field when <code>kindExpt = 'DBUDC'</code> is selected. 
By default <code>splitBy = 'row'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>(optional) Real number that specifies the starting seed to obtain reproducible designs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blocks</code></td>
<td>
<p>Number of experiments or blocks to generate an <code>DBUDC</code> design. 
If <code>kindExpt = 'DBUDC'</code> and data is null, <code>blocks</code> are mandatory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exptName</code></td>
<td>
<p>(optional) Name of the experiment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locationNames</code></td>
<td>
<p>(optional) Names each location.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multiLocationData</code></td>
<td>
<p>(optional) Option to pass an entry list for multiple locations. 
By default <code>multiLocationData = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>(optional) Data frame with 2 columns: <code>ENTRY | NAME </code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with five elements.
</p>

<ul>
<li> <p><code>infoDesign</code> is a list with information on the design parameters.
</p>
</li>
<li> <p><code>layoutRandom</code> is a matrix with the randomization layout.
</p>
</li>
<li> <p><code>plotsNumber</code> is a matrix with the layout plot number.
</p>
</li>
<li> <p><code>data_entry</code> is a data frame with the data input.
</p>
</li>
<li> <p><code>fieldBook</code> is a data frame with field book design. This includes the index (Row, Column).
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Didier Murillo [aut],
Salvador Gezan [aut],
Ana Heilman [ctb],
Thomas Walk [ctb], 
Johan Aparicio [ctb], 
Richard Horsley [ctb]
</p>


<h3>References</h3>

<p>Clarke, G. P. Y., &amp; Stefanova, K. T. (2011). Optimal design for early-generation plant
breeding trials with unreplicated or partially replicated test lines. Australian &amp; New
Zealand Journal of Statistics, 53(4), 461â€“480.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Example 1: Generates a spatial single diagonal arrangement design in one location
# with 270 treatments and 30 check plots for a field with dimensions 15 rows x 20 cols
# in a serpentine arrangement.
spatd &lt;- diagonal_arrangement(
  nrows = 15, 
  ncols = 20, 
  lines = 270, 
  checks = 4, 
  plotNumber = 101, 
  kindExpt = "SUDC", 
  planter = "serpentine", 
  seed = 1987,
  exptName = "20WRY1", 
  locationNames = "MINOT"
)
spatd$infoDesign
spatd$layoutRandom
spatd$plotsNumber
head(spatd$fieldBook, 12)

# Example 2: Generates a spatial decision block diagonal arrangement design in one location
# with 720 treatments allocated in 5 experiments or blocks for a field with dimensions
# 30 rows x 26 cols in a serpentine arrangement. In this case, we show how to set up the data 
# option with the entries list.
checks &lt;- 5;expts &lt;- 5
list_checks &lt;- paste("CH", 1:checks, sep = "")
treatments &lt;- paste("G", 6:725, sep = "")
treatment_list &lt;- data.frame(list(ENTRY = 1:725, NAME = c(list_checks, treatments)))
head(treatment_list, 12) 
tail(treatment_list, 12)
spatDB &lt;- diagonal_arrangement(
  nrows = 30, 
  ncols = 26,
  checks = 5, 
  plotNumber = 1, 
  kindExpt = "DBUDC", 
  planter = "serpentine", 
  splitBy = "row", 
  blocks = c(150,155,95,200,120),
  data = treatment_list
)
spatDB$infoDesign
spatDB$layoutRandom
spatDB$plotsNumber
head(spatDB$fieldBook,12)

# Example 3: Generates a spatial decision block diagonal arrangement design in one location
# with 270 treatments allocated in 3 experiments or blocks for a field with dimensions
# 20 rows x 15 cols in a serpentine arrangement. Which in turn is an augmented block (3 blocks).
spatAB &lt;- diagonal_arrangement(
  nrows = 20, 
  ncols = 15, 
  lines = 270, 
  checks = 4, 
  plotNumber = c(1,1001,2001), 
  kindExpt = "DBUDC", 
  planter = "serpentine",
  exptName = c("20WRA", "20WRB", "20WRC"), 
  blocks = c(90, 90, 90),
  splitBy = "column"
)
spatAB$infoDesign
spatAB$layoutRandom
spatAB$plotsNumber
head(spatAB$fieldBook,12)

</code></pre>


</div>