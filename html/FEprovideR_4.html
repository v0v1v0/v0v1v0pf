<div class="container">

<table style="width: 100%;"><tr>
<td>funnel.SRR</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Funnel plot for SRR (standardized readmission ratios)</h2>

<h3>Description</h3>

<p><code>funnel.SRR</code> produces and returns funnel plots for the analysis using discharge-specific
and patient-specific inputs with provider ID. Go to
<a href="https://github.com/umich-biostatistics/FEprovideR">Github</a> for a tutorial.
</p>


<h3>Usage</h3>

<pre><code class="language-R">funnel.SRR(input.dis, input.prov, target = 1, alphas = c(0.1, 0.05,
  0.01), type = "FE.score", sigma.b = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>input.dis</code></td>
<td>
<p>a <code>data.frame</code> consisting of discharge-specific inputs and provider ID</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input.prov</code></td>
<td>
<p>a <code>data.frame</code> consisting of provider-specific inputs and provider ID</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>target standardized readmission ratio (SRR)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alphas</code></td>
<td>
<p>numeric vector of alpha levels of interest</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>string of length one containing the type of test performed. Currently options
include "score", "exact", "FE.score", "FE.exact", "FERE.score", "FERE.exact"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma.b</code></td>
<td>
<p>sigma for random effects. Should only have value other than null
if prefix "FERE." specified
in <code>type=</code> argument</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a <code>ggplot</code> object. Unless stored in a new object,
will be printed automatically.
</p>


<h3>References</h3>

<p>He, K., Kalbfleisch, J.D., Li, Y. and Li, Y., 2013. Evaluating hospital
readmission rates in dialysis facilities; adjusting for hospital effects. Lifetime data
analysis, 19(4), pp.490-512.
</p>


<h3>See Also</h3>

<p><code>fe.data.prep</code>,  <code>fe.prov</code>,   <code>test.fe.prov</code>,
<code>confint.fe.prov</code>, <code>ggplot2</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Name input variables and other parameters
# a small positive number specifying stopping
# criterion of Newton-Raphson algorithm
tol &lt;- 1e-5
Y.char &lt;- 'Y'
prov.char &lt;- 'prov.ID'
Z.char &lt;- paste0('z', 1:3)
data(hospital_prepared) # build in data set
fe.ls &lt;- fe.prov(hospital_prepared, Y.char, Z.char, prov.char, tol) # model fitting


# Hypothesis tests
null = "median"
alpha &lt;- 0.05             # significance level
score.fe &lt;- test.fe.prov(hospital_prepared, fe.ls, Y.char,
                         Z.char, prov.char, test="score", null, alpha)

# format input data for funnel plot
input.dis &lt;- data.frame(ID=hospital_prepared[hospital_prepared$included==1, prov.char],
                        prob=fe.ls$Exp)
input.prov &lt;- data.frame(SRR=fe.ls$df.prov$SRR, flag=score.fe$flag)

# render funnel plot
target &lt;- c(1)
alphas = c(0.1, 0.05, 0.01)
funnel.SRR(input.dis, input.prov, target, alphas, type="FE.score")

</code></pre>


</div>