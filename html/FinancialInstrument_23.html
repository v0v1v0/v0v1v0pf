<div class="container">

<table style="width: 100%;"><tr>
<td>expires</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>extract the correct expires value from an <code>instrument</code>
</h2>

<h3>Description</h3>

<p>Currently, there are methods for <code>instrument</code>, <code>spread</code>,
<code>character</code>, and <code>xts</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">expires(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>instrument or name of instrument</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments to be passed to methods</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Will return either the last expiration date before a given <code>Date</code>, or 
the first expiration date after a given <code>Date</code> 
(if <code>expired==FALSE</code>).
</p>
<p>If an <code>instrument</code> contains a value for expires that does not
include a day (e.g. "2012-03"), or if the expires value is estimated from
a <code>future_series</code> primary_id, it will be assumed that the 
<code>instrument</code> expires on the first of the month (i.e. if the expires
value of an instrument were "2012-03", or if there were no expires value
but the suffix_id were "H12", the value returned would be "2012-03-01").
Note that most non-energy future_series expire after the first of the month 
indicated by their suffix_id and most energy products expire in the month
prior to their suffix_id month.
</p>


<h3>Value</h3>

<p>an expiration <code>Date</code>
</p>


<h3>Author(s)</h3>

<p>Garrett See
</p>


<h3>See Also</h3>

<p><code>expires.instrument</code>, <code>expires.character</code>, 
<code>sort_ids</code>
</p>
<p><code>getInstrument</code> and <code>buildHierarchy</code> to see actual 
values stored in <code>instrument</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
instr &lt;- instrument("FOO_U1", currency=currency("USD"), multiplier=1,
                    expires=c("2001-09-01", "2011-09-01", "2021-09-01"), 
                    assign_i=FALSE)
#Last value of expires that's not after Sys.Date
expires(instr) 
# First value of expires that hasn't already passed.
expires(instr, expired=FALSE)
# last value that's not after 2011-01-01
expires(instr, Date="2011-01-01") 
# first value that's not before 2011-01-01
expires(instr, Date="2011-01-01", expired=FALSE) 

## expires.character
expires("FOO_U1") # warning that FOO_U1 is not defined
instrument("FOO_U1", currency=currency("USD"), multiplier=1,
           expires=c("2001-09-01", "2011-09-01", "2021-09-01"), 
           assign_i=TRUE)
expires("FOO_U1")

## End(Not run)
</code></pre>


</div>