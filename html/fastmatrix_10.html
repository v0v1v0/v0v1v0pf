<div class="container">

<table style="width: 100%;"><tr>
<td>commutation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Commutation matrix</h2>

<h3>Description</h3>

<p>This function returns the commutation matrix of order <code class="reqn">mn</code> which transforms,
for an <code class="reqn">m\times n</code>  matrix <code class="reqn">\bold{A}</code>, <code>vec</code><code class="reqn">(\bold{A})</code> to
<code>vec</code><code class="reqn">(\bold{A}^T)</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">commutation(m = 1, n = m, matrix = FALSE, condensed = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p> a positive integer row dimension.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p> a positive integer column dimension.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>matrix</code></td>
<td>
<p> a logical indicating whether the commutation matrix will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>condensed</code></td>
<td>
<p> logical. Information should be returned in compact form?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is a wrapper function for the function <code>comm.info</code>. This function
provides the minimum information required to create the commutation matrix. If option
<code>matrix = FALSE</code> the commutation matrix is stored in two vectors containing the
coordinate list of indexes for rows and columns. Option <code>condensed = TRUE</code> only
returns vector of indexes for the rows of commutation matrix.
</p>
<p><b>Warning:</b> <code>matrix = TRUE</code> is <b>not</b> recommended, unless the order <code>m</code>
<b>and</b> <code>n</code> be small. This matrix can require a huge amount of storage.
</p>


<h3>Value</h3>

<p>Returns an <code class="reqn">mn</code> by <code class="reqn">mn</code> matrix (if requested).
</p>


<h3>References</h3>

<p>Magnus, J.R., Neudecker, H. (1979).
The commutation matrix: some properties and applications.
<em>The Annals of Statistics</em> <b>7</b>, 381-394.
</p>
<p>Magnus, J.R., Neudecker, H. (2007).
<em>Matrix Differential Calculus with Applications in Statistics and Econometrics</em>, 3rd Edition.
Wiley, New York.
</p>


<h3>See Also</h3>

<p><code>comm.info</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">z &lt;- commutation(m = 100, condensed = TRUE)
object.size(z) # 40.6 Kb of storage

z &lt;- commutation(m = 100, condensed = FALSE)
object.size(z) # 80.7 Kb of storage

K100 &lt;- commutation(m = 100, matrix = TRUE) # time: &lt; 2 secs
object.size(K100) # 400 Mb of storage, do not request this matrix!

# a small example
K32 &lt;- commutation(m = 3, n = 2, matrix = TRUE)
a &lt;- matrix(1:6, ncol = 2)
v &lt;- K32 %*% vec(a)
all(vec(t(a)) == as.vector(v)) # vectors are equal!
</code></pre>


</div>