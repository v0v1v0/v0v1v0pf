<div class="container">

<table style="width: 100%;"><tr>
<td>resample_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Resample data, including hierarchical data</h2>

<h3>Description</h3>

<p>This function allows you to resample any data frame. The default mode
performs a single resample of size <code>N</code> with replacement. Users can
also specify more complex resampling strategies to resample hierarchical
data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">resample_data(data, N, ID_labels = NULL, unique_labels = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data.frame, usually provided by the user.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>The number of sample observations to return. If <code>N</code> is a single
scalar and no labels are provided, <code>N</code> will specify the number of unit
observations to resample. If <code>N</code> is named, or if the <code>ID_labels</code>
argument is specified (in which case, both <code>N</code> and <code>ID_labels</code>
should be the same length), then the units resampled will be values of the
levels resampled (this is useful for, e.g., cluster resampling). If <code>N</code>
is the constant <code>ALL</code> for any level, all units of this level will be
transparently passed through to the next level of resampling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ID_labels</code></td>
<td>
<p>A character vector of the variables that indicate the data
hierarchy, from highest to lowest (i.e., from cities to citizens).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unique_labels</code></td>
<td>
<p>A boolean, defaulting to FALSE. If TRUE, fabricatr will
created an extra data frame column depicting a unique version of the ID_label
variable resampled on, called &lt;ID_label&gt;_unique.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data.frame
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Resample a dataset of size N without any hierarchy
baseline_survey &lt;- fabricate(N = 50, Y_pre = rnorm(N))
bootstrapped_data &lt;- resample_data(baseline_survey)

# Specify a fixed number of observations to return
baseline_survey &lt;- fabricate(N = 50, Y_pre = rnorm(N))
bootstrapped_data &lt;- resample_data(baseline_survey, N = 100)

# Resample by a single level of a hierarchical dataset (e.g. resampling
# clusters of observations): N specifies a number of clusters to return

clustered_survey &lt;- fabricate(
  clusters = add_level(N=25),
  cities = add_level(N=round(runif(25, 1, 5)),
                     population=runif(n = N, min=50000, max=1000000))
)

cluster_resample &lt;- resample_data(clustered_survey, N = 5, ID_labels = "clusters")

# Alternatively, pass the level to resample as a name:
cluster_resample_2 &lt;- resample_data(clustered_survey, N=c(clusters = 5))

# Resample a hierarchical dataset on multiple levels
my_data &lt;-
fabricate(
  cities = add_level(N = 20, elevation = runif(n = N, min = 1000, max = 2000)),
  citizens = add_level(N = 30, age = runif(n = N, min = 18, max = 85))
)

# Specify the levels you wish to resample:
my_data_2 &lt;- resample_data(my_data, N = c(3, 5),
                           ID_labels = c("cities", "citizens"))

# To resample every unit at a given level, use the ALL constant
# This example will resample 10 citizens at each of the cities:

passthrough_resample_data &lt;- resample_data(my_data, N = c(cities=ALL, citizens=10))

# To ensure a column with unique labels (for example, to calculate block-level
# statistics irrespective of sample choices), use the unique_labels=TRUE
# argument -- this will produce new columns with unique labels.

unique_resample &lt;- resample_data(my_data, N = c(cities=5), unique_labels = TRUE)

</code></pre>


</div>