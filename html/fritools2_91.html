<div class="container">

<table style="width: 100%;"><tr>
<td>weighted_variance</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate a Weighted Variance</h2>

<h3>Description</h3>

<p>Calculate a weighted variance.
</p>


<h3>Usage</h3>

<pre><code class="language-R">weighted_variance(x, ...)

## S3 method for class 'numeric'
weighted_variance(x, weights, weights_counts = NULL, ...)

## S3 method for class 'data.frame'
weighted_variance(x, var, weight, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric <code>vector</code> or <code>data.frame</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>A vector of weights.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights_counts</code></td>
<td>
<p>Are the weights counts of the data? If so, we can
calculate the unbiased sample variance, otherwise we calculate the biased
(maximum likelihood estimator of the) sample variance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>The name of the column in <code>x</code> giving the variable of
interest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>The name of the column in <code>x</code> giving the weights.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The  <code>data.frame</code> method is meant for use with
<code>tapply</code>, see <em>examples</em>.
</p>


<h3>Value</h3>

<p>A numeric giving the (weighted) variance of <code>x</code>.
</p>


<h3>See Also</h3>

<p>Other statistics: 
<code>column_sums()</code>,
<code>count_groups()</code>,
<code>relative_difference()</code>,
<code>round_half_away_from_zero()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## GPA from Siegel 1994
wt &lt;- c(5,  5,  4,  1)/15
x &lt;- c(3.7,3.3,3.5,2.8)
var(x)
weighted_variance(x = x)
weighted_variance(x = x, weights = wt)
weighted_variance(x = x, weights = wt, weights_counts = TRUE)
weights &lt;- c(5,  5,  4,  1)
weighted_variance(x = x, weights = weights)
weighted_variance(x = x, weights = weights, weights_counts = FALSE)
weighted_variance(x = data.frame(x, wt), var = "x",
                             weight = "wt")
# apply by groups:
fritools2::tapply(object = mtcars,
                 index = list(mtcars[["cyl"]], mtcars[["vs"]]),
                 func = weighted_variance, var = "mpg", w = "wt")
</code></pre>


</div>