<div class="container">

<table style="width: 100%;"><tr>
<td>modify_formula</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Modify a formula by finding some part of it and replacing it with a new
value.</h2>

<h3>Description</h3>

<p>Modify a formula by finding some part of it and replacing it with a new
value.
</p>


<h3>Usage</h3>

<pre><code class="language-R">modify_formula(formula, find, replace, add_parens = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>The formula to modify (may also be a call)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>find</code></td>
<td>
<p>A call or name (or list thereof) to search for within the formula</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace</code></td>
<td>
<p>A call or name (or list thereof) to replace the <code>find</code>
values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_parens</code></td>
<td>
<p>Add parentheses if <code>replace</code> is not a name or if it is
not already something in parentheses?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Replacement occurs at the first match, so if the replacement list
would modify something in the find list, that change will not occur (make
two calls to the function for that effect).  See the "Replacement is not
sequential" examples below.
</p>
<p>A special call can be used to expand a formula.  If an expansion of
arguments is desired to change a single function argument to multiple
arguments, 'formulops_expand()' can be used.  (See the examples.)
</p>


<h3>Value</h3>

<p><code>formula</code> modified
</p>


<h3>Examples</h3>

<pre><code class="language-R">modify_formula(a~b, find=quote(a), replace=quote(c))
modify_formula(a~b, find=quote(a), replace=quote(c+d))
modify_formula(a~b/c, find=quote(b/c), replace=quote(d))
# Replacement is not sequential
modify_formula(a~b/c, find=list(quote(b/c), quote(d)), replace=list(quote(d), quote(e)))
modify_formula(a~b/c+d, find=list(quote(b/c), quote(d)), replace=list(quote(d), quote(e)))
# Expanding arguments to functions is possible
modify_formula(a~b(c), find=quote(c), replace=quote(formulops_expand(d, e)))
</code></pre>


</div>