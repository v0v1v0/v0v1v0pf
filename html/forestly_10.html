<div class="container">

<table style="width: 100%;"><tr>
<td>plot_errorbar</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot to display risk difference</h2>

<h3>Description</h3>

<p>Create a plot to display risk difference for each item.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_errorbar(
  tbl,
  y_var,
  errbar_width = 0.4,
  color = NULL,
  shape = NULL,
  label,
  x_breaks = NULL,
  grp_abbrev = "paired",
  favor_direction = "negative",
  vline = NULL,
  line_type = 1,
  title = "Risk Diff. + 95% CI \n (Percentage Points)",
  background_color = c("#69B8F7", "#FFFFFF"),
  background_alpha = 0.3,
  theme = theme_panel(show_text = TRUE, show_ticks = TRUE),
  legend_nrow = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tbl</code></td>
<td>
<p>A data frame selected from input data set to display on this plot.
y and x variables are required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_var</code></td>
<td>
<p>A character string that specifies a variable to be displayed
on the y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>errbar_width</code></td>
<td>
<p>A numeric value to define the error bar width.
Default is 0.4. Value of this argument will be a half length of the
error bar, for example, <code>errorbar_width = 0.2</code> means half of the error bar
width is 0.2 unit length. If y = 4, the error bar will range from
y = 3.8 to y = 4.2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>Color for each treatment group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape</code></td>
<td>
<p>Shape for each treatment group. Default is circle and square.
Input values could be either a character or numeric value, For details,
see <a href="https://ggplot2.tidyverse.org/articles/ggplot2-specs.html">https://ggplot2.tidyverse.org/articles/ggplot2-specs.html</a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>A character vector of labels for each treatment group.
The control group label should be specified as the last element
of the vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_breaks</code></td>
<td>
<p>A numeric vector for x-axis breaks. Default is <code>NULL</code>,
which uses a default ggplot2 x-axis breaks presentation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grp_abbrev</code></td>
<td>
<p>A character vector for displaying the treatment groups
on a favor bar.
If <code>grp_abbrev = "paired"</code>, treatment label on the error bar will be
the same as in the <code>label</code> argument.
If <code>grp_abbrev = "none"</code>, the error bar will not be shown.
Also, for customized terms, users can provide an alternative vector
of treatment labels.
Default is <code>"paired"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>favor_direction</code></td>
<td>
<p>The position of a favor label under the condition
"comparison is treatment â€“ control". For AEs, <code>favor_direction</code> should be
<code>"negative"</code>; for efficacy, <code>favor_direction</code> should be <code>"positive"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vline</code></td>
<td>
<p>Vertical reference line position. Default is <code>NULL</code>.
Users can define one or multiple numeric values in a vector as a
reference line position.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>line_type</code></td>
<td>
<p>Reference line type. Default is solid line.
Users can define one or multiple line types in a vector
(can be numeric such as 1, 2, 3 or character such as <code>"solid"</code>, <code>"dashed"</code>).
The values will be recycled and the order will be consistent with the
argument <code>vline</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>Plot title. Default is <code>"Risk Diff. + 95% CI \\n (Percentage Points)"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>background_color</code></td>
<td>
<p>Plot background color. Default is
<code>c("#69B8F7", "#FFFFFF")</code>, which are pastel blue and white.
The value of this argument is used as input for the <code>background_color</code>
argument in <code>background_panel()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>background_alpha</code></td>
<td>
<p>Opacity of the background. Default is 0.3.
The value of this argument is the input for <code>background_alpha</code> argument in
<code>background_panel()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theme</code></td>
<td>
<p>Panel theme, including the y-axis text, ticks, and plot margin.
Default is <code>theme_panel(show_text = TRUE, show_ticks = TRUE)</code>.
For more details, refer to <code>theme_panel</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend_nrow</code></td>
<td>
<p>Integer, the number of rows for a legend display.
Must be smaller than or equal to the number of the treatment groups.
To omit the legend, set this to <code>NULL</code>. Default is 1.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A risk difference plot for each item.
</p>


<h3>Examples</h3>

<pre><code class="language-R">forestly_adsl$TRTA &lt;- factor(
  forestly_adsl$TRT01A,
  levels = c("Xanomeline Low Dose", "Placebo"),
  labels = c("Low Dose", "Placebo")
)
forestly_adae$TRTA &lt;- factor(
  forestly_adae$TRTA,
  levels = c("Xanomeline Low Dose", "Placebo"),
  labels = c("Low Dose", "Placebo")
)

meta &lt;- meta_forestly(
  dataset_adsl = forestly_adsl,
  dataset_adae = forestly_adae,
  population_term = "apat",
  observation_term = "wk12",
  parameter_term = "any;rel;ser"
) |&gt;
  prepare_ae_forestly() |&gt;
  format_ae_forestly()

meta_any &lt;- meta$tbl[1:20, ] |&gt; dplyr::filter(parameter == "any")
meta_any |&gt;
  dplyr::select(name, diff_1, lower_1, upper_1) |&gt;
  plot_errorbar(
    y_var = "name",
    label = c("Treatment", "Placebo")
  )
</code></pre>


</div>