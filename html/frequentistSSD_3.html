<div class="container">

<table style="width: 100%;"><tr>
<td>optimal</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Find optimal parameters
</h2>

<h3>Description</h3>

<p>Find the optimal parameters used in the <code>get_oc()</code> function
</p>


<h3>Usage</h3>

<pre><code class="language-R">optimal(shape, m0, ms, tf, ta,
        tot_size, dist)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>shape</code></td>
<td>

<p>the shape parameter of weibull distribution
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m0</code></td>
<td>

<p>the median survival time of historical data
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ms</code></td>
<td>

<p>the minimal clinical meaningful median survival time
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tf</code></td>
<td>

<p>the follow-up duration
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ta</code></td>
<td>

<p>the accrual duration
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tot_size</code></td>
<td>

<p>the required sample size for each arm
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist</code></td>
<td>

<p>the distribution
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>optimal()</code> returns a list containing two blocks:
</p>
<p><code>$param</code>:
(1) S0: historical survival probability at the landmark time point x0 (2) hr: hazard ratio of the hypothetical arm with “minimal clinical meaningful median survival time” to the historical arm (3) rate: accrual rate (calculated as tot_size/ta) <br><br><code>$Two_stage</code>:
(1) alpha: type I error (2) beta: type II error (3) n1: the required sample size for the first stage (4) c1: the cutoff point at the first stage (5) n: the required sample size for each arm (is equal to tot_size) (6) c: the cutoff point at the final stage (7) t1: the expected time of interim analysis (first stage) (8) MTSL: the maximum total study length (ta + tf) (9) ESS: the expected sample size for each arm (10) PS: the probability of early stopping
</p>


<h3>Note</h3>

<p>(1) For <code>optimal()</code> function, if the ms is set to be equal to the less effective arm (e.g., say, the arm A is less effective than the arm B), with the rationale, by this way, the computed boundaries, c1, n1, c, would control the pre-specified type I (since both arms A and B are all under the same null case) while the power for the better arm B, would have at least pre-specified power 1-beta
</p>
<p>(2) <code>optimal()</code> funcition will be applied to either two or three-arm cases to find the optimal cutoff bounaries, c1, n1, c
</p>


<h3>Author(s)</h3>

<p>Chia-Wei Hsu, Haitao Pan, Jianrong Wu
</p>


<h3>References</h3>

<p>Jianrong Wu, Haitao Pan, Chia-Wei Hsu (2021). "Two-Stage Screened Selection Designs for Randomized
Phase II Trials with Time-to-Event Endpoints." Submitted
</p>


<h3>Examples</h3>

<pre><code class="language-R">## For 2 arms
## Not run: 
shape &lt;- 1
m0 &lt;- 1
ms &lt;- 2.4
tf &lt;- 3
ta &lt;- 24
tot_size &lt;- 19
dist &lt;- "WB"

optimal(shape = shape, m0 = m0, ms = ms, tf = tf,
        ta = ta, tot_size = tot_size, dist = dist)

## End(Not run)

## For 3 arms
## Not run: 
shape &lt;- 1
m0 &lt;- 1
ms &lt;- 2
tf &lt;- 3
ta &lt;- 24
tot_size &lt;- 21
dist &lt;- "WB"

optimal(shape = shape, m0 = m0, ms = ms, tf = tf,
        ta = ta, tot_size = tot_size, dist = dist)

## End(Not run)
</code></pre>


</div>