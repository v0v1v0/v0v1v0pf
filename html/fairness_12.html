<div class="container">

<table style="width: 100%;"><tr>
<td>prop_parity</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Proportional parity</h2>

<h3>Description</h3>

<p>This function computes the Proportional parity metric
</p>
<p>Formula: (TP + FP) / (TP + FP + TN + FN)
</p>


<h3>Usage</h3>

<pre><code class="language-R">prop_parity(
  data,
  outcome,
  group,
  probs = NULL,
  preds = NULL,
  outcome_base = NULL,
  cutoff = 0.5,
  base = NULL,
  group_breaks = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data.frame that contains the necessary columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcome</code></td>
<td>
<p>Column name indicating the binary outcome variable (character).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>Column name indicating the sensitive group (character).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probs</code></td>
<td>
<p>Column name or vector with the predicted probabilities (numeric between 0 - 1). Either probs or preds need to be supplied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>preds</code></td>
<td>
<p>Column name or vector with the predicted binary outcome (0 or 1). Either probs or preds need to be supplied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcome_base</code></td>
<td>
<p>Base level of the outcome variable (i.e., negative class). Default is the first level of the outcome variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff</code></td>
<td>
<p>Cutoff to generate predicted outcomes from predicted probabilities. Default set to 0.5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base</code></td>
<td>
<p>Base level of the sensitive group (character).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_breaks</code></td>
<td>
<p>If group is continuous (e.g., age): either a numeric vector of two or more unique cut points or a single number &gt;= 2 giving the number of intervals into which group feature is to be cut.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function computes the Proportional parity metric (also known as Impact Parity or Minimizing Disparate Impact) as described by Calders and Verwer 2010.
Proportional parity is calculated based on the comparison of the proportion of all positively classified individuals in all subgroups of the data.
In the returned named vector, the reference group will be assigned 1, while all other groups will be assigned values
according to whether their proportion of positively predicted observations are lower or higher compared to the reference group. Lower
proportions will be reflected in numbers lower than 1 in the returned named vector.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Metric</code></td>
<td>
<p>Raw proportions for all groups and metrics standardized for the base group (proportional parity metric). Lower values compared to the reference group mean lower proportion of positively predicted observations in the selected subgroups</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Metric_plot</code></td>
<td>
<p>Bar plot of Proportional parity metric</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Probability_plot</code></td>
<td>
<p>Density plot of predicted probabilities per subgroup. Only plotted if probabilities are defined</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">data(compas)
compas$Two_yr_Recidivism_01 &lt;- ifelse(compas$Two_yr_Recidivism == 'yes', 1, 0) 
prop_parity(data = compas, outcome = 'Two_yr_Recidivism_01', group = 'ethnicity',
probs = 'probability', cutoff = 0.4, base = 'Caucasian')
prop_parity(data = compas, outcome = 'Two_yr_Recidivism_01', group = 'ethnicity',
preds = 'predicted', cutoff = 0.5, base = 'Hispanic')

</code></pre>


</div>