<div class="container">

<table style="width: 100%;"><tr>
<td>fhir_common_columns</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Find common columns</h2>

<h3>Description</h3>

<p>This is a convenience function to find all column names in a data frame starting with the same string that can
then be used for <code>fhir_melt()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fhir_common_columns(data_frame, column_names_prefix)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data_frame</code></td>
<td>
<p>A data.frame/data.table with automatically named columns as produced by <code>fhir_crack()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>column_names_prefix</code></td>
<td>
<p>A string containing the common prefix of the desired columns.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>It is intended for use on data frames with column names that have been automatically produced by <code>fhir_design()</code>/<code>fhir_crack()</code>
and follow the form <code>level1.level2.level3</code> such as <code>name.given</code> or <code>code.coding.system</code>.
Note that this function will only work on column names following exactly this scheme.
</p>
<p>The resulting character vector can be used for melting all columns belonging to the same attribute in an indexed data frame,
see <code>?fhir_melt</code>.
</p>


<h3>Value</h3>

<p>A character vector with the names of all columns matching <code>column_names_prefix</code>.
</p>


<h3>See Also</h3>

<p><code>fhir_melt()</code>, <code>fhir_rm_indices()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#unserialize example bundles
bundles &lt;- fhir_unserialize(bundles = medication_bundles)

#crack Patient Resources
pats &lt;- fhir_table_description(resource = "Patient")

df &lt;- fhir_crack(bundles = bundles, design = pats)

#look at automatically generated names
names(df)

#extract all column names beginning with the string "name"
fhir_common_columns(data_frame = df, column_names_prefix = "name")
</code></pre>


</div>