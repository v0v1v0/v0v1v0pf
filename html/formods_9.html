<div class="container">

<table style="width: 100%;"><tr>
<td>ASM_write_state</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Write State to File for Saving</h2>

<h3>Description</h3>

<p>Called from download handler and used to write a saved state
value if that is null
</p>


<h3>Usage</h3>

<pre><code class="language-R">ASM_write_state(state, session, file, mod_ids)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>state</code></td>
<td>
<p>ASM state from <code>ASM_fetch_state()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>session</code></td>
<td>
<p>Shiny session variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>File name to write zipped state.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mod_ids</code></td>
<td>
<p>Vector of module IDs and order they are needed (used for code generation).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>This function only writes the state and has no return value.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Within shiny both session and input variables will exist,
# this creates examples here for testing purposes:
sess_res = ASM_test_mksession(session=list(), full_session=FALSE)
session = sess_res$session
input   = sess_res$input

# Configuration files
FM_yaml_file  = system.file(package = "formods", "templates", "formods.yaml")
MOD_yaml_file = system.file(package = "formods", "templates", "ASM.yaml")

# We need to specify the ID of the ASM module
id = "ASM"

state = ASM_fetch_state(id           = id,
                        input        = input,
                        session      = session,
                        FM_yaml_file = FM_yaml_file,
                        MOD_yaml_file = MOD_yaml_file)

ASM_write_state(state, session,
                file    = tempfile(fileext=".zip"),
                mod_ids = c("UD"))

</code></pre>


</div>