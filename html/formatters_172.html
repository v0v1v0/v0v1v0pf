<div class="container">

<table style="width: 100%;"><tr>
<td>open_font_dev</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Activate font state</h2>

<h3>Description</h3>

<p>Activate font state
</p>


<h3>Usage</h3>

<pre><code class="language-R">open_font_dev(fontspec, silent = FALSE)

close_font_dev()

debug_font_dev()

undebug_font_dev()
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fontspec</code></td>
<td>
<p>(<code>font_spec</code>)<br> a font_spec object specifying the font information to use for
calculating string widths and heights, as returned by <code>font_spec()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>
<p>(<code>logical(1)</code>)<br> If <code>FALSE</code>, the default, a warning will be
emitted if this function switches away from an active graphics device.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The font device state is an environment with
four variables guaranteed to be set:
</p>

<dl>
<dt><code>open</code></dt>
<dd>
<p>(<code>logical(1)</code>)<br> whether a device is already open with font info</p>
</dd>
<dt><code>fontspec</code></dt>
<dd>
<p>(<code>font_spec</code>)<br> the font specification, if any, that is currently active (<code>list()</code> if none is).</p>
</dd>
<dt><code>spacewidth</code></dt>
<dd>
<p>(<code>numeric(1)</code>)<br> the width of the space character in the currently active font.</p>
</dd>
<dt><code>ismonospace</code></dt>
<dd>
<p>(<code>logical(1)</code>)<br> whether the specified font is monospaced.</p>
</dd>
</dl>
<p><code>open_font_dev</code> opens a pdf device with the specified font
only if there is not one currently open with the same font.
If a new device is opened, it caches <code>spacewidth</code> and
<code>ismonospace</code> for use in <code>nchar_ttype</code>).
</p>
<p><code>close_font_dev</code> closes any open font state device
and clears the cached values.
</p>
<p><code>debug_font_dev</code> and <code>undebug_font_dev</code> activate and deactivate, respectively,
logging of where in the call stack font devices are being opened.
</p>


<h3>Value</h3>


<ul>
<li> <p><code>open_font_dev</code> returns a logical value indicating whether a <em>new</em> pdf device was opened.
</p>
</li>
<li> <p><code>close_font_dev</code>, <code>debug_font_dev</code> and <code>undebug_font_dev</code> return <code>NULL</code>.
</p>
</li>
</ul>
<p>In all cases the value is returned invisibly.
</p>


<h3>Examples</h3>

<pre><code class="language-R">open_font_dev(font_spec("Times"))
nchar_ttype("Hiya there", font_spec("Times"))
close_font_dev()

</code></pre>


</div>