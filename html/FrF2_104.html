<div class="container">

<table style="width: 100%;"><tr>
<td>utilitiesPB</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> ~~ Internal utility functions ~~ </h2>

<h3>Description</h3>

<p>Internal functions, mainly for calculation of Plackett-Burman and other non-regular screening designs. 
They need not be accessed for normal use of the package. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">circ.mat(gen) 
double.des(des)
normalize.col.first(mat)
normalize.row.last(mat)
williamson(A,B,C,D)
taguchi(nruns)
boxtyssedal(nruns,k)
des.recode(var, recodes, as.factor.result, char)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>gen</code></td>
<td>
<p> ~~Generating vector for circular design matrix (used in Plackett-Burman construction)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>des</code></td>
<td>
<p> ~~numeric design matrix (elements -1 / +1 ) to be doubled</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mat</code></td>
<td>
<p> ~~numeric design matrix (elements -1 / +1 ) to be normalized </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>A</code></td>
<td>
<p> ~~numeric square matrix (elements -1 / +1 ) to be combined with <code>B</code>, <code>C</code>, and <code>D</code> by Williamson construction. 
Although the function combines any square matrices of identical dimension, 
the matrices must observe a special structure to in order to yield a useful design matrix. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p> ~~numeric square matrix (elements -1 / +1 ) with same dimensions as <code>A</code> </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>C</code></td>
<td>
<p> ~~numeric square matrix (elements -1 / +1 ) with same dimensions as <code>A</code> </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>D</code></td>
<td>
<p> ~~numeric square matrix (elements -1 / +1 ) with same dimensions as <code>A</code> </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nruns</code></td>
<td>
<p> number of runs; currently has to be 12 for <code>taguchi</code> and 16 for <code>boxtyssedal</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p> number of factors; for up to 12 factors, a different design is picked. For 15 factors, a warning against perfect aliasing (of the last columnn) is issued. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p> variable </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recodes</code></td>
<td>
<p> character string specifying recodes, so far only used in the principal form “-1=level[1];1=level[2]” </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.factor.result</code></td>
<td>
<p> logical that specifies whether or not results are to be coerced to factor. 
The default is that factors are coerced to factor, while numeric variables with numeric recodes are kept numeric.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>char</code></td>
<td>
<p> logical: should replacement be treated as character string (TRUE) or evaluated? default is FALSE</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Function <code>des.recode</code> has been adapted to the needs of this package from function <code>recode</code> of package <code>car</code>.
</p>


<h3>Value</h3>

<p>All functions return except <code>des.recode</code> return a numeric matrix, <code>circ.mat</code> a square matrix of dimension <code>length(gen)</code>, 
<code>double.des</code> a matrix with <code>2*nrow(des)</code> rows and <code>2*ncol(des)+1</code> columns (full foldover),
the <code>normalize...</code> functions a matrix of the same dimenensions as <code>mat</code>, 
and <code>williamson</code> a square matrix of dimension <code>4*nrow(A)</code>.
<code>taguchi</code> returns the Plackett-Burman array in 12 runs in Taguchi order (it is isomorphic to the standard version), and <code>boxtyssedal</code> returns the suitable version of the 16 run Hadamard matrix described by Box and Tyssedal, which is more appropriate for screening than the standard 16 run factorial.
</p>
<p><code>des.recode</code> returns a numeric vector or factor, depending on the type of var and the setting of <code>as.factor.result</code>. 
This function is identical to the function in package <span class="pkg">DoE.base</span> and will eventually be deleted in package <span class="pkg">FrF2</span>.
</p>


<h3>Note</h3>

<p> This package is currently under intensive development. Substantial changes are to be expected in the near future.</p>


<h3>Author(s)</h3>

<p> Ulrike Groemping </p>


<h3>References</h3>

 
<p>Box, G.E.P. and Tyssedal, J. (2001) Sixteen Run Designs of High Projectivity for Factor Screening. 
<em>Communications in Statistics - Simulation and Computation</em> <b>30</b>, 217-228. 
</p>
<p>Hedayat, A.S., Sloane, N.J.A. and Stufken, J. (1999) <em>Orthogonal Arrays: Theory and Applications</em>, Springer, New York. 
</p>
<p>Plackett, R.L.; Burman, J.P. (1946) The design of optimum multifactorial experiments. <em>Biometrika</em> <b>33</b>, 305-325.
</p>
<p>Williamson, J. (1946) Determinants whose elements are 0 and 1. <em>American Mathematical Monthly</em> <b>53</b>, 427-434.
</p>


<h3>See Also</h3>

<p> See also <code>pb</code> </p>


</div>