<div class="container">

<table style="width: 100%;"><tr>
<td>stack_to_matrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Stacked (= tidy) data.frame to matrix</h2>

<h3>Description</h3>

<p>Passes from a stacked (= tidy) data.frame to a matrix. <code>tidy_to_matrix()</code> is
an alias of this function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">stack_to_matrix(
  my_df,
  col_to_row,
  col_to_col,
  col_value = NULL,
  sparse = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>my_df</code></td>
<td>
<p>data.frame you want to transform in matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_to_row</code></td>
<td>
<p>character vector of the name of the data.frame column you
want to put into matrix rows</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_to_col</code></td>
<td>
<p>character vector of the name of the data.frame column you
want to be as columns in matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_value</code></td>
<td>
<p>(optional, default = <code>NULL</code>) character vector indicating
the name of a column coding the values that will be put in
the matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sparse</code></td>
<td>
<p>(optional, default = <code>FALSE</code>) logical indicating whether to
return a sparse matrix (if <code>TRUE</code> requires
<a href="https://cran.r-project.org/package=tidytext"><code>tidytext</code></a>
package)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a matrix with given <code>col_to_row</code> column in rows and <code>col_to_col</code>
column in columns. If some cells are not present in the data.frame (e.g. some
species not present at some sites), the matrix will have a <code>NA</code> value.
</p>


<h3>See Also</h3>

<p><code>matrix_to_stack()</code> for the reverse operation
</p>


<h3>Examples</h3>

<pre><code class="language-R">example = data.frame("sites" = c(rep("1", 3), rep("2", 2)),
 "species" = c("A", "B", "C", "B", "D"),
  "abundance" = c(0.33, 0.33, 0.33, 0.4, 0.6))

mat = stack_to_matrix(example, "sites", "species", "abundance")
mat

</code></pre>


</div>