<div class="container">

<table style="width: 100%;"><tr>
<td>instrument_attr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add or change an attribute of an instrument</h2>

<h3>Description</h3>

<p>This function will add or overwrite the data stored in the specified slot of 
the specified instrument.
</p>


<h3>Usage</h3>

<pre><code class="language-R">instrument_attr(primary_id, attr, value, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>primary_id</code></td>
<td>
<p>primary_id of the instrument that will be updated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attr</code></td>
<td>
<p>Name of the slot that will be added or changed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>What to assign to the <code>attr</code> slot of the <code>primary_id</code> 
instrument</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments to pass to <code>getInstrument</code>. For example,
<code>type</code> could be provided to allow for <code>primary_id</code> to be an
identifier that is shared by more that one instrument (of different types)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If the <code>attr</code> you are trying to change is the “primary_id,” the 
instrument will be renamed. (A copy of the instrument will be stored by the 
name of <code>value</code> and the old instrument will be removed.)
If the <code>attr</code> you are changing is “type”, the instrument will be 
reclassed with that type. If <code>attr</code> is “src”, <code>value</code> will 
be used in a call to <code>setSymbolLookup</code>.  Other checks are in place to 
make sure that “currency” remains a <code>currency</code> object and 
that “multiplier” and “tick_size” can only be changed to 
reasonable values.
</p>
<p>If <code>attr</code> is “identifiers” and <code>value</code> is <code>NULL</code>, 
<code>identifiers</code> will be set to <code>list()</code>.  If <code>value</code> is not a 
list, <code>add.identifier</code> will be called with <code>value</code>.
<code>add.identifier</code> will convert <code>value</code> to a list and append it to
the current <code>identifiers</code>
</p>


<h3>Value</h3>

<p>called for side-effect
</p>


<h3>Note</h3>

<p>You can remove an attribute/level from an instrument by calling this 
function with <code>value=NULL</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
currency("USD")
stock("SPY","USD")
instrument_attr("USD","description","U.S. Dollar")
instrument_attr("SPY", "description", "An ETF")
getInstrument("USD")
getInstrument("SPY")

#Call with value=NULL to remove an attribute
instrument_attr("SPY", "description", NULL)
getInstrument("SPY")

instrument_attr("SPY","primary_id","SPX") #move/rename it
instrument_attr("SPX","type","synthetic") #re-class
instrument_attr("SPX","src",list(src='yahoo',name='^GSPC')) #setSymbolLookup
getSymbols("SPX") #knows where to look because the last line setSymbolLookup
getInstrument("SPX")

## End(Not run)
</code></pre>


</div>