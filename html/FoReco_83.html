<div class="container">

<table style="width: 100%;"><tr>
<td>tetd</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Temporal top-down reconciliation</h2>

<h3>Description</h3>

<p>Top-down forecast reconciliation for a univariate time series, where the forecast
of the most aggregated temporal level is disaggregated according to a proportional
scheme (weights). Besides fulfilling any aggregation constraint, the
top-down reconciled forecasts should respect two main properties:
</p>

<ul>
<li>
<p> the top-level value remains unchanged;
</p>
</li>
<li>
<p> all the bottom time series reconciled forecasts are non-negative.
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">tetd(base, agg_order, weights, tew = "sum", normalize = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>base</code></td>
<td>
<p>A (<code class="reqn">hm \times 1</code>) numeric vector containing the temporal
aggregated base forecasts of order <code class="reqn">m</code>; <code class="reqn">m</code> is the max aggregation
order, and <code class="reqn">h</code> is the forecast horizon for the lowest frequency
time series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>agg_order</code></td>
<td>
<p>Highest available sampling frequency per seasonal cycle (max. order
of temporal aggregation, <code class="reqn">m</code>), or a vector representing a subset of <code class="reqn">p</code> factors
of <code class="reqn">m</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>A (<code class="reqn">hm \times 1</code>) numeric vector containing the proportions for the
high-frequency time series; <code class="reqn">m</code> is the max aggregation order, and <code class="reqn">h</code> is the
forecast horizon for the lowest frequency time series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tew</code></td>
<td>
<p>A string specifying the type of temporal aggregation. Options include:
"<code>sum</code>" (simple summation, <em>default</em>), "<code>avg</code>" (average),
"<code>first</code>" (first value of the period), and "<code>last</code>"
(last value of the period).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalize</code></td>
<td>
<p>If <code>TRUE</code> (<em>default</em>), the <code>weights</code> will sum to 1.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A (<code class="reqn">h(k^\ast+m) \times 1</code>) numeric vector of temporal reconciled forecasts.
</p>


<h3>See Also</h3>

<p>Top-down reconciliation: 
<code>cstd()</code>,
<code>cttd()</code>
</p>
<p>Temporal framework: 
<code>teboot()</code>,
<code>tebu()</code>,
<code>tecov()</code>,
<code>telcc()</code>,
<code>temo()</code>,
<code>terec()</code>,
<code>tetools()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(123)
# (2 x 1) top base forecasts vector (simulated), forecast horizon = 2
topf &lt;- rnorm(2, 10)
# Same weights for different forecast horizons
fix_weights &lt;- runif(4)
reco &lt;- tetd(base = topf, agg_order = 4, weights = fix_weights)

# Different weights for different forecast horizons
h_weights &lt;- runif(4*2)
recoh &lt;- tetd(base = topf, agg_order = 4, weights = h_weights)

</code></pre>


</div>