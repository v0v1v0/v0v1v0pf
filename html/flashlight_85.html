<div class="container">

<table style="width: 100%;"><tr>
<td>light_scatter</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Scatter</h2>

<h3>Description</h3>

<p>This function prepares values for drawing a scatter plot of predicted values,
responses, residuals, or SHAP values against a selected variable.
</p>


<h3>Usage</h3>

<pre><code class="language-R">light_scatter(x, ...)

## Default S3 method:
light_scatter(x, ...)

## S3 method for class 'flashlight'
light_scatter(
  x,
  v,
  data = x$data,
  by = x$by,
  type = c("predicted", "response", "residual", "shap"),
  use_linkinv = TRUE,
  n_max = 400,
  seed = NULL,
  ...
)

## S3 method for class 'multiflashlight'
light_scatter(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class "flashlight" or "multiflashlight".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed from or to other methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>The variable name to be shown on the x-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>An optional <code>data.frame</code>. Not relevant for <code>type = "shap"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>An optional vector of column names used to additionally group the results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Type of the profile: Either "predicted", "response", "residual",
or "shap".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_linkinv</code></td>
<td>
<p>Should retransformation function be applied? Default is <code>TRUE</code>.
Not used for <code>type = "shap"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_max</code></td>
<td>
<p>Maximum number of data rows to select. Will be randomly picked from the
relevant data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>An integer random seed used for subsampling.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class "light_scatter" with the following elements:
</p>

<ul>
<li> <p><code>data</code>: A tibble with results. Can be used to build fully customized
visualizations. Column names can be controlled by
<code>options(flashlight.column_name)</code>.
</p>
</li>
<li> <p><code>by</code>: Same as input <code>by</code>.
</p>
</li>
<li> <p><code>v</code>: The variable evaluated.
</p>
</li>
<li> <p><code>type</code>: Same as input <code>type</code>. For information only.
</p>
</li>
</ul>
<h3>Methods (by class)</h3>


<ul>
<li> <p><code>light_scatter(default)</code>: Default method not implemented yet.
</p>
</li>
<li> <p><code>light_scatter(flashlight)</code>: Variable profile for a flashlight.
</p>
</li>
<li> <p><code>light_scatter(multiflashlight)</code>: light_scatter for a multiflashlight.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>plot.light_scatter()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">fit_a &lt;- lm(Sepal.Length ~ . -Petal.Length, data = iris)
fit_b &lt;- lm(Sepal.Length ~ ., data = iris)
fl_a &lt;- flashlight(model = fit_a, label = "without Petal.Length")
fl_b &lt;- flashlight(model = fit_b, label = "all")
fls &lt;- multiflashlight(list(fl_a, fl_b), data = iris, y = "Sepal.Length")
pr &lt;- light_scatter(fls, v = "Petal.Length")
plot(
  light_scatter(fls, "Petal.Length", by = "Species", type = "residual"),
  alpha = 0.2
)
</code></pre>


</div>