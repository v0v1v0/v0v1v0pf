<div class="container">

<table style="width: 100%;"><tr>
<td>frag.study.alpha</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Assessing Fragility of an Individual Study at Different Significance Levels
</h2>

<h3>Description</h3>

<p>Produces fragility index or fragility quotient for altering statistical significance of an individual study with a binary outcome at different significance levels.
</p>


<h3>Usage</h3>

<pre><code class="language-R">frag.study.alpha(e0, n0, e1, n1, data, methods,
                 modify0 = "both", modify1 = "both",
                 alpha.from = 0.005, alpha.to = 0.05, alpha.breaks = 100,
                 alternative = "two.sided", OR = 1, RR = 1, RD = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>e0</code></td>
<td>
<p>a numeric value or the corresponding column name in the argument <code>data</code>, indicating event count in group 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n0</code></td>
<td>
<p>a numeric value or the corresponding column name in the argument <code>data</code>, indicating sample size in group 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e1</code></td>
<td>
<p>a numeric value or the corresponding column name in the argument <code>data</code>, indicating event count in group 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n1</code></td>
<td>
<p>a numeric value or the corresponding column name in the argument <code>data</code>, indicating sample size in group 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>an optional data frame containing the dataset of the individual study with a binary outcome. If <code>data</code> is specified, the previous arguments, <code>e0</code>, <code>n0</code>, <code>e1</code>, and <code>n1</code>, should be specified as their corresponding column names in <code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>methods</code></td>
<td>
<p>a character string or a vector of character strings indicating the method(s) used to calculate the p-value(s) of the association between treatment and outcome. It must consist of <code>"Fisher"</code> (Fisher's exact test), <code>"chisq"</code> (chi-squared test), <code>"OR"</code> (odds ratio), <code>"RR"</code> (relative risk), and/or <code>"RD"</code> (risk difference). The default is the vector consisting of all aforementioned five methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modify0</code></td>
<td>
<p>a character string indicating the event status modifications in group 0. It should be one of <code>"increase"</code> (increasing event numbers), <code>"decrease"</code> (decreasing event numbers), <code>"both"</code> (the default, modifying event numbers in both directions), and <code>"none"</code> (no modification).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modify1</code></td>
<td>
<p>a character string indicating the event status modifications in group 1. It has the same usage with <code>modify0</code>, with the default being <code>"both"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha.from</code></td>
<td>
<p>a numeric value between 0 and 1, indicating the smallest value of the statistical significance levels to be considered (the default is 0.005). It should be smaller than the argument <code>alpha.to</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha.to</code></td>
<td>
<p>a numeric value between 0 and 1, indicating the largest value of the statistical significance levels to be considered (the default is 0.05). It should be larger than the argument <code>alpha.from</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha.breaks</code></td>
<td>
<p>a positive integer indicating the number of statistical significance levels to be considered (the default is 100). The candidate significance levels are thus equally-spaced between <code>alpha.from</code> and <code>alpha.to</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>a character string of either <code>"two.sided"</code> (the default) or <code>"one.sided"</code>, indicating the alternative hypothesis. It is only used for <code>"OR"</code>, <code>"RR"</code>, and <code>"RD"</code> in the argument <code>methods</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>OR</code></td>
<td>
<p>a numeric positive value indicating the value of odds ratio under the null hypothesis (the default is 1). It is used only if the argument <code>methods</code> includes <code>"OR"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RR</code></td>
<td>
<p>a numeric positive value indicating the value of relative risk under the null hypothesis (the default is 1). It is used only if the argument <code>methods</code> includes <code>"RR"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RD</code></td>
<td>
<p>a numeric value between <code class="reqn">-</code>1 indicating the value of risk difference under the null hypothesis (the default is 0). It is used only if the argument <code>methods</code> includes <code>"RD"</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of classes <code>"frag.alpha"</code> and <code>"frag.study.alpha"</code>. The object is a list containing the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>original data in the form of 2<code class="reqn">\times</code>2 table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>methods</code></td>
<td>
<p>methods used to calculate the p-value(s) of the association between treatment and outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alphas</code></td>
<td>
<p>different statistical significance levels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>alternative hypothesis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>null</code></td>
<td>
<p>values of odds ratio, relative risk, and risk difference under the null hypothesis; they are only used if <code>"OR"</code>, <code>"RR"</code>, and <code>"RD"</code> are included in the argument <code>methods</code>, respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modify0</code></td>
<td>
<p>type of event status modifications in group 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modify1</code></td>
<td>
<p>type of event status modifications in group 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f0.range</code></td>
<td>
<p>range of event status modifications in group 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f1.range</code></td>
<td>
<p>range of event status modifications in group 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pval</code></td>
<td>
<p>p-value(s) produced by the method(s) included in the argument <code>methods</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FI</code></td>
<td>
<p>fragility indexes based on the method(s) at each statistical significance level in <code>alphas</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FI.avg</code></td>
<td>
<p>average fragility index based on each method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FQ</code></td>
<td>
<p>fragility quotients based on the method(s) at each statistical significance level in <code>alphas</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FQ.avg</code></td>
<td>
<p>average fragility quotient based on each method.</p>
</td>
</tr>
</table>
<p>Of note, if both arguments <code>modify0</code> and <code>modify0</code> are <code>"none"</code> (i.e., no modification), the items following <code>pval</code> in the above list are not produced, because fragility cannot be assessed without event status modifications.
</p>


<h3>References</h3>

<p>Benjamin DJ, Berger JO, Johannesson M, Nosek BA, Wagenmakers EJ, Berk R, Bollen KA, Brembs B, Brown L, Camerer C, Cesarini D, Chambers CD, Clyde M, Cook TD, De Boeck P, Dienes Z, Dreber A, Easwaran K, Efferson C, Fehr E, Fidler F, Field AP, Forster M, George EI, Gonzalez R, Goodman S, Green E, Green DP, Greenwald AG, Hadfield JD, Hedges LV, Held L, Ho TH, Hoijtink H, Hruschka DJ, Imai K, Imbens G, Ioannidis JPA, Jeon M, Jones JH, Kirchler M, Laibson D, List J, Little R, Lupia A, Machery E, Maxwell SE, McCarthy M, Moore DA, Morgan SL, Munafo M, Nakagawa S, Nyhan B, Parker TH, Pericchi L, Perugini M, Rouder J, Rousseau J, Savalei V, Schonbrodt FD, Sellke T, Sinclair B, Tingley D, Van Zandt T, Vazire S, Watts DJ, Winship C, Wolpert RL, Xie Y, Young C, Zinman J, Johnson VE (2018). "Redefine statistical significance." <em>Nature Human Behaviour</em>, <b>2</b>, 6–10. &lt;doi: <a href="https://doi.org/10.1038/s41562-017-0189-z">10.1038/s41562-017-0189-z</a>&gt;
</p>
<p>Ioannidis JPA (2018). "The proposal to lower P value thresholds to .005." <em>JAMA</em>, <b>319</b>(14), 1429–30. &lt;doi: <a href="https://doi.org/10.1001/jama.2018.1536">10.1001/jama.2018.1536</a>&gt;
</p>
<p>Lin L, Chu H (2022). "Assessing and visualizing fragility of clinical results with binary outcomes in R using the fragility package." <em>PLOS ONE</em>, <b>17</b>(6), e0268754. &lt;doi: <a href="https://doi.org/10.1371/journal.pone.0268754">10.1371/journal.pone.0268754</a>&gt;
</p>


<h3>See Also</h3>

<p><code>frag.study</code> for assessing fragility of an individual study at a specific significance level.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Load datasets of trials on antidepressant drugs
data(dat.ad)

## Assess fragility of trial 13 at multiple significance levels
out1 &lt;- frag.study.alpha(e0, n0, e1, n1, data = dat.ad[13,])
out1

## Generate plots to show the change of fragility measure,
##  where the default plot is for the first method
##  (i.e., Fisher's exact test) if the argument method is not specified
plot(out1)

## The plot for odds ratio
plot(out1, method = "OR")

## Change the choices of significance levels
out2 &lt;- frag.study.alpha(e0, n0, e1, n1, data = dat.ad[13,],
  methods = "OR", alpha.from = 0.001, alpha.to = 0.1, alpha.breaks = 500)
out2
plot(out2)

## Generate the plot with the x-axis on the log scale
plot(out2, log = "x")

## Generate the plot for fragility quotient (in percentage)
plot(out2, fragility = "FQ", log = "x")

## Generate the plot for fragility quotient (in decimal form)
plot(out2, fragility = "FQ", percentage = FALSE, log = "x")

## Change the size of points
plot(out2, cex.pts = 1, log = "x")

## Change the colors
plot(out2, col.line = "blue", col.pval = "orange",
  col.sig = c("gray", "black"), log = "x")

## Change the line type
plot(out2, lty.pval = 3, log = "x")

## Change the line width
plot(out2, lwd = 2, lwd.pval = 2, log = "x")

## Change the point symbol
plot(out2, pch = 1, log = "x")
</code></pre>


</div>