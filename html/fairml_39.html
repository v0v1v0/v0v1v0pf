<div class="container">

<table style="width: 100%;"><tr>
<td>synthetic data sets</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Synthetic data set to test fair models</h2>

<h3>Description</h3>

<p>Synthetic data set used as test cases in the <span class="pkg">fairml</span> package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">data(vu.test)
</code></pre>


<h3>Format</h3>

<p>The data are stored a list with following three elements:
</p>

<ul>
<li> <p><code>gaussian</code>, <code>binomial</code>, <code>poisson</code>, <code>coxph</code> and
<code>multinomial</code> are response variables for the different families;
</p>
</li>
<li> <p><code>X</code>, a numeric matrix containing 3 predictors called <code>X1</code>,
<code>X2</code> and <code>X3</code>;
</p>
</li>
<li> <p><code>S</code>, a numeric matrix containing 3 sensitive attributes called
<code>S1</code>, <code>S2</code> and <code>S3</code>.
</p>
</li>
</ul>
<h3>Note</h3>

<p>This data set is called <code>vu.test</code> because it is generated from
<em>v</em>ery <em>u</em>nfair models in which sensitive attributes explain the
lion's share of the overall explained variance or deviance.
</p>
<p>The code used to generate the predictors and the sensitive attributes is as
follows.
</p>
<pre>
library(mvtnorm)
sigma = matrix(0.3, nrow = 6, ncol = 6)
diag(sigma) = 1
n = 1000
X = rmvnorm(n, mean = rep(0, 6), sigma = sigma)
S = X[, 4:6]
X = X[, 1:3]
colnames(X) = c("X1", "X2", "X3")
colnames(S) = c("S1", "S2", "S3")
</pre>
<p>The continuous response in <code>gaussian</code> is produced as follows.
</p>
<pre>
gaussian = 2 + 2 * X[, 1] + 3 * X[, 2] + 4 * X[, 3] + 5 * S[, 1] +
               6 * S[, 2] + 7 * S[, 3] + rnorm(n, sd = 10)
</pre>
<p>The discrete response in <code>binomial</code> is produced as follows.
</p>
<pre>
nu = 1 + 0.5 * X[, 1] + 0.6 * X[, 2] + 0.7 * X[, 3] + 0.8 * S[, 1] +
         0.9 * S[, 2] + 1.0 * S[, 3]
binomial = rbinom(n = nrow(X), size = 1, prob = exp(nu) / (1 + exp(nu)))
binomial = as.factor(binomial)
</pre>
<p>The log-linear response in <code>poisson</code> is produced as follows.
</p>
<pre>
nu = 1 + 0.5 * X[, 1] + 0.6 * X[, 2] + 0.7 * X[, 3] + 0.8 * S[, 1] +
         0.9 * S[, 2] + 1.0 * S[, 3]
poisson = rpois(n = nrow(X), lambda = exp(nu))
</pre>
<p>The response for the Cox proportional hazards <code>coxph</code> is
produced as follows.
</p>
<pre>
fx = 1 + 0.5 * X[, 1] + 0.6 * X[, 2] + 0.7 * X[, 3] + 0.8 * S[, 1] +
         0.9 * S[, 2] + 1.0 * S[, 3]
hx = exp(fx)
ty = rexp(length(fx), hx)
tcens = rbinom(n = length(fx), prob = 0.3, size = 1)
coxph = cbind(time = ty, status = 1 - tcens)
</pre>
<p>The discrete response in <code>multinomial</code> is produced as follows.
</p>
<pre>
nu1 = 1 + 0.5 * X[, 1] + 0.6 * X[, 2] + 0.7 * X[, 3] + 0.8 * S[, 1] +
          0.9 * S[, 2] + 1.0 * S[, 3]
nu2 = 1 + 0.2 * X[, 1] + 0.2 * X[, 2] + 0.2 * X[, 3] + 0.6 * S[, 1] +
          0.6 * S[, 2] + 0.6 * S[, 3]
nu3 = 1 + 0.7 * X[, 1] + 0.6 * X[, 2] + 0.5 * X[, 3] + 0.1 * S[, 1] +
          0.1 * S[, 2] + 0.1 * S[, 3]
nu4 = 1 + 0.4 * X[, 1] + 0.4 * X[, 2] + 0.4 * X[, 3] + 0.4 * S[, 1] +
          0.4 * S[, 2] + 0.4 * S[, 3]
norm = exp(nu1) + exp(nu2) + exp(nu3) + exp(nu4)
probs = matrix(c(exp(nu1) / norm, exp(nu2) / norm,
                 exp(nu3) / norm, exp(nu4) / norm),
        ncol = 4, byrow = FALSE)
multinomial = apply(probs, MARGIN = 1,
                function(x) sample(letters[1:4], size = 1, prob = x))
multinomial = factor(multinomial, labels = letters[1:4])
</pre>


<h3>Author(s)</h3>

<p>Marco Scutari</p>


<h3>Examples</h3>

<pre><code class="language-R">summary(fgrrm(response = vu.test$gaussian, predictors = vu.test$X,
  sensitive = vu.test$S, unfairness = 1, family = "gaussian"))
summary(fgrrm(response = vu.test$binomial, predictors = vu.test$X,
  sensitive = vu.test$S, unfairness = 1, family = "binomial"))
summary(fgrrm(response = vu.test$poisson, predictors = vu.test$X,
  sensitive = vu.test$S, unfairness = 1, family = "poisson"))
summary(fgrrm(response = vu.test$coxph, predictors = vu.test$X,
  sensitive = vu.test$S, unfairness = 1, family = "cox"))
summary(fgrrm(response = vu.test$multinomial, predictors = vu.test$X,
  sensitive = vu.test$S, unfairness = 1, family = "multinomial"))
</code></pre>


</div>