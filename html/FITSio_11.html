<div class="container">

<table style="width: 100%;"><tr>
<td>modifyHeader</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Modify and edit comments and <code>keyword-value</code> pairs in FITS header
</h2>

<h3>Description</h3>

<p>Functions to modify and edit <code>keyword = value</code> pairs in FITS header:
<code>newKwv</code> creates <code>keyword = value / comment</code> line for
header;
<code>addKwv</code> adds <code>keyword = value / comment</code> to header;
<code>delKwv</code> deletes <code>keyword = value / comment</code> from header;
<code>modVal</code> modifies value in <code>keyword = value / comment</code> in
header;
<code>addComment</code> adds COMMENT line to header;
<code>addHistory</code> adds HISTORY line to header.
</p>


<h3>Usage</h3>

<pre><code class="language-R">newKwv(keyw, val, note)

addKwv(keyw, val, note, headerName)

delKwv(keyw, headerName)

modVal(keyw, val, note, headerName)

addComment(comment, headerName)

addHistory(history, headerName)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>keyw</code></td>
<td>

<p>Keyword, 8 character limit (FITS specification)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>val</code></td>
<td>

<p>Value for keyword
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>note</code></td>
<td>

<p>Optional descriptive note following <code>keyword = value</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comment</code></td>
<td>

<p>Comment text string
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>history</code></td>
<td>

<p>History text string
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>headerName</code></td>
<td>

<p>Header card images (vector)
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>All keywords will be converted to upper case (FITS convention) and
truncated to 8 characters.  There is no checking for duplicate keywords.
The default numerical format for values is 20.14g; if other formats are
needed, format separately and write the text string as the value (see
examples).  Similar work-arounds may be necessary for long note
strings (see examples).
</p>


<h3>Value</h3>

<p>New card image for <code>newKwv</code>, otherwise modified header card images.
</p>


<h3>Note</h3>

<p>It is also possible to operate directly on the vector of header card
images.  These functions are simply for convenience in maintaining the
correct header formatting.  No <code>END</code> card is needed in the header card
images; that is added by <code>closeHdr</code>, which must be run to
complete the header formatting.
</p>


<h3>Author(s)</h3>

<p>A. Harris
</p>


<h3>See Also</h3>

<p><code>readFITS</code>, <code>readFITSheader</code>, <code>closeHdr</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Make header from scratch, then add, modify, delete card images.
header &lt;- newKwv('KEYWORD', 'VALUE', 'NOTE')
header &lt;- addKwv('test1', 'plot size', header=header)
header &lt;- addKwv('test2', 4294.95397809807, 'number', header=header)
header &lt;- addKwv('test3', 4.29495397809807e50, 'big number', header=header)
header &lt;- addKwv('test4', -4.29495397809807e50, 'big number', header=header)
header &lt;- addKwv('test5', 'this is a very long value', 'number', header=header)
header &lt;- addKwv('test6',
   'this is a very very very very very very very very long value',
   'note', header=header)
header &lt;- addKwv('test7', 'value',
   'very very very very very very very very very very long comment',
   header=header)
header &lt;- addKwv('test8', '0123456789112345678921234567893123456',
   'format long number as string', header=header)
header &lt;- addKwv('apostrophe', 'o\'\'malley',
   'apostrophes are doubled in value strings', header=header)
for (i in 1:4) {
   header &lt;- addKwv(paste('test', 100+i, sep=''), 100+i, header=header)
}
header &lt;- delKwv('test103', header=header)
header &lt;- addComment('TEST103 should be missing from header', header=header)
header &lt;- addHistory('This header generated by modifyHeader example',
   header=header)

# show header
header

</code></pre>


</div>