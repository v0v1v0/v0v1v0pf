<div class="container">

<table style="width: 100%;"><tr>
<td>ffAnova</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Type II* Anova</h2>

<h3>Description</h3>

<p>Analysis of variance table for a linear model using type <code>II</code>* sums of squares,
which are described in Langsrud et al. (2007).
Type <code>II</code>* extends the type <code>II</code> philosophy to continuous variables. 
The results are invariant to scale changes and pitfalls are avoided.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ffAnova(formula, data = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>A model <code>formula</code> or an <code>R</code> object 
(preferably an <code>lm</code> object).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>An optional data frame, list or environment.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is a variant of <code>ffmanova</code> for the univariate special case.
The two input parameters will be interpreted by <code>model.frame</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>"anova"</code> (see <code>anova</code>).
</p>


<h3>Author(s)</h3>

<p>Øyvind Langsrud and Bjørn-Helge Mevik
</p>


<h3>References</h3>

<p>Langsrud, Ø., Jørgensen, K., Ofstad, R. and Næs, T. (2007):
“Analyzing Designed Experiments with Multiple Responses”,
<em>Journal of Applied Statistics</em>, <b>34</b>, 1275-1296.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Generate example data
set.seed(123)
a &lt;- c(0, 0, 0, 10, 10, 10, 1, 1, 1)
A &lt;- as.character(a)  # A is categorical
b &lt;- 1:9
y &lt;- rnorm(9)/10 + a  # y depends strongly on a (and A)
a100 &lt;- a + 100  # change of scale (origin)
b100 &lt;- b + 100  # change of scale (origin)

# Four ways of obtaining the same results
ffAnova(y ~ A * b)
ffAnova(y ~ A * b100)
ffAnova(lm(y ~ A * b))
ffAnova(y ~ A * b, data.frame(A = A, y = y, b = 1:9))

# Second order continuous variable
ffAnova(y ~ a + I(a^2))

# Model equivalent to 'y ~ A * b'
ffAnova(y ~ (a + I(a^2)) * b)

# Demonstrating similarities and differences using package car
if (!require(car))        # Package car is loaded if available 
  Anova &lt;- function(...) {  # Replacement function if car not available
    warning("No results since package car is not available")}

lm_Ab &lt;- lm(y ~ A * b)
lm_Ab100 &lt;- lm(y ~ A * b100)

# Type II same as type II* in this case
Anova(lm_Ab)      # Type II
Anova(lm_Ab100)   # Type II
ffAnova(lm_Ab)    # Type II*
ffAnova(lm_Ab100) # Type II*

# Type III depends on scale
Anova(lm_Ab, type = 3)
Anova(lm_Ab100, type = 3)

lm_a &lt;- lm(y ~ a + I(a^2))
lm_a100 &lt;- lm(y ~ a100 + I(a100^2))

# Now Type II depends on scale
Anova(lm_a)      # Type II
Anova(lm_a100)   # Type II
ffAnova(lm_a)    # Type II*
ffAnova(lm_a100) # Type II*
</code></pre>


</div>