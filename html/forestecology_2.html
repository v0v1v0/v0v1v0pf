<div class="container">

<table style="width: 100%;"><tr>
<td>add_buffer_variable</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Identify trees in the buffer region</h2>

<h3>Description</h3>

<p>Identify trees in the buffer region
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_buffer_variable(growth_df, direction = "in", size, region)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>growth_df</code></td>
<td>
<p><code>sf</code> data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>direction</code></td>
<td>
<p>"in" for buffers that are contained within <code>region</code> (default), "out" for buffers that contain <code>region</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>Distance to determine which neighboring trees to a focal tree are
competitors. The units are assumed to be the same as the <code>geometry</code> variables in <code>growth_df</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>region</code></td>
<td>
<p>An <code>sf</code> polygon object of region to be buffered</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The same <code>growth_df</code> data frame but with a new boolean
variable <code>buffer</code> indicating if a tree is in the study region buffer
area. This uses <code>compute_buffer_region()</code> to define the boundary
of the buffer region.
</p>


<h3>See Also</h3>

<p>Other spatial functions: 
<code>compute_buffer_region()</code>,
<code>focal_vs_comp_distance()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(tibble)
library(sfheaders)
library(ggplot2)

# Example square region to be buffered
region &lt;- tibble(
  x = c(0, 0, 1, 1),
  y = c(0, 1, 1, 0)
) %&gt;%
  sf_polygon()

# Example points
study_points &lt;- tibble(
  x = runif(50),
  y = runif(50)
) %&gt;%
  sf_point()

# Size of buffer
size &lt;- 0.05

# Identify whether points are within size of boundary
study_points &lt;- study_points %&gt;%
  add_buffer_variable(direction = "in", size = size, region = region)

# Plot study points coded by whether they are within size of boundary
p &lt;- ggplot() +
  geom_sf(data = region, fill = "transparent") +
  geom_sf(data = study_points, aes(col = buffer))
p

# Additionally, show buffer boundary in red
buffer_boundary &lt;- region %&gt;%
  compute_buffer_region(direction = "in", size = size)
p +
  geom_sf(data = buffer_boundary, col = "red", fill = "transparent")
</code></pre>


</div>