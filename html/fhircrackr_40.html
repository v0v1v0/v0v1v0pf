<div class="container">

<table style="width: 100%;"><tr>
<td>fhir_count_resource</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get Resources' Counts</h2>

<h3>Description</h3>

<p>Downloads a count of resources matching the resource type and search parameters specified in <code>resource</code> and <code>parameters</code>.
This function makes use of the <code style="white-space: pre;">⁠_summary=count⁠</code> parameter of FHIR search and is therefore able to count resources on the server
without actually downloading them.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fhir_count_resource(
  base_url,
  resource,
  parameters = NULL,
  username = NULL,
  password = NULL,
  token = NULL,
  add_headers = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>base_url</code></td>
<td>
<p>A character vector of length one specifying the base URL of the FHIR server, e.g. <code>"http://hapi.fhir.org/baseR4"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resource</code></td>
<td>
<p>A character vector of length one or fhir_resource_type object with the resource type to be searched, e.g. <code>"Patient"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parameters</code></td>
<td>
<p>Optional. Either a length 1 character vector containing properly formatted FHIR search parameters, e.g.
<code>"gender=male&amp;_summary=count"</code> or a named list or named character vector e.g. <code>list(gender="male", "_summary"="count")</code>
or <code>c(gender="male", "_summary"="count")</code>. Note that parameter names beginning with <code style="white-space: pre;">⁠_⁠</code> have to be put in quotation marks!</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>username</code></td>
<td>
<p>A character vector of length one containing the username for basic authentication.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>password</code></td>
<td>
<p>A character vector of length one containing the password for basic authentication.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>token</code></td>
<td>
<p>A character vector of length one or object of class httr::Token, for bearer token authentication (e.g. OAuth2). See <code>fhir_authenticate()</code>
for how to create this.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_headers</code></td>
<td>
<p>A named character vector of custom headers to add to the HTTP request, e.g. <code>c(myHeader = "somevalue")</code> or
<code>c(firstHeader = "value1", secondHeader = "value2")</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For more information on authentication options, please see the help page of <code>fhir_search()</code>
</p>


<h3>Value</h3>

<p>An integer of length 1 containing the number of resources matching the type and search parameters specified in <code>resource</code> and <code>parameters</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">

#the try({}, silent = TRUE) statement is only there to catch errors when the server is down
#you can skip it when the server is reachable

try({

#number of female Patient resources on the server
fhir_count_resource(
  base_url = 'https://vonk.fire.ly/R4',
  resource = "Patient",
  parameters = c(gender = "female"))
}, silent = TRUE)

</code></pre>


</div>