<div class="container">

<table style="width: 100%;"><tr>
<td>getPreds</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Get model predictions
</h2>

<h3>Description</h3>

<p>This function allows getting the predictions of multiple models when applied to a given dataset. It can be useful if you have a list of model objects (e.g. resulting from <code>multGLM</code>) and want to apply them to a new data set containing the same variables for another region or time period. There are options to include the logit link ('Y') and/or 'Favourability' (see <code>Fav</code>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">getPreds(data, models, id.col = NULL, Y = FALSE, P = TRUE, 
Favourability = TRUE, incl.input = FALSE, verbosity = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>an object of class either 'data.frame' or 'RasterStack' to which to apply the 'models' (below) to get their predictions; must contain all variables (with the same names, case-sensitive) included in any of the 'models'.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>models</code></td>
<td>

<p>an object of class 'list' containing one or more model objects, obtained e.g. with function <code>glm</code> or <code>multGLM</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id.col</code></td>
<td>

<p>optionally, the index number of a column of 'data' containing row identifiers, to be included in the result. Ignored if incl.input = TRUE, or if 'data' is a RasterStack rather than a data frame.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>

<p>logical, whether to include the logit link (y) value in the predictions.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>P</code></td>
<td>

<p>logical, whether to include the probability value in the predictions.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Favourability</code></td>
<td>

<p>logical, whether to include Favourability in the predictions (see <code>Fav</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>incl.input</code></td>
<td>

<p>logical, whether to include input columns in the output data frame (if the 'data' input is a data frame too). The default is FALSE.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbosity</code></td>
<td>
<p>numeric value indicating the amount of messages to display; currently meaningful values are 0, 1, and 2 (the default).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>This function returns the model predictions in an object of the same class as the input 'data', i.e. either a data frame or a RasterStack.
</p>


<h3>Author(s)</h3>

<p>A. Marcia Barbosa
</p>


<h3>See Also</h3>

<p><code>multGLM</code>, <code>predict</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(rotif.env)

names(rotif.env)


# identify rotifer data in the Eastern and Western hemispheres:

unique(rotif.env$CONTINENT)

rotif.env$HEMISPHERE &lt;- "Eastern"

rotif.env$HEMISPHERE[rotif.env$CONTINENT %in%
c("NORTHERN_AMERICA", "SOUTHERN_AMERICA")] &lt;- "Western"

head(rotif.env)


# separate the rotifer data into hemispheres

east.hem &lt;- rotif.env[rotif.env$HEMISPHERE == "Eastern", ]
west.hem &lt;- rotif.env[rotif.env$HEMISPHERE == "Western", ]


# make models for 3 of the species in rotif.env based on their distribution
# in the Eastern hemisphere:

mods &lt;- multGLM(east.hem, sp.cols = 18:20, var.cols = 5:17, 
id.col = 1, step = FALSE, FDR = FALSE, trim = FALSE)


# get the models' predictions for the Western hemisphere dataset:

preds &lt;- getPreds(west.hem, models = mods$models, P = TRUE, 
Favourability = TRUE)

head(preds)

</code></pre>


</div>