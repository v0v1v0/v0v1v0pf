<div class="container">

<table style="width: 100%;"><tr>
<td>JackCalDF</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Confidence intervals for dual frame calibration estimator based on jackknife method</h2>

<h3>Description</h3>

<p>Calculates confidence intervals for dual frame calibration estimator using jackknife procedure
</p>


<h3>Usage</h3>

<pre><code class="language-R">JackCalDF(ysA, ysB, piA, piB, domainsA, domainsB, N_A = NULL, N_B = NULL, 
N_ab = NULL, xsAFrameA = NULL, xsBFrameA = NULL, xsAFrameB = NULL, 
xsBFrameB = NULL, xsT = NULL, XA = NULL, XB = NULL, X = NULL, met = "linear", 
conf_level, sdA = "srs", sdB = "srs", strA = NULL, strB = NULL, clusA = NULL,
clusB = NULL, fcpA = FALSE, fcpB = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ysA</code></td>
<td>
<p>A numeric vector of length <code class="reqn">nA</code> or a numeric matrix or data frame of dimensions <code class="reqn">nA</code> x <code class="reqn">c</code> containing information about variable of interest from <code class="reqn">s_A</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ysB</code></td>
<td>
<p>A numeric vector of length <code class="reqn">nB</code> or a numeric matrix or data frame of dimensions <code class="reqn">nB</code> x <code class="reqn">c</code> containing information about variable of interest from <code class="reqn">s_B</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>piA</code></td>
<td>
<p>A numeric vector of length <code class="reqn">nA</code> or a square numeric matrix of dimension <code class="reqn">nA</code> containing first order or first and second order inclusion probabilities for units included in <code class="reqn">s_A</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>piB</code></td>
<td>
<p>A numeric vector of length <code class="reqn">nB</code> or a square numeric matrix of dimension <code class="reqn">nB</code> containing first order or first and second order inclusion probabilities for units included in <code class="reqn">s_B</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>domainsA</code></td>
<td>
<p>A character vector of size <code class="reqn">nA</code> indicating the domain each unit from <code class="reqn">s_A</code> belongs to. Possible values are "a" and "ab".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>domainsB</code></td>
<td>
<p>A character vector of size <code class="reqn">nB</code> indicating the domain each unit from <code class="reqn">s_B</code> belongs to. Possible values are "b" and "ba".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N_A</code></td>
<td>
<p>(Optional) A numeric value indicating the size of frame A</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N_B</code></td>
<td>
<p>(Optional) A numeric value indicating the size of frame B</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N_ab</code></td>
<td>
<p>(Optional) A numeric value indicating the size of the overlap domain</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xsAFrameA</code></td>
<td>
<p>(Optional) A numeric vector of length <code class="reqn">nA</code> or a numeric matrix or data frame of dimensions <code class="reqn">nA</code> x <code class="reqn">m_A</code>, with <code class="reqn">m_A</code> the number of auxiliary variables in frame A, containing auxiliary information in frame A for units included in <code class="reqn">s_A</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xsBFrameA</code></td>
<td>
<p>(Optional) A numeric vector of length <code class="reqn">nB</code> or a numeric matrix or data frame of dimensions <code class="reqn">nB</code> x <code class="reqn">m_A</code>, with <code class="reqn">m_A</code> the number of auxiliary variables in frame A, containing auxiliary information in frame A for units included in <code class="reqn">s_B</code>. For units in domain <code class="reqn">b</code>, these values are 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xsAFrameB</code></td>
<td>
<p>(Optional) A numeric vector of length <code class="reqn">nA</code> or a numeric matrix or data frame of dimensions <code class="reqn">nA</code> x <code class="reqn">m_B</code>, with <code class="reqn">m_B</code> the number of auxiliary variables in frame B, containing auxiliary information in frame B for units included in <code class="reqn">s_A</code>. For units in domain <code class="reqn">a</code>, these values are 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xsBFrameB</code></td>
<td>
<p>(Optional) A numeric vector of length <code class="reqn">nB</code> or a numeric matrix or data frame of dimensions <code class="reqn">nB</code> x <code class="reqn">m_B</code>, with <code class="reqn">m_B</code> the number of auxiliary variables in frame B, containing auxiliary information in frame B for units included in <code class="reqn">s_B</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xsT</code></td>
<td>
<p>(Optional) A numeric vector of length <code class="reqn">n</code> or a numeric matrix or data frame of dimensions <code class="reqn">n</code> x <code class="reqn">m_T</code>, with <code class="reqn">m_T</code> the number of auxiliary variables in both frames, containing auxiliary information for all units in the entire sample <code class="reqn">s = s_A \cup s_B</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>XA</code></td>
<td>
<p>(Optional) A numeric value or vector of length <code class="reqn">m_A</code>, with <code class="reqn">m_A</code> the number of auxiliary variables in frame A, indicating the population totals for the auxiliary variables considered in frame A.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>XB</code></td>
<td>
<p>(Optional) A numeric value or vector of length <code class="reqn">m_B</code>, with <code class="reqn">m_B</code> the number of auxiliary variables in frame B, indicating the population totals for the auxiliary variables considered in frame B.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>(Optional) A numeric value or vector of length <code class="reqn">m_T</code>, with <code class="reqn">m_T</code> the number of auxiliary variables in both frames, indicating the population totals for the auxiliary variables considered in both frames.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>met</code></td>
<td>
<p>(Optional) A character vector indicating the distance that must be used in calibration process. Possible values are "linear", "raking" and "logit". Default is "linear".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf_level</code></td>
<td>
<p>A numeric value indicating the confidence level for the confidence intervals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sdA</code></td>
<td>
<p>(Optional) A character vector indicating the sampling design considered in frame A. Possible values are "srs" (simple random sampling without replacement), "pps" (probabilities proportional to size sampling), "str" (stratified sampling), "clu" (cluster sampling) and "strclu" (stratified cluster sampling). Default is "srs".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sdB</code></td>
<td>
<p>(Optional) A character vector indicating the sampling design considered in frame B. Possible values are "srs" (simple random sampling without replacement), "pps" (probabilities proportional to size sampling), "str" (stratified sampling), "clu" (cluster sampling) and "strclu" (stratified cluster sampling). Default is "srs".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strA</code></td>
<td>
<p>(Optional) A numeric vector indicating the stratum each unit in frame A belongs to, if a stratified sampling or a stratified cluster sampling has been considered in frame A.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strB</code></td>
<td>
<p>(Optional) A numeric vector indicating the stratum each unit in frame B belongs to, if a stratified sampling or a stratified cluster sampling has been considered in frame B.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clusA</code></td>
<td>
<p>(Optional) A numeric vector indicating the cluster each unit in frame A belongs to, if a cluster sampling or a stratified cluster sampling has been considered in frame A.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clusB</code></td>
<td>
<p>(Optional) A numeric vector indicating the cluster each unit in frame B belongs to, if a cluster sampling or a stratified cluster sampling has been considered in frame B.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fcpA</code></td>
<td>
<p>(Optional) A logic value indicating if a finite population correction factor should be considered in frame A. Default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fcpB</code></td>
<td>
<p>(Optional) A logic value indicating if a finite population correction factor should be considered in frame B. Default is FALSE.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Let suppose a non stratified sampling design in frame A and a stratified sampling design in frame B where frame has been divided into L strata and a sample of size <code class="reqn">n_{Bl}</code> from the <code class="reqn">N_{Bl}</code> composing the l-th stratum is selected
In this context, jackknife variance estimator of a estimator <code class="reqn">\hat{Y}_c</code> is given by
</p>
<p style="text-align: center;"><code class="reqn">v_J(\hat{Y}_c) = \frac{n_{A}-1}{n_{A}}\sum_{i\in s_A} (\hat{Y}_{c}^{A}(i) -\overline{Y}_{c}^{A})^2 + \sum_{l=1}^{L}\frac{n_{Bl}-1}{n_{Bl}}  \sum_{i\in s_{Bl}} (\hat{Y}_{c}^{B}(lj) -\overline{Y}_{c}^{Bl})^2</code>
</p>

<p>with <code class="reqn">\hat{Y}_c^A(i)</code> the value of estimator <code class="reqn">\hat{Y}_c</code> after dropping <code class="reqn">i-th</code> unit from <code>ysA</code> and <code class="reqn">\overline{Y}_{c}^{A}</code> the mean of values <code class="reqn">\hat{Y}_c^A(i)</code>.
Similarly, <code class="reqn">\hat{Y}_c^B(lj)</code> is the value taken by <code class="reqn">\hat{Y}_c</code> after dropping j-th unit of l-th from sample <code>ysB</code> and <code class="reqn">\overline{Y}_{c}^{Bl}</code> is the mean of values <code class="reqn">\hat{Y}_c^B(lj)</code>.
If needed, a finite population correction factor can be included in frames by replacing <code class="reqn">\hat{Y}_{c}^{A}(i)</code> or <code class="reqn">\hat{Y}_{c}^{B}(lj)</code> with <code class="reqn">\hat{Y}_{c}^{A*}(i)= \hat{Y}_{c}+\sqrt{1-\overline{\pi}_A} (\hat{Y}_{c}^{A}(i) -\hat{Y}_{c})</code> or
<code class="reqn">\hat{Y}_{c}^{B*}(lj)= \hat{Y}_{c}+\sqrt{1-\overline{\pi}_B} (\hat{Y}_{c}^{B}(lj) -\hat{Y}_{c})</code>, where <code class="reqn">\overline{\pi}_A = \sum_{i \in s_A}\pi_{iA}/nA</code> and <code class="reqn">\overline{\pi}_B = \sum_{j \in s_A}\pi_{jB}/nB</code>
A confidence interval for any parameter of interest, <code class="reqn">Y</code> can be calculated, then, using the pivotal method.
</p>


<h3>Value</h3>

<p>A numeric matrix containing estimations of population total and population mean and their corresponding confidence intervals obtained through jackknife method.
</p>


<h3>References</h3>

<p>Wolter, K. M. (2007)
<em>Introduction to Variance Estimation.</em>
2nd Edition. Springer, Inc., New York.
</p>


<h3>See Also</h3>

<p><code>CalDF</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(DatA)
data(DatB)

#Let obtain a 95% jackknife confidence interval for variable Clothing,
#with frame sizes and overlap domain size known, supposing a stratified
#sampling in frame A and a simple random sampling without replacement 
#in frame B with no finite population correction factor in any frame.
JackCalDF(DatA$Clo, DatB$Clo, DatA$ProbA, DatB$ProbB, 
DatA$Domain, DatB$Domain, N_A = 1735, N_B = 1191, N_ab = 601, conf_level = 0.95,
sdA = "str", sdB = "srs", strA = DatA$Stratum)

#Finally, let consider a finite population correction factor in both frames.
JackCalDF(DatA$Clo, DatB$Clo, DatA$ProbA, DatB$ProbB, 
DatA$Domain, DatB$Domain, N_A = 1735, N_B = 1191, N_ab = 601, conf_level = 0.95,
sdA = "str", sdB = "srs", strA = DatA$Stratum, fcpA = TRUE, fcpB = TRUE)
</code></pre>


</div>