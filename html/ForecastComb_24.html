<div class="container">

<table style="width: 100%;"><tr>
<td>rolling_combine</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Dynamic Forecast Combination</h2>

<h3>Description</h3>

<p>Computes the dynamic version of the combined forecast for a method included in the ForecastComb package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rolling_combine(x, comb_method, criterion = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class 'foreccomb'. Must contrain full training set and test set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comb_method</code></td>
<td>
<p>The combination method that should be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>criterion</code></td>
<td>
<p>Specifies loss criterion. Set criterion to either 'RMSE', 'MAE', or 'MAPE' for the methods <code>comb_TA</code>, <code>comb_WA</code>,
<code>comb_EIG3</code>, and <code>comb_EIG4</code>, or to 'NULL' (default) for all other methods.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <code>rolling_combine</code> allows to estimate a dynamic version of the other combination methods of the package in a
standardized way, i.e., it allows for time-varying weights. The function builds on the idea of time series cross-validation:
Taking the provided training set as starting point, the models are re-estimated at each period of the test set using a
revised (increased) training set.
</p>
<p>Like univariate dynamic forecasting, the validation approach requires a full test set – including the observed values.
</p>
<p>The results are stored in an object of class 'foreccomb_res', for which separate plot and summary functions are provided.
</p>


<h3>Value</h3>

<p>Returns an object of class <code>foreccomb_res</code> that represents the results for the best-fit forecast combination method:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Method</code></td>
<td>
<p>Returns the best-fit forecast combination method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Models</code></td>
<td>
<p>Returns the individual input models that were used for the forecast combinations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Weights</code></td>
<td>
<p>Returns the combination weights obtained by applying the best-fit combination method to the training set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Fitted</code></td>
<td>
<p>Returns the fitted values of the combination method for the training set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Accuracy_Train</code></td>
<td>
<p>Returns range of summary measures of the forecast accuracy for the training set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Forecasts_Test</code></td>
<td>
<p>Returns forecasts produced by the combination method for the test set. Only returned if input included a forecast matrix for the test set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Accuracy_Test</code></td>
<td>
<p>Returns range of summary measures of the forecast accuracy for the test set. Only returned if input included a forecast matrix and a vector of actual values for the test set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Input_Data</code></td>
<td>
<p>Returns the data forwarded to the method.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Christoph E. Weiss
</p>


<h3>References</h3>

<p>Bergmeir, C., Hyndman, R.J., and Koo, B. (2015). A Note on the Validity of Cross-Validation
for Evaluating Time Series Prediction. <em>Monash University, Deparment of Econometrics and
Business Statistics</em>, Working Paper No. 10/15.
</p>
<p>Timmermann, A. (2006). Forecast Combinations. <em>Handbook of Economic Forecasting</em>, <b>1</b>, 135–196.
</p>


<h3>See Also</h3>

<p><code>foreccomb</code>,
<code>plot.foreccomb_res</code>,
<code>summary.foreccomb_res</code>,
</p>


<h3>Examples</h3>

<pre><code class="language-R">obs &lt;- rnorm(100)
preds &lt;- matrix(rnorm(1000, 1), 100, 10)
train_o&lt;-obs[1:80]
train_p&lt;-preds[1:80,]
test_o&lt;-obs[81:100]
test_p&lt;-preds[81:100,]

data&lt;-foreccomb(train_o, train_p, test_o, test_p)

#Static forecast combination (for example OLS):
static_OLS &lt;- comb_OLS(data)

#Dynamic forecast combination:
dyn_OLS &lt;- rolling_combine(data, "comb_OLS")

</code></pre>


</div>