<div class="container">

<table style="width: 100%;"><tr>
<td>process_pcl</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Process single PCL transects.</h2>

<h3>Description</h3>

<p><code>process_pcl</code> imports and processes a single PCL transect.
</p>


<h3>Usage</h3>

<pre><code class="language-R">process_pcl(
  f,
  user_height,
  marker.spacing,
  max.vai,
  pavd = FALSE,
  hist = FALSE,
  save_output = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p>the name of the filename to input &lt;character&gt; or a data frame &lt;data frame&gt;.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>user_height</code></td>
<td>
<p>the height of the laser off the ground as mounted on the user
in meters. default is 1 m</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marker.spacing</code></td>
<td>
<p>distance between markers, defaults is 10 m</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.vai</code></td>
<td>
<p>the maximum value of column VAI. The default is 8. Should be
a max value, not a mean.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pavd</code></td>
<td>
<p>logical input to include Plant Area Volume Density Plot from plot_pavd,
if TRUE it is included, if FALSE, it is not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hist</code></td>
<td>
<p>logical input to include histogram of VAI with PAVD plot, if
TRUE it is included, if FALSE, it is not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_output</code></td>
<td>
<p>the name of the output folder where to write all the output fiels.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function imports raw pcl data or existing data frames of pcl data and writes
all data and analysis to a series of .csv files in an output directory (output)
keeping nothing in the workspace.
</p>
<p><code>process_pcl</code> uses a workflow that cuts the data into 1 meter segments with
z and x positions in coordinate space where x referes to distance along the ground
and z refers to distance above the ground. Data are normalized based on
light extinction assumptions from the Beer-Lambert Law to account for light saturation.
Data are then summarized and metrics of canopy structure complexity are calculated.
</p>
<p><code>process_pcl</code> will write multiple output files to disk in an output directory that
<code>process_pcl</code> creates within the work directing. These files include:
</p>
<p>1. an output variables file that contains a list of CSC variables and is
written by the subfunction <code>write_pcl_to_csv</code>
2. a summary matrix, that includes detailed information on each vertical column
of LiDAR data written by the subfunction <code>write_summary_matrix_to_csv</code>
3. a hit matrix, which is a matrix of VAI at each x and z position, written by the
subfunction <code>write_hit_matrix_to_pcl</code>
4. a hit grid, which is a graphical representation of VAI along the x and z coordinate space.
5. optionally, plant area/volume density profiles can be created by including
<code>pavd = TRUE</code> that include an additional histogram with the optional
<code>hist = TRUE</code> in the <code>process_pcl</code> call.
</p>


<h3>Value</h3>

<p>writes the hit matrix, summary matrix, and output variables to csv
in an output folder, along with hit grid plot
</p>


<h3>See Also</h3>

<p><code>process_multi_pcl</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Run process complete PCL transect without storing to disk
uva.pcl &lt;- system.file("extdata", "UVAX_A4_01W.csv", package = "forestr")

process_pcl(uva.pcl, marker.spacing = 10, user_height = 1.05,
max.vai = 8, pavd = FALSE, hist = FALSE, save_output = FALSE)

# with data frame
process_pcl(osbs, marker.spacing = 10, user_height = 1.05,
max.vai = 8, pavd = FALSE, hist = FALSE, save_output = FALSE)


</code></pre>


</div>