<div class="container">

<table style="width: 100%;"><tr>
<td>simfinal_fmsm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate and summarise final outcomes from a flexible parametric multi-state
model</h2>

<h3>Description</h3>

<p>Estimates the probability of each final outcome ("absorbing" state), and the
mean and quantiles of the time to that outcome for people who experience it,
by simulating a large sample of individuals from the model.  This can be used
for both Markov and semi-Markov models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">simfinal_fmsm(
  x,
  newdata = NULL,
  probs = c(0.025, 0.5, 0.975),
  t = 1000,
  M = 1e+05,
  B = 0,
  cores = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Object returned by <code>fmsm</code>, representing a multi-state
model formed from transition-specific time-to-event models fitted by
<code>flexsurvreg</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>Data frame of covariate values, with one column per
covariate, and one row per alternative value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probs</code></td>
<td>
<p>Quantiles to calculate, by default, <code>c(0.025, 0.5, 0.975)</code>
for a median and 95% interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>
<p>Maximum time to simulate to, passed to <code>sim.fmsm</code>, so
that the summaries are taken from the subset of individuals in the
simulated data who are in the absorbing state at this time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M</code></td>
<td>
<p>Number of individuals to simulate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>Number of simulations to use to calculate 95% confidence intervals
based on the asymptotic normal distribution of the basic parameter
estimates. If <code>B=0</code> then no intervals are calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cores</code></td>
<td>
<p>Number of processor cores to use.  If <code>NULL</code> (the default)
then a single core is used.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For a competing risks model, i.e. a model defined by just one starting state
and multiple destination states representing competing events, this returns
the probability governing the next event that happens, and the distribution 
of the time to each event conditionally on that event happening.
</p>


<h3>Value</h3>

<p>A tidy data frame with rows for each combination of covariate values
and quantity of interest.  The quantity of interest is identified in the
column <code>quantity</code>, and the value of the quantity is in <code>val</code>,
with additional columns <code>lower</code> and <code>upper</code> giving 95%
confidence intervals for the quantity, if <code>B&gt;0</code>.
</p>


</div>