<div class="container">

<table style="width: 100%;"><tr>
<td>obj_func</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Objective function for optimizing RMSEA and CFI</h2>

<h3>Description</h3>

<p>This is the objective function that is minimized by the <code>tkl</code> function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">obj_func(
  par = c(v, eps),
  Rpop,
  W,
  p,
  u,
  df,
  target_rmsea,
  target_cfi,
  weights = c(1, 1),
  WmaxLoading = NULL,
  NWmaxLoading = 2,
  penalty = 0,
  return_values = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>par</code></td>
<td>
<p>(vector) Values of model error variance (<code class="reqn">\nu_{\textrm{e}}</code>) and
epsilon (<code class="reqn">\epsilon</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rpop</code></td>
<td>
<p>(matrix) The model-implied correlation matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>W</code></td>
<td>
<p>(matrix) Matrix of provisional minor common factor loadings with
unit column variances.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>(scalar) Number of variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>u</code></td>
<td>
<p>(vector) Major common factor variances.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>(scalar) Model degrees of freedom.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target_rmsea</code></td>
<td>
<p>(scalar) Target RMSEA value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target_cfi</code></td>
<td>
<p>(scalar) Target CFI value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>(vector) Vector of length two indicating how much weight to
give RMSEA and CFI, e.g., 'c(1,1)' (default) gives equal weight to both
indices; 'c(1,0)' ignores the CFI value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>WmaxLoading</code></td>
<td>
<p>(scalar) Threshold value for 'NWmaxLoading'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NWmaxLoading</code></td>
<td>
<p>(scalar) Maximum number of absolute loadings <code class="reqn">\ge</code>
'WmaxLoading' in any column of 'W'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>penalty</code></td>
<td>
<p>(scalar) Large (positive) penalty value to apply if the
NWmaxLoading condition is violated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_values</code></td>
<td>
<p>(boolean) If 'TRUE', return the objective function value
along with 'Rpop', 'RpopME', 'W', 'RMSEA', 'CFI', 'v', and 'eps' values. If
'FALSE', return only the objective function value.</p>
</td>
</tr>
</table>
</div>