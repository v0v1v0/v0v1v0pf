<div class="container">

<table style="width: 100%;"><tr>
<td>plotRCDF.pooledArms</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot Characteristics of the Estimated Distribution of the Treatment Arm-Pooled Number of Endpoints</h2>

<h3>Description</h3>

<p>Takes the output from the <code>completeTrial.pooledArms</code> function and generates a plot describing characteristics of the estimated distribution of the treatment arm-pooled number of endpoints.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plotRCDF.pooledArms(eventTimeFrame = NULL, eventPPcohort = FALSE,
  target, power.axis = TRUE, power.TE = NULL, eventPriorRate,
  eventPriorWeight, xlim = NULL, xlab = NULL, ylab = NULL,
  power.lab = NULL, xPosLegend = 0.67, fileDir)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>eventTimeFrame</code></td>
<td>
<p>a time frame within which endpoints are counted, specified in weeks as <code>c(start, end)</code>. If <code>NULL</code> (default), then all endpoints are counted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eventPPcohort</code></td>
<td>
<p>a logical value. If <code>TRUE</code>, only endpoints in the per-protocol cohort are counted. The default value is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>a vector of target numbers of endpoints for reporting of the estimated probability that the total number of endpoints will be <code class="reqn">\ge</code> <code>target</code>, with a 95% credible interval</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power.axis</code></td>
<td>
<p>a logical value. If <code>TRUE</code> (default), then a top axis is added to the plot, showing power to reject <code class="reqn">H_0</code>: TE <code class="reqn">\le</code> 0% using a 1-sided 0.025-level Wald test if TE = <code>power.TE</code> throughout the trial.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power.TE</code></td>
<td>
<p>a numeric value of treatment efficacy for which power is shown on the top axis. If <code>power.axis</code> is <code>FALSE</code>, then <code>power.TE</code> is ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eventPriorRate</code></td>
<td>
<p>a numeric value of the treatment arm-pooled prior mean incidence rate for the endpoint, expressed as the number of events per person-year at risk</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eventPriorWeight</code></td>
<td>
<p>a numeric vector in which each value represents a weight (i.e., a separate scenario) assigned to the prior gamma distribution of the treatment arm-pooled event rate at the time when 50% of the estimated total person-time at risk has been accumulated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>a numeric vector of the form <code>c(xmin, xmax)</code> for the user-specified x-axis limits. If <code>NULL</code> (default), then the computed range of x-axis values will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>a character string for the user-specified x-axis label. If <code>NULL</code> (default), then the label "Total Number of Infections (n)" will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>a character string for the user-specified y-axis label. If <code>NULL</code> (default), then the label "P( Total Number of Infections &gt;= n ) x 100" will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power.lab</code></td>
<td>
<p>a character string for the user-specified power-axis label. If <code>NULL</code> (default), then the label "Power for TE = <code>power.TE</code> (x 100)" will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xPosLegend</code></td>
<td>
<p>a numeric value in <code class="reqn">[0,1]</code> (0.67 by default) specifying the x-coordinate for the position of the legend</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fileDir</code></td>
<td>
<p>a character string specifying a path for the input directory</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>None. The function is called solely for plot generation.
</p>


<h3>See Also</h3>

<p><code>completeTrial.pooledArms</code> and <code>plotRCDF.byArm</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">arm &lt;- rep(c("C3","T1","T2"), each=250)
schedule &lt;- rbinom(length(arm), 1, 0.01)
entry &lt;- rpois(length(arm), lambda=60)
entry &lt;- entry - min(entry)
last_visit_dt &lt;- entry + runif(length(arm), min=0, max=80)
event &lt;- rbinom(length(arm), 1, 0.01)
dropout &lt;- rbinom(length(arm), 1, 0.02)
dropout[event==1] &lt;- 0
exit &lt;- rep(NA, length(arm))
exit[event==1] &lt;- last_visit_dt[event==1] + 5
exit[dropout==1] &lt;- last_visit_dt[dropout==1] + 5
followup &lt;- ifelse(event==1 | dropout==1, 0, 1)
interimData &lt;- data.frame(arm=arm, schedule2=schedule, entry=entry, exit=exit,
last_visit_dt=last_visit_dt, event=event, dropout=dropout, complete=0,
followup=followup)

weights &lt;- c(0.2, 0.4, 0.6)
for (j in 1:length(weights)){
  completeTrial.pooledArms(interimData=interimData, nTrials=50, N=1500, enrollRatePeriod=24,
  eventPriorWeight=weights[j], eventPriorRate=0.06, fuTime=80, visitSchedule=seq(0, 80, by=4),
  visitSchedule2=c(0,seq(from=8,to=80,by=12)), saveDir="./", randomSeed=9)
}

pdf(file=paste0("./","rcdf_pooled_eventPriorRate=",0.06,".pdf"), width=6, height=5)
plotRCDF.pooledArms(target=c(60,30), power.axis=FALSE, eventPriorRate=0.06,
eventPriorWeight=weights, fileDir="./")
dev.off()

</code></pre>


</div>