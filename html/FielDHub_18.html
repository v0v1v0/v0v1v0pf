<div class="container">

<table style="width: 100%;"><tr>
<td>row_column</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generates a Resolvable Row-Column Design (RowColD)</h2>

<h3>Description</h3>

<p>It randomly generates a resolvable row-column design (RowColD).
The design is optimized in both rows and columns blocking factors. The 
randomization can be done across multiple locations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">row_column(
  t = NULL,
  nrows = NULL,
  r = NULL,
  l = 1,
  plotNumber = 101,
  locationNames = NULL,
  seed = NULL,
  iterations = 1000,
  data = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>
<p>Number of  treatments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrows</code></td>
<td>
<p>Number of rows of a full resolvable replicate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>Number of blocks (full resolvable replicates).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>l</code></td>
<td>
<p>Number of locations. By default <code>l = 1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotNumber</code></td>
<td>
<p>Numeric vector with the starting plot number for each 
location. By default <code>plotNumber = 101</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locationNames</code></td>
<td>
<p>(optional) Names for each location.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>(optional) Real number that specifies the starting seed to obtain 
reproducible designs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iterations</code></td>
<td>
<p>Number of iterations for design optimization. By 
default <code>iterations = 1000</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>(optional) Data frame with label list of treatments</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The Row-Column design in FielDHub is built in two stages. The first step 
constructs the blocking factor <code>Columns</code> using Incomplete Block Units 
from an incomplete block design that sets the number of incomplete blocks as 
the number of <code>Columns</code> in the design, each of which has a dimension 
equal to the number of <code>Rows</code>. Once this design is generated, the 
<code>Rows</code> are used as the <code>Row</code> blocking factor that is optimized for 
A-Efficiency, but levels within the original <code>Columns</code> are fixed.
To optimize the <code>Rows</code> while maintaining the current optimized <code>Columns</code>, 
we use a heuristic algorithm that swaps at random treatment positions within 
a given <code>Column (Block)</code> also selected at random. The algorithm begins 
by calculating the A-Efficiency on the initial design, performs a swap iteration, 
recalculates the A-Efficiency on the resulting design, and compares it with 
the previous one to decide whether to keep or discard the new design. This 
iterative process is repeated, by default, 1,000 times.
</p>


<h3>Value</h3>

<p>A list with four elements.
</p>

<ul>
<li> <p><code>infoDesign</code> is a list with information on the design parameters.
</p>
</li>
<li> <p><code>resolvableBlocks</code> a list with the resolvable row columns blocks. 
</p>
</li>
<li> <p><code>concurrence</code> is the concurrence matrix.
</p>
</li>
<li> <p><code>fieldBook</code> is a data frame with the row-column field book.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Didier Murillo [aut],
Salvador Gezan [aut],
Ana Heilman [ctb],
Thomas Walk [ctb], 
Johan Aparicio [ctb], 
Richard Horsley [ctb]
</p>


<h3>References</h3>

<p>Edmondson., R. N. (2021). blocksdesign: Nested and crossed block designs for 
factorial and unstructured treatment sets. https://CRAN.R-project.org/package=blocksdesign
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Example 1: Generates a row-column design with 2 full blocks and 24 treatments
# and 6 rows. This for one location. This example uses 100 iterations for the optimization
# but 1000 is the default and recomended value.
rowcold1 &lt;- row_column(
  t = 24, 
  nrows = 6, 
  r = 2, 
  l = 1, 
  plotNumber= 101, 
  locationNames = "Loc1",
  iterations = 100,
  seed = 21
)
rowcold1$infoDesign
rowcold1$resolvableBlocks
head(rowcold1$fieldBook,12)

# Example 2: Generates a row-column design with 2 full blocks and 30 treatments
# and 5 rows, for one location. This example uses 100 iterations for the optimization
# but 1000 is the default and recommended value.
# In this case, we show how to use the option data.
treatments &lt;- paste("ND-", 1:30, sep = "")
ENTRY &lt;- 1:30
treatment_list &lt;- data.frame(list(ENTRY = ENTRY, TREATMENT = treatments))
head(treatment_list)
rowcold2 &lt;- row_column(
  t = 30, 
  nrows = 5, 
  r = 2, 
  l = 1, 
  plotNumber= 1001, 
  locationNames = "A",
  seed = 15,
  iterations = 100,
  data = treatment_list
)
rowcold2$infoDesign
rowcold2$resolvableBlocks
head(rowcold2$fieldBook,12)
  

</code></pre>


</div>