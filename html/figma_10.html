<div class="container">

<table style="width: 100%;"><tr>
<td>get_figma_page</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get data of a specific canvas/page in a Figma File from the API</h2>

<h3>Description</h3>

<p>This function uses the <code>/v1/files/</code> endpoint of Figma API
to get the data of an specific canvas/page (or a set of canvas/pages) from a Figma file,
and fit it into a R object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_figma_page(
  file_key,
  token,
  node_ids,
  geometry = FALSE,
  .output_format = "response",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file_key</code></td>
<td>
<p>A string with the key of the Figma File you want to get;</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>token</code></td>
<td>
<p>A string with your personal Figma token to authenticate in the API;</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>node_ids</code></td>
<td>
<p>A string with the node ID (or a vector of strings with node IDs);</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>geometry</code></td>
<td>
<p>A boolean value indicating if you want to export vector data.
Defaults to FALSE;</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.output_format</code></td>
<td>
<p>The output format. Options are <code>"response",
"figma_document", "tibble"</code>. Defaults to <code>"response"</code>;</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments that are passed to <code>parse_response_object()</code>;</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>With 'get_figma_file()' you get data of all objects in all canvas/pages of your Figma file.
But with 'get_figma_page()' you get data of all objects drawn in a specific set of canvas/pages
of your Figma file.
</p>
<p>Every canvas/page in a Figma file, is identified by a node ID. You can easily get this ID
from the URL that appears in your browser when you access this canvas/page on the
Figma platform (See <code>vignette("figma")</code> for more details).
</p>
<p>After you collected this node ID, give it to <code>node_id</code> argument as a string. If
you want to collect data from more than one canvas/page of your Figma file, give a vector
of node IDs to <code>node_id</code> argument.
</p>


<h3>Value</h3>

<p>By default, <code>get_figma_page()</code> do not parse the output from
the API, and returns the raw <code>response</code> object
produced by the <code>httr</code> HTTP methods (e.g. <code>httr::GET()</code>).
</p>
<p>But you can change this behavior with <code>.output_format</code> argument. With
<code>.output_format = "tibble"</code>, a <code>tibble::tibble()</code> object
is returned. With <code>.output_format = "figma_document"</code>, a object of
class <code>figma_document</code> is returned (See Details
section for more information).
</p>


<h3>Be aware of possible HTTP errors</h3>

<p>To get the data of your Figma file, the functions from <code>figma</code> package make a HTTP
request to the Figma API. But this request can fail for a number of reasons, and if this
does happen, <code>get_figma_page()</code> will use <code>report_http_error()</code> to raise an error
and report to the user, what kind of error message the Figma API returned.
See <code>vignette("http-errors")</code> for more details.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(figma)
file_key &lt;- "hch8YlkgaUIZ9raDzjPvCz"
token &lt;- "my figma token secret ... "
node_id &lt;- "0%3A1"
result &lt;- figma::get_figma_page(
  file_key, token, node_id
)

## End(Not run)
</code></pre>


</div>