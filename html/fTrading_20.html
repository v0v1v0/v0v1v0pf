<div class="container">

<table style="width: 100%;"><tr>
<td>BenchmarkAnalysis</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Utilities and Benchmark Analysis</h2>

<h3>Description</h3>

<p>A collection and description of utility 
and benchmark functions for the analysis 
of financial markets. The collection 
provides a set of functions for the 
computation of returns, for the display 
of price charts, and for benchmark 
measurements.
<br></p>
<p>The functions are:
</p>

<table>
<tr>
<td style="text-align: left;">
    <code>ohlcPlot</code> </td>
<td style="text-align: left;"> Plots open--high--low--close bar charts, </td>
</tr>
<tr>
<td style="text-align: left;">
    <code>sharpeRatio</code> </td>
<td style="text-align: left;"> Computes Sharpe Ratio, </td>
</tr>
<tr>
<td style="text-align: left;">
    <code>sterlingRatio</code> </td>
<td style="text-align: left;"> Computes Sterling Ratio, </td>
</tr>
<tr>
<td style="text-align: left;">
    <code>maxDrawDown</code> </td>
<td style="text-align: left;"> Computes maximum drawdown.</td>
</tr>
</table>
<h3>Usage</h3>

<pre><code class="language-R">ohlcPlot(x, xlim = NULL, ylim = NULL, xlab = "Time", ylab, col = par("col"),
    bg = par("bg"), axes = TRUE, frame.plot = axes, ann = par("ann"),
    main = NULL, date = c("calendar", "julian"), format = "%Y-%m-%d",
    origin = "1899-12-30", ...)
    
sharpeRatio(x, r = 0, scale = sqrt(250))
sterlingRatio(x)

maxDrawDown(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>date, format, origin</code></td>
<td>

<p>[ohlcPlot] - <br>
date elements,<br><code>date</code>, a string indicating the type of x axis annotation. 
Default is calendar dates. <br><code>format</code>, a string indicating the format of the x axis 
annotation if <code>date == "calendar"</code>. For details see
<code>format.POSIXct</code>. <br><code>origin</code> an R object specifying the origin of the Julian 
dates if <code>date == "calendar"</code>. Defaults to 1899-12-30 
(Popular spreadsheet programs internally also use Julian dates 
with this origin).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>

<p>[sharpeRatio] - <br>
the risk free rate. Default corresponds to using portfolio
returns not in excess of the riskless return.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>

<p>[sharpeRatio] - <br>
a scale factor. Default corresponds to an annualization
when working with daily financial time series data.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>a numeric vector of prices.
For <code>ohlcPlot</code> a multivariate time series object of 
class <code>mts</code> is required.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim, ylim, xlab, ylab, col, bg, axes, frame.plot, ann, main</code></td>
<td>

<p>[ohlcPlot] - <br>
graphical arguments, see <code>plot</code>,
<code>plot.default</code> and <code>par</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>[ohlcPlot] - <br>
further graphical arguments passed to <code>plot.window</code>, 
<code>title</code>, <code>axis</code>, and <code>box</code>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><b>Open–High–Low–Close Chart:</b>
<br><br>
Within an open–high–low–close bar chart, each bar represents
price information for the time interval between the open and the close
price. The left tick for each bar indicates the open price for the
time interval. The right tick indicates the closing price for the time
interval. The vertical length of the bar represents the price range
for the time interval.
The time scale of <code>x</code> must be in Julian dates (days since the
<code>origin</code>).
<br><code>[tseries:plotOHLC]</code>
<br></p>
<p><b>Sharpe and Sterling Ratios:</b>
<br><br>  
The Sharpe ratio is defined as a portfolio's mean return in excess of
the riskless return divided by the portfolio's standard deviation. In
finance the Sharpe Ratio represents a measure of the portfolio's
risk-adjusted (excess) return. 
The Sterling ratio is defined as a portfolio's overall return divided
by the portfolio's maximum drawdown statistic. In finance the
Sterling Ratio represents a measure of the portfolio's risk-adjusted
return.
<br><code>[tseries:sharpe]</code>
<br></p>
<p><b>Maximum Drawdown:</b>
<br><br>
The maximum drawdown or maximum loss statistic is defined as the 
maximum value drop after one of the peaks of <code>x</code>. For financial
instruments the maximum drawdown represents the worst investment 
loss for a buy–and–hold strategy invested in <code>x</code>.
<br><code>[tseries:maxdrawdown]</code>
<br></p>
<p><b>Get Returns:</b>
<br><br>
The function computes the return series given a financial security 
price series. The price series may be an object of class <code>numeric</code>
or a time series object. This includes objects of classes <code>"ts"</code>,
<code>"its"</code> and/or <code>"timeSeries"</code>.
</p>


<h3>Value</h3>

<p><code>ohlcPlot</code> 
<br>
creates an Open–High–Low–Close chart.
</p>
<p><code>sharpeRatio</code><br><code>sterlingRatio</code> 
<br>
return the Sharpe or Sterling ratio, a numeric value.
</p>
<p><code>maxDrawDown</code>
<br>
returns a list containing the following three components: 
<code>maxDrawDown</code>, double representing the max drawdown or max loss 
statistic; <code>from</code>, the index (or vector of indices) where the 
maximum drawdown period starts; <code>to</code>, the index (or vector of 
indices) where the max drawdown period ends.
</p>


<h3>Author(s)</h3>

<p>Adrian Trapletti for the ohlcPlot,*Ratio and maxDrawDown functions, <br>
Diethelm Wuertz for the Rmetrics <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>-port.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## ohlcPlot -
   # Plot OHLC for SP500
   # ohlcPlot(x, ylab = "price", main = instrument)
   
## sharpeRatio -
   # Sharpe Ratio for DAX and FTSE:
   data(EuStockMarkets)
   dax = log(EuStockMarkets[, "DAX"])
   ftse = log(EuStockMarkets[, "FTSE"])
   # Ratios:
   sharpeRatio(dax)
   sharpeRatio(ftse)
   
## maxDrawDown -
   data(EuStockMarkets)
   dax = log(EuStockMarkets[, "DAX"])
   mdd = maxDrawDown(dax)
   mdd
   # Plot DAX:
   plot(dax)
   grid()
   segments(time(dax)[mdd$from], dax[mdd$from],
     time(dax)[mdd$to], dax[mdd$from])
   segments(time(dax)[mdd$from], dax[mdd$to],
     time(dax)[mdd$to], dax[mdd$to])
   mid = time(dax)[(mdd$from + mdd$to)/2]
   arrows(mid, dax[mdd$from], mid, dax[mdd$to], col = 2)
   title(main = "DAX: Max Drawdown")
</code></pre>


</div>