<div class="container">

<table style="width: 100%;"><tr>
<td>which_on</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Indices of active inputs in a given model structure</h2>

<h3>Description</h3>

<p>The fgpm_factory function returns an object of class <code>"Xfgpm"</code>
with the function calls of all the evaluated models stored in the <code>@log.success@args</code> and
<code>@log.crashes@args</code> slots. The <code>which_on</code> function interprets the arguments linked to any
structural configuration and returns a list with two elements: (i) an <code>array</code> of indices of the scalar
inputs kept active; and (ii) an <code>array</code> of indices of the functional inputs kept active.
</p>


<h3>Usage</h3>

<pre><code class="language-R">which_on(sIn = NULL, fIn = NULL, args)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sIn</code></td>
<td>
<p>An optional matrix of scalar input coordinates with all the orignal scalar input variables.
This is used only to know the total number of scalar input variables. Any <code>matrix</code> with as many
columns as original scalar input variables could be used instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fIn</code></td>
<td>
<p>An optional list of functional input coordinates with all the original functional input
variables. This is used only to know the total number of functional input variables. Any <code>list</code>
with as many elements as original functional input variables could be used instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>args</code></td>
<td>
<p>An object of class <code>"modelCall"</code>, which specifies the model structure for
which the active inputs should be extracted.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>"list"</code>, containing the following information extracted from the
<em>args</em> parameter: (i) an array of indices of the scalar inputs kept active; and (ii) an array of
indices of the functional inputs kept active.
</p>


<h3>Author(s)</h3>

<p>José Betancourt, François Bachoc, Thierry Klein and Jérémy Rohmer
</p>


<h3>References</h3>

<p>Betancourt, J., Bachoc, F., Klein, T., Idier, D., Rohmer, J., and Deville, Y. (2024),
"funGp: An R Package for Gaussian Process Regression with Scalar and Functional Inputs".
<em>Journal of Statistical Software</em>, <strong>109</strong>, 5, 1–51.
(<a href="https://doi.org/10.18637/jss.v109.i05">doi:10.18637/jss.v109.i05</a>)
</p>
<p>Betancourt, J., Bachoc, F., Klein, T., Idier, D., Rohmer, J., and Deville, Y. (2024),
"funGp: An R Package for Gaussian Process Regression with Scalar and Functional Inputs".
<em>Journal of Statistical Software</em>, <strong>109</strong>, 5, 1–51.
(<a href="https://doi.org/10.18637/jss.v109.i05">doi:10.18637/jss.v109.i05</a>)
</p>
<p>Betancourt, J., Bachoc, F., and Klein, T. (2020),
R Package Manual: "Gaussian Process Regression for Scalar and Functional Inputs with funGp - The in-depth tour".
<em>RISCOPE project</em>.
<a href="https://hal.science/hal-02536624">[HAL]</a>
</p>


<h3>See Also</h3>

<p><strong>*</strong> get_active_in for details on how to obtain the data structures linked to the
active inputs;
</p>
<p><strong>*</strong> modelCall for details on the <em>args</em> argument;
</p>
<p><strong>*</strong> fgpm_factory for funGp heuristic model selection;
</p>
<p><strong>*</strong> Xfgpm for details on object delivered by fgpm_factory.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># extracting the indices of the active inputs in an optimized model________________________
# use precalculated Xfgpm object named xm
# active inputs in the best model
xm@log.success@args[[1]] # the full fgpm call
set.seed(100)
n.tr &lt;- 32
sIn &lt;- expand.grid(x1 = seq(0,1,length = n.tr^(1/5)), x2 = seq(0,1,length = n.tr^(1/5)),
x3 = seq(0,1,length = n.tr^(1/5)), x4 = seq(0,1,length = n.tr^(1/5)),
x5 = seq(0,1,length = n.tr^(1/5)))
fIn &lt;- list(f1 = matrix(runif(n.tr*10), ncol = 10), f2 = matrix(runif(n.tr*22), ncol = 22))
which_on(sIn, fIn, xm@log.success@args[[1]]) # only the indices extracted by which_on

</code></pre>


</div>