<div class="container">

<table style="width: 100%;"><tr>
<td>fuzzy_match</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Use string distances to match on names</h2>

<h3>Description</h3>

<p>Use the <code>stringdist</code> package to perform a fuzzy match on two datasets.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fuzzy_match(
  data1,
  data2,
  by = NULL,
  by.x = NULL,
  by.y = NULL,
  suffixes,
  unique_key_1,
  unique_key_2,
  fuzzy_settings = list(method = "jw", p = 0.1, maxDist = 0.05, matchNA = FALSE, nthread
    = getOption("sd_num_thread"))
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data1</code></td>
<td>
<p>data.frame. First to-merge dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data2</code></td>
<td>
<p>data.frame. Second to-merge dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>character string. Variables to merge on (common across data 1 and data 2). See <code>merge</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by.x</code></td>
<td>
<p>character string. Variable to merge on in data1. See <code>merge</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by.y</code></td>
<td>
<p>character string. Variable to merge on in data2. See <code>merge</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>suffixes</code></td>
<td>
<p>character vector with length==2. Suffix to add to like named variables after the merge. See <code>merge</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unique_key_1</code></td>
<td>
<p>character vector. Primary key of data1 that uniquely identifies each row (can be multiple fields)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unique_key_2</code></td>
<td>
<p>character vector. Primary key of data2 that uniquely identifies each row (can be multiple fields)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fuzzy_settings</code></td>
<td>
<p>list of arguments to pass to to the fuzzy matching function. See <code>amatch</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>stringdist</code> <code>amatch</code> computes string distances between every
pair of strings in two vectors, then picks the closest string pair for each
observation in the dataset. This is used by <code>fuzzy_match</code> to perform
a string distance-based match between two datasets. This process can take quite a long time,
for quicker matches try adjusting the <code>nthread</code> argument in <code>fuzzy_settings</code>.
The default fuzzy_settings are sensible starting points for company name matching,
but adjusting these can greatly change how the match performs.
</p>


<h3>Value</h3>

<p>a data.table, the resultant merged data set, including all columns from both data sets.
</p>


</div>