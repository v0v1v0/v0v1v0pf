<div class="container">

<table style="width: 100%;"><tr>
<td>planted_partition</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create an undirected planted partition object</h2>

<h3>Description</h3>

<p>To specify a planted partition model, you must specify
the number of nodes (via <code>n</code>), the mixing matrix (optional, either via
<code>within_block/between_block</code> or <code>a/b</code>),
and the relative block probabilites (optional, via <code>pi</code>).
We provide defaults for most of these options to enable
rapid exploration, or you can invest the effort
for more control over the model parameters. We <strong>strongly recommend</strong>
setting the <code>expected_degree</code> or <code>expected_density</code> argument
to avoid large memory allocations associated with
sampling large, dense graphs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">planted_partition(
  n,
  k,
  ...,
  within_block = NULL,
  between_block = NULL,
  a = NULL,
  b = NULL,
  pi = rep(1/k, k),
  sort_nodes = TRUE,
  poisson_edges = TRUE,
  allow_self_loops = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>The number of nodes in the network. Must be
a positive integer. This argument is required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Number of planted partitions, as a positive integer.
This argument is required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Arguments passed on to <code>undirected_factor_model</code>
</p>

<dl>
<dt><code>expected_degree</code></dt>
<dd>
<p>If specified, the desired expected degree
of the graph. Specifying <code>expected_degree</code> simply rescales <code>S</code>
to achieve this. Defaults to <code>NULL</code>. Do not specify both
<code>expected_degree</code> and <code>expected_density</code> at the same time.</p>
</dd>
<dt><code>expected_density</code></dt>
<dd>
<p>If specified, the desired expected density
of the graph. Specifying <code>expected_density</code> simply rescales <code>S</code>
to achieve this. Defaults to <code>NULL</code>. Do not specify both
<code>expected_degree</code> and <code>expected_density</code> at the same time.</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>within_block</code></td>
<td>
<p>Probability of within block edges. Must be
strictly between zero and one. Must specify either
<code>within_block</code> and <code>between_block</code>, or <code>a</code> and <code>b</code> to determine
edge probabilities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>between_block</code></td>
<td>
<p>Probability of between block edges. Must be
strictly between zero and one. Must specify either
<code>within_block</code> and <code>between_block</code>, or <code>a</code> and <code>b</code> to determine
edge probabilities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>Integer such that <code>a/n</code> is the probability of edges
within a block. Useful for sparse graphs. Must specify either
<code>within_block</code> and <code>between_block</code>, or <code>a</code> and <code>b</code> to determine
edge probabilities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>Integer such that <code>b/n</code> is the probability of edges
between blocks. Useful for sparse graphs. Must specify either
<code>within_block</code> and <code>between_block</code>, or <code>a</code> and <code>b</code> to determine
edge probabilities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pi</code></td>
<td>
<p>(relative block probabilities) Relative block
probabilities. Must be positive, but do not need to sum
to one, as they will be normalized internally.
Must match the dimensions of <code>B</code> or <code>k</code>. Defaults to
<code>rep(1 / k, k)</code>, or a balanced blocks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort_nodes</code></td>
<td>
<p>Logical indicating whether or not to sort the nodes
so that they are grouped by block and by <code>theta</code>. Useful for plotting.
Defaults to <code>TRUE</code>. When <code>TRUE</code>, nodes are first sorted by block
membership, and then by degree-correction parameters within each block.
Additionally, <code>pi</code> is sorted in increasing order, and the columns
of the <code>B</code> matrix are permuted to match the new order of <code>pi</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>poisson_edges</code></td>
<td>
<p>Logical indicating whether or not
multiple edges are allowed to form between a pair of
nodes. Defaults to <code>TRUE</code>. When <code>FALSE</code>, sampling proceeds
as usual, and duplicate edges are removed afterwards. Further,
when <code>FALSE</code>, we assume that <code>S</code> specifies a desired between-factor
connection probability, and back-transform this <code>S</code> to the
appropriate Poisson intensity parameter to approximate Bernoulli
factor connection probabilities. See Section 2.3 of Rohe et al. (2017)
for some additional details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_self_loops</code></td>
<td>
<p>Logical indicating whether or not
nodes should be allowed to form edges with themselves.
Defaults to <code>TRUE</code>. When <code>FALSE</code>, sampling proceeds allowing
self-loops, and these are then removed after the fact.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A planted partition model is stochastic blockmodel in which
the diagonal and the off-diagonal of the mixing matrix <code>B</code>
are both constant. This means that edge probabilities
depend only on whether two nodes belong to the same block,
or to different blocks, but the particular blocks themselves
don't have any impact apart from this.
</p>


<h3>Value</h3>

<p>An <code>undirected_planted_partition</code> S3 object, which is a subclass
of the <code>sbm()</code> object, with additional fields:
</p>

<ul>
<li> <p><code>within_block</code>: The probability of edge formation within a block.
</p>
</li>
<li> <p><code>between_block</code>: The probability of edge formation between two distinct
blocks.
</p>
</li>
</ul>
<h3>See Also</h3>

<p>Other stochastic block models: 
<code>dcsbm()</code>,
<code>directed_dcsbm()</code>,
<code>mmsbm()</code>,
<code>overlapping_sbm()</code>,
<code>sbm()</code>
</p>
<p>Other undirected graphs: 
<code>chung_lu()</code>,
<code>dcsbm()</code>,
<code>erdos_renyi()</code>,
<code>mmsbm()</code>,
<code>overlapping_sbm()</code>,
<code>sbm()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
set.seed(27)

lazy_pp &lt;- planted_partition(
  n = 1000,
  k = 5,
  expected_density = 0.01,
  within_block = 0.1,
  between_block = 0.01
)

lazy_pp

</code></pre>


</div>