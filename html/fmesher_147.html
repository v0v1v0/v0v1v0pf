<div class="container">

<table style="width: 100%;"><tr>
<td>fm_cprod</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>(Blockwise) cross product of integration points</h2>

<h3>Description</h3>

<p>Calculates the groupwise cross product of integration points in different
dimensions and multiplies their weights accordingly.
If the object defining points in a particular dimension has no
weights attached to it all weights are assumed to be 1.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fm_cprod(..., na.rm = NULL, .blockwise = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p><code>data.frame</code>, <code>sf</code>, or <code>SpatialPointsDataFrame</code> objects, each one
usually obtained by a call to an <code>fm_int()</code> method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>logical; if <code>TRUE</code>, the rows with weight <code>NA</code> from the
non-overlapping full_join will be removed; if <code>FALSE</code>, set the undefined weights to <code>NA</code>.
If <code>NULL</code> (default), act as <code>TRUE</code>, but warn if any elements needed removing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.blockwise</code></td>
<td>
<p>logical; if <code>FALSE</code>, computes full tensor product integration.
If <code>TRUE</code>, computes within-block tensor product integration (used internally
by <code>fm_int()</code>).
Default <code>FALSE</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>data.frame</code>, <code>sf</code>, or <code>SpatialPointsDataFrame</code> of multidimensional
integration points and their weights
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# fm_int needs INLA
if (TRUE &amp;&amp;
  require("ggplot2")) {
  # Create integration points in dimension 'myDim' and 'myDiscreteDim'
  ips1 &lt;- fm_int(fm_mesh_1d(1:20),
    rbind(c(0, 3), c(3, 8)),
    name = "myDim"
  )
  ips2 &lt;- fm_int(domain = c(1, 2, 4), name = "myDiscreteDim")

  # Calculate the cross product
  ips &lt;- fm_cprod(ips1, ips2)

  # Plot the integration points
  ggplot(ips) +
    geom_point(aes(myDim, myDiscreteDim, size = weight)) +
    scale_size_area()
}


</code></pre>


</div>