<div class="container">

<table style="width: 100%;"><tr>
<td>fHMM_parameters</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set and check model parameters</h2>

<h3>Description</h3>

<p>This function sets and checks model parameters.
Unspecified parameters are sampled.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fHMM_parameters(
  controls = list(),
  hierarchy = FALSE,
  states = if (!hierarchy) 2 else c(2, 2),
  sdds = if (!hierarchy) "normal" else c("normal", "normal"),
  Gamma = NULL,
  mu = NULL,
  sigma = NULL,
  df = NULL,
  Gamma_star = NULL,
  mu_star = NULL,
  sigma_star = NULL,
  df_star = NULL,
  scale_par = c(1, 1),
  seed = NULL,
  check_controls = TRUE
)

## S3 method for class 'fHMM_parameters'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>controls</code></td>
<td>
<p>Either a <code>list</code> or an object of class <code>fHMM_controls</code>.
</p>
<p>The <code>list</code> can contain the following elements, which are described
in more detail below:
</p>

<ul>
<li> <p><code>hierarchy</code>, defines an hierarchical HMM,
</p>
</li>
<li> <p><code>states</code>, defines the number of states,
</p>
</li>
<li> <p><code>sdds</code>, defines the state-dependent distributions,
</p>
</li>
<li> <p><code>horizon</code>, defines the time horizon,
</p>
</li>
<li> <p><code>period</code>, defines a flexible, periodic fine-scale time horizon,
</p>
</li>
<li> <p><code>data</code>, a <code>list</code> of controls that define the data,
</p>
</li>
<li> <p><code>fit</code>, a <code>list</code> of controls that define the model fitting
</p>
</li>
</ul>
<p>Either none, all, or selected elements can be specified.
</p>
<p>Unspecified parameters are set to their default values.
</p>
<p>Important: Specifications in <code>controls</code> always override individual
specifications.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hierarchy</code></td>
<td>
<p>A <code>logical</code>, set to <code>TRUE</code> for an hierarchical HMM.
</p>
<p>If <code>hierarchy = TRUE</code>, some of the other controls must be specified for
the coarse-scale and the fine-scale layer.
</p>
<p>By default, <code>hierarchy = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>states</code></td>
<td>
<p>An <code>integer</code>, the number of states of the underlying Markov chain.
</p>
<p>If <code>hierarchy = TRUE</code>, <code>states</code> must be a <code>vector</code> of length
2. The first entry corresponds to the coarse-scale layer, while the second
entry corresponds to the fine-scale layer.
</p>
<p>By default, <code>states = 2</code> if <code>hierarchy = FALSE</code> and
<code>states = c(2, 2)</code> if <code>hierarchy = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sdds</code></td>
<td>
<p>A <code>character</code>, specifying the state-dependent distribution. One of
</p>

<ul>
<li> <p><code>"normal"</code> (the normal distribution),
</p>
</li>
<li> <p><code>"lognormal"</code> (the log-normal distribution),
</p>
</li>
<li> <p><code>"t"</code> (the t-distribution),
</p>
</li>
<li> <p><code>"gamma"</code> (the gamma distribution),
</p>
</li>
<li> <p><code>"poisson"</code> (the Poisson distribution).
</p>
</li>
</ul>
<p>The distribution parameters, i.e. the
</p>

<ul>
<li>
<p> mean <code>mu</code>,
</p>
</li>
<li>
<p> standard deviation <code>sigma</code> (not for the Poisson distribution),
</p>
</li>
<li>
<p> degrees of freedom <code>df</code> (only for the t-distribution),
</p>
</li>
</ul>
<p>can be fixed via, e.g., <code>"t(df = 1)"</code> or
<code>"gamma(mu = 0, sigma = 1)"</code>.
To fix different values of a parameter for different states, separate by
"|", e.g. <code>"poisson(mu = 1|2|3)"</code>.
</p>
<p>If <code>hierarchy = TRUE</code>, <code>sdds</code> must be a <code>vector</code> of length 2.
The first entry corresponds to the coarse-scale layer, while the second entry
corresponds to the fine-scale layer.
</p>
<p>By default, <code>sdds = "normal"</code> if <code>hierarchy = FALSE</code> and
<code>sdds = c("normal", "normal")</code> if <code>hierarchy = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Gamma, Gamma_star</code></td>
<td>
<p>A transition probability <code>matrix</code>.
</p>
<p>It should have dimension <code>states[1]</code>.
</p>
<p><code>Gamma_star</code> is a <code>list</code> of fine-scale transition probability
matrices. The <code>list</code> must be of length <code>states[1]</code>.
Each transition probability matrix must be of dimension <code>states[2]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mu, mu_star</code></td>
<td>
<p>A <code>numeric</code> vector of expected values for the state-dependent
distribution in the different states.
</p>
<p>For the gamma- or Poisson-distribution, <code>mu</code> must be positive.
</p>
<p>It should have length <code>states[1]</code>.
</p>
<p><code>mu_star</code> is a <code>list</code> of <code>vectors</code> with fine-scale
expectations. The <code>list</code> must be of length <code>states[1]</code>.
Each <code>vector</code> must be of length <code>states[2]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma, sigma_star</code></td>
<td>
<p>A positive <code>numeric</code> vector of standard deviations for the
state-dependent distribution in the different states.
</p>
<p>It should have length <code>states[1]</code>.
</p>
<p><code>sigma_star</code> is a <code>list</code> of <code>vectors</code> with fine-scale
standard deviations. The <code>list</code> must be of length <code>states[1]</code>.
Each vector must be of length <code>states[2]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df, df_star</code></td>
<td>
<p>A positive <code>numeric</code> vector of degrees of freedom for the
state-dependent distribution in the different states.
</p>
<p>It should have length <code>states[1]</code>.
</p>
<p>Only relevant in case of a state-dependent t-distribution.
</p>
<p><code>df_star</code> is a <code>list</code> of <code>vectors</code> with fine-scale
degrees of freedom. The <code>list</code> must be of length <code>states[1]</code>.
Each vector must be of length <code>states[2]</code>.
Only relevant in case of a fine-scale state-dependent t-distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale_par</code></td>
<td>
<p>A positive <code>numeric</code> vector of length two, containing scales for sampled
expectations and standard deviations.
</p>
<p>The first entry is the scale for
<code>mu</code> and <code>sigma</code>, the second entry is the scale for
<code>mu_star</code> and <code>sigma_star</code> (if any).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Sets a seed for the sampling of parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check_controls</code></td>
<td>
<p>Either <code>TRUE</code> to check the defined controls or <code>FALSE</code> to not check
them (which saves computation time), else.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class <code>fHMM_parameters</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Currently not used.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>See the <a href="https://loelschlaeger.de/fHMM/articles/">vignette on the model definition</a>
for more details.
</p>


<h3>Value</h3>

<p>An object of class <code>fHMM_parameters</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">parameters &lt;- fHMM_parameters(states = 2, sdds = "normal")
parameters$Gamma
</code></pre>


</div>