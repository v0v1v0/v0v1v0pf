<div class="container">

<table style="width: 100%;"><tr>
<td>FuzzMatcher</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fuzzy character string matching ( ratios )</h2>

<h3>Description</h3>

<p>Fuzzy character string matching ( ratios )
</p>
<p>Fuzzy character string matching ( ratios )
</p>


<h3>Usage</h3>

<pre><code class="language-R"># init &lt;- FuzzMatcher$new(decoding = NULL)
</code></pre>


<h3>Details</h3>

<p>the <em>decoding</em> parameter is useful in case of non-ascii character strings. If this parameter is not NULL then the <em>force_ascii</em> parameter (if applicable) is internally set to FALSE. Decoding applies only to python 2 configurations, as in python 3 character strings are decoded to unicode by default.
</p>
<p>the <em>Partial_token_set_ratio</em> method works in the following way : 1. Find all alphanumeric tokens in each string, 2. treat them as a set, 3. construct two strings of the form, &lt;sorted_intersection&gt;&lt;sorted_remainder&gt;, 4. take ratios of those two strings, 5. controls for unordered partial matches (HERE partial match is TRUE)
</p>
<p>the <em>Partial_token_sort_ratio</em> method returns the ratio of the most similar substring as a number between 0 and 100 but sorting the token before comparing.
</p>
<p>the <em>Ratio</em> method returns a ration in form of an integer value based on a SequenceMatcher-like class, which is built on top of the Levenshtein package (https://github.com/miohtama/python-Levenshtein)
</p>
<p>the <em>QRATIO</em> method performs a quick ratio comparison between two strings. Runs full_process from utils on both strings. Short circuits if either of the strings is empty after processing.
</p>
<p>the <em>WRATIO</em> method returns a measure of the sequences' similarity between 0 and 100, using different algorithms. Steps in the order they occur :
1. Run full_process from utils on both strings, 2. Short circuit if this makes either string empty, 3. Take the ratio of the two processed strings (fuzz.ratio),
4. Run checks to compare the length of the strings (If one of the strings is more than 1.5 times as long as the other use partial_ratio comparisons - scale partial results by 0.9 - this makes sure only full results can return 100 -
If one of the strings is over 8 times as long as the other instead scale by 0.6), 5. Run the other ratio functions (if using partial ratio functions call partial_ratio,
partial_token_sort_ratio and partial_token_set_ratio scale all of these by the ratio based on length otherwise call token_sort_ratio and token_set_ratio all token based comparisons are scaled by 0.95 - on top of any partial scalars)
6. Take the highest value from these results round it and return it as an integer.
</p>
<p>the <em>UWRATIO</em> method returns a measure of the sequences' similarity between 0 and 100, using different algorithms. Same as WRatio but preserving unicode
</p>
<p>the <em>UQRATIO</em> method returns a Unicode quick ratio. It calls <em>QRATIO</em> with force_ascii set to FALSE.
</p>
<p>the <em>Token_sort_ratio</em> method returns a measure of the sequences' similarity between 0 and 100 but sorting the token before comparing
</p>
<p>the <em>Partial_ratio</em> returns the ratio of the most similar substring as a number between 0 and 100.
</p>
<p>the <em>Token_set_ratio</em> method works in the following way : 1. Find all alphanumeric tokens in each string, 2. treat them as a set, 3. construct two strings of the form, &lt;sorted_intersection&gt;&lt;sorted_remainder&gt;, 4. take ratios of those two strings, 5. controls for unordered partial matches (HERE partial match is FALSE)
</p>


<h3>Methods</h3>


<dl>
<dt><code>FuzzMatcher$new(decoding = NULL)</code></dt>
<dd></dd>
<dt><code>--------------</code></dt>
<dd></dd>
<dt><code>Partial_token_set_ratio(string1 = NULL, string2 = NULL, force_ascii = TRUE, full_process = TRUE)</code></dt>
<dd></dd>
<dt><code>--------------</code></dt>
<dd></dd>
<dt><code>Partial_token_sort_ratio(string1 = NULL, string2 = NULL, force_ascii = TRUE, full_process = TRUE)</code></dt>
<dd></dd>
<dt><code>--------------</code></dt>
<dd></dd>
<dt><code>Ratio(string1 = NULL, string2 = NULL)</code></dt>
<dd></dd>
<dt><code>--------------</code></dt>
<dd></dd>
<dt><code>QRATIO(string1 = NULL, string2 = NULL, force_ascii = TRUE)</code></dt>
<dd></dd>
<dt><code>--------------</code></dt>
<dd></dd>
<dt><code>WRATIO(string1 = NULL, string2 = NULL, force_ascii = TRUE)</code></dt>
<dd></dd>
<dt><code>--------------</code></dt>
<dd></dd>
<dt><code>UWRATIO(string1 = NULL, string2 = NULL)</code></dt>
<dd></dd>
<dt><code>--------------</code></dt>
<dd></dd>
<dt><code>UQRATIO(string1 = NULL, string2 = NULL)</code></dt>
<dd></dd>
<dt><code>--------------</code></dt>
<dd></dd>
<dt><code>Token_sort_ratio(string1 = NULL, string2 = NULL, force_ascii = TRUE, full_process = TRUE)</code></dt>
<dd></dd>
<dt><code>--------------</code></dt>
<dd></dd>
<dt><code>Partial_ratio(string1 = NULL, string2 = NULL)</code></dt>
<dd></dd>
<dt><code>--------------</code></dt>
<dd></dd>
<dt><code>Token_set_ratio(string1 = NULL, string2 = NULL, force_ascii = TRUE, full_process = TRUE)</code></dt>
<dd></dd>
</dl>
<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-new"><code>FuzzMatcher$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Partial_token_set_ratio"><code>FuzzMatcher$Partial_token_set_ratio()</code></a>
</p>
</li>
<li> <p><a href="#method-Partial_token_sort_ratio"><code>FuzzMatcher$Partial_token_sort_ratio()</code></a>
</p>
</li>
<li> <p><a href="#method-Ratio"><code>FuzzMatcher$Ratio()</code></a>
</p>
</li>
<li> <p><a href="#method-QRATIO"><code>FuzzMatcher$QRATIO()</code></a>
</p>
</li>
<li> <p><a href="#method-WRATIO"><code>FuzzMatcher$WRATIO()</code></a>
</p>
</li>
<li> <p><a href="#method-UWRATIO"><code>FuzzMatcher$UWRATIO()</code></a>
</p>
</li>
<li> <p><a href="#method-UQRATIO"><code>FuzzMatcher$UQRATIO()</code></a>
</p>
</li>
<li> <p><a href="#method-Token_sort_ratio"><code>FuzzMatcher$Token_sort_ratio()</code></a>
</p>
</li>
<li> <p><a href="#method-Partial_ratio"><code>FuzzMatcher$Partial_ratio()</code></a>
</p>
</li>
<li> <p><a href="#method-Token_set_ratio"><code>FuzzMatcher$Token_set_ratio()</code></a>
</p>
</li>
<li> <p><a href="#method-clone"><code>FuzzMatcher$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-new"></a>



<h4>Method <code>new()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>FuzzMatcher$new(decoding = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>decoding</code></dt>
<dd>
<p>either NULL or a character string. If not NULL then the <em>decoding</em> parameter takes one of the standard python encodings (such as 'utf-8'). See the <em>details</em> and <em>references</em> link for more information.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-Partial_token_set_ratio"></a>



<h4>Method <code>Partial_token_set_ratio()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>FuzzMatcher$Partial_token_set_ratio(
  string1 = NULL,
  string2 = NULL,
  force_ascii = TRUE,
  full_process = TRUE
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>string1</code></dt>
<dd>
<p>a character string.</p>
</dd>
<dt><code>string2</code></dt>
<dd>
<p>a character string.</p>
</dd>
<dt><code>force_ascii</code></dt>
<dd>
<p>allow only ASCII characters (force convert to ascii)</p>
</dd>
<dt><code>full_process</code></dt>
<dd>
<p>either TRUE or FALSE. If TRUE then it process the string by : 1. removing all but letters and numbers, 2. trim whitespace, 3. force to lower case</p>
</dd>
</dl>
</div>


<hr>
<a id="method-Partial_token_sort_ratio"></a>



<h4>Method <code>Partial_token_sort_ratio()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>FuzzMatcher$Partial_token_sort_ratio(
  string1 = NULL,
  string2 = NULL,
  force_ascii = TRUE,
  full_process = TRUE
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>string1</code></dt>
<dd>
<p>a character string.</p>
</dd>
<dt><code>string2</code></dt>
<dd>
<p>a character string.</p>
</dd>
<dt><code>force_ascii</code></dt>
<dd>
<p>allow only ASCII characters (force convert to ascii)</p>
</dd>
<dt><code>full_process</code></dt>
<dd>
<p>either TRUE or FALSE. If TRUE then it process the string by : 1. removing all but letters and numbers, 2. trim whitespace, 3. force to lower case</p>
</dd>
</dl>
</div>


<hr>
<a id="method-Ratio"></a>



<h4>Method <code>Ratio()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>FuzzMatcher$Ratio(string1 = NULL, string2 = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>string1</code></dt>
<dd>
<p>a character string.</p>
</dd>
<dt><code>string2</code></dt>
<dd>
<p>a character string.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-QRATIO"></a>



<h4>Method <code>QRATIO()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>FuzzMatcher$QRATIO(string1 = NULL, string2 = NULL, force_ascii = TRUE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>string1</code></dt>
<dd>
<p>a character string.</p>
</dd>
<dt><code>string2</code></dt>
<dd>
<p>a character string.</p>
</dd>
<dt><code>force_ascii</code></dt>
<dd>
<p>allow only ASCII characters (force convert to ascii)</p>
</dd>
</dl>
</div>


<hr>
<a id="method-WRATIO"></a>



<h4>Method <code>WRATIO()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>FuzzMatcher$WRATIO(string1 = NULL, string2 = NULL, force_ascii = TRUE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>string1</code></dt>
<dd>
<p>a character string.</p>
</dd>
<dt><code>string2</code></dt>
<dd>
<p>a character string.</p>
</dd>
<dt><code>force_ascii</code></dt>
<dd>
<p>allow only ASCII characters (force convert to ascii)</p>
</dd>
</dl>
</div>


<hr>
<a id="method-UWRATIO"></a>



<h4>Method <code>UWRATIO()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>FuzzMatcher$UWRATIO(string1 = NULL, string2 = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>string1</code></dt>
<dd>
<p>a character string.</p>
</dd>
<dt><code>string2</code></dt>
<dd>
<p>a character string.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-UQRATIO"></a>



<h4>Method <code>UQRATIO()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>FuzzMatcher$UQRATIO(string1 = NULL, string2 = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>string1</code></dt>
<dd>
<p>a character string.</p>
</dd>
<dt><code>string2</code></dt>
<dd>
<p>a character string.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-Token_sort_ratio"></a>



<h4>Method <code>Token_sort_ratio()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>FuzzMatcher$Token_sort_ratio(
  string1 = NULL,
  string2 = NULL,
  force_ascii = TRUE,
  full_process = TRUE
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>string1</code></dt>
<dd>
<p>a character string.</p>
</dd>
<dt><code>string2</code></dt>
<dd>
<p>a character string.</p>
</dd>
<dt><code>force_ascii</code></dt>
<dd>
<p>allow only ASCII characters (force convert to ascii)</p>
</dd>
<dt><code>full_process</code></dt>
<dd>
<p>either TRUE or FALSE. If TRUE then it process the string by : 1. removing all but letters and numbers, 2. trim whitespace, 3. force to lower case</p>
</dd>
</dl>
</div>


<hr>
<a id="method-Partial_ratio"></a>



<h4>Method <code>Partial_ratio()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>FuzzMatcher$Partial_ratio(string1 = NULL, string2 = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>string1</code></dt>
<dd>
<p>a character string.</p>
</dd>
<dt><code>string2</code></dt>
<dd>
<p>a character string.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-Token_set_ratio"></a>



<h4>Method <code>Token_set_ratio()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>FuzzMatcher$Token_set_ratio(
  string1 = NULL,
  string2 = NULL,
  force_ascii = TRUE,
  full_process = TRUE
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>string1</code></dt>
<dd>
<p>a character string.</p>
</dd>
<dt><code>string2</code></dt>
<dd>
<p>a character string.</p>
</dd>
<dt><code>force_ascii</code></dt>
<dd>
<p>allow only ASCII characters (force convert to ascii)</p>
</dd>
<dt><code>full_process</code></dt>
<dd>
<p>either TRUE or FALSE. If TRUE then it process the string by : 1. removing all but letters and numbers, 2. trim whitespace, 3. force to lower case</p>
</dd>
</dl>
</div>


<hr>
<a id="method-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>FuzzMatcher$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>References</h3>

<p>https://github.com/seatgeek/fuzzywuzzy/blob/master/fuzzywuzzy/fuzz.py, https://docs.python.org/3/library/codecs.html#standard-encodings
</p>


<h3>Examples</h3>

<pre><code class="language-R">
try({
  if (reticulate::py_available(initialize = FALSE)) {

    if (check_availability()) {

      library(fuzzywuzzyR)

      s1 = "Atlanta Falcons"

      s2 = "New York Jets"

      init = FuzzMatcher$new()

      init$Partial_token_set_ratio(string1 = s1,
                                   string2 = s2,
                                   force_ascii = TRUE,
                                   full_process = TRUE)

      init$Partial_token_sort_ratio(string1 = s1,
                                    string2 = s2,
                                    force_ascii = TRUE,
                                    full_process = TRUE)

      init$Ratio(string1 = s1, string2 = s2)

      init$QRATIO(string1 = s1, string2 = s2, force_ascii = TRUE)

      init$WRATIO(string1 = s1, string2 = s2, force_ascii = TRUE)

      init$UWRATIO(string1 = s1, string2 = s2)

      init$UQRATIO(string1 = s1, string2 = s2)

      init$Token_sort_ratio(string1 = s1, string2 = s2, force_ascii = TRUE, full_process = TRUE)

      init$Partial_ratio(string1 = s1, string2 = s2)

      init$Token_set_ratio(string1 = s1, string2 = s2, force_ascii = TRUE, full_process = TRUE)
    }
  }
}, silent=TRUE)
</code></pre>


</div>