<div class="container">

<table style="width: 100%;"><tr>
<td>datLUTnm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Data - Gets variable description or class.</h2>

<h3>Description</h3>

<p>Merge a look-up table to append new variables, names, or categories to x.
</p>


<h3>Usage</h3>

<pre><code class="language-R">datLUTnm(
  xvar,
  x = NULL,
  uniquex = NULL,
  LUT = NULL,
  LUTvar = NULL,
  LUTnewvar = NULL,
  LUTnewvarnm = NULL,
  FIAname = FALSE,
  group = FALSE,
  NAclass = "Other",
  add0 = FALSE,
  spcdname = "COMMON_SCIENTIFIC",
  stopifmiss = FALSE,
  xtxt = NULL,
  dsn = NULL,
  dbconn = NULL,
  dbconnopen = FALSE,
  dbwrite = FALSE,
  dbreturn = TRUE,
  overwrite = TRUE,
  savedata = FALSE,
  savedata_opts = NULL,
  gui = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xvar</code></td>
<td>
<p>String. Name of variable in the data table to join to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Data frame or comma-delimited file (*.csv). The data table with
variable to classify.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uniquex</code></td>
<td>
<p>String. Unique values to match, if x is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LUT</code></td>
<td>
<p>Data frame or comma-delimited file (*.csv). Name of the file with
collapsed classes (If FIAname=FALSE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LUTvar</code></td>
<td>
<p>String. Name of variable in LUT with values matching that
xvar.  If LUTvar=NULL, LUTvar=xvar.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LUTnewvar</code></td>
<td>
<p>String. Name(s) of other variable(s) in the look-up table
to include in join. If NULL, all other variables in table will be included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LUTnewvarnm</code></td>
<td>
<p>String. Different name(s) for LUTnewvar. If NULL, names
will default to LUTnewvar. The length of LUTnewvarnm must equal the length
for LUTnewvar.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FIAname</code></td>
<td>
<p>Logical. If TRUE, get FIA reference name based on (ref_codes)
within FIESTA.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>Logical. If TRUE and FIA=TRUE, the group variables in reference
table (ref_codes) are merged to data table (GROUPCD, GROUPNM).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NAclass</code></td>
<td>
<p>String. NA values in xvar will be changed to NAclass.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add0</code></td>
<td>
<p>Logical. IF TRUE, keep all codes in look up table. If FALSE,
only include codes that are in x.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spcdname</code></td>
<td>
<p>String. Name for species output type ('COMMON', 'SCIENTIFIC', 
'SYMBOL', 'COMMON_SCIENTIFIC').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stopifmiss</code></td>
<td>
<p>Logical. IF TRUE, stops function if missing codes in LUTx.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xtxt</code></td>
<td>
<p>String.* Name of x table for more useful information in
warnings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dsn</code></td>
<td>
<p>String. Data source name of database with x.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbconn</code></td>
<td>
<p>Open database connection.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbconnopen</code></td>
<td>
<p>Logica. If TRUE, keep database connection open.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbwrite</code></td>
<td>
<p>Logical. If TRUE, write class column to database table x.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbreturn</code></td>
<td>
<p>Logical. If TRUE, return table with class column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>Logical. If TRUE, and the class name already exists 
in x, overwrites class name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>savedata</code></td>
<td>
<p>Logical. If TRUE, saves data to outfolder.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>savedata_opts</code></td>
<td>
<p>List. See help(savedata_options()) for a list
of options. Only used when savedata = TRUE. If out_layer = NULL,
default = 'datlut'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gui</code></td>
<td>
<p>Logical. If gui, user is prompted for parameters.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xLUT</code></td>
<td>
<p> The input data table with look-up table variable(s). </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xLUTnm</code></td>
<td>
<p> Name of the new variable(s). </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LUT</code></td>
<td>
<p> Look up table with
categories. </p>
</td>
</tr>
</table>
<p>If savedata = TRUE, a comma-delimited file is output to the outfolder as
outfn.  If outfn = NULL, the name of the file will be datlut_'date'.csv.
</p>


<h3>Note</h3>

<p>For available reference tables:
sort(unique(ref_codes$VARIABLE))
</p>


<h3>Author(s)</h3>

<p>Tracey S. Frescino
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Append forest type names using the reference table above.
ref_fortypcd &lt;- ref_codes[ref_codes$VARIABLE == "FORTYPCD",]
WYcondlut &lt;- datLUTnm(WYcond,
                      xvar = "FORTYPCD",
                      LUT = ref_fortypcd,
                      LUTvar = "VALUE",
                      LUTnewvar = "MEANING",
                      LUTnewvarnm = "FORTYPNM")
names(WYcondlut)
WYcond2 &lt;- WYcondlut$xLUT
head(WYcond2[WYcond2$FORTYPCD &gt; 0, ])

# Append forest type names the FIAname parameter. If the xvar is in the stored
# reference table, the name and values will automatically be appended.
WYcondlut2 &lt;- datLUTnm(WYcond,
                       xvar = "FORTYPCD",
                       FIAname = TRUE)
names(WYcondlut2)
WYcond3 &lt;- WYcondlut2$xLUT
head(WYcond3[WYcond3$FORTYPCD &gt; 0, ])
</code></pre>


</div>