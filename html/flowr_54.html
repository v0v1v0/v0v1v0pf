<div class="container">

<table style="width: 100%;"><tr>
<td>run</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Run automated Pipelines</h2>

<h3>Description</h3>

<p>Run complete pipelines, by wrapping several steps into one 
convenient function.
</p>
<p>NOTE: please use flowr version 0.9.8.9010 or higher.
</p>
<p>In summary, this function performs the following steps:
</p>

<ul>
<li>
<p> the argument <code>x</code> defines the name of the pipeline. 
Say, for example <code>sleep_pipe</code>.
</p>
</li>
<li> <p>fetch_pipes: finds the pipeline definition 
(<code>sleep_pipe.R</code>, <code>sleep_pipe.def</code> and
<code>sleep_pipe.conf</code> files)
</p>
</li>
<li> <p><code>sleep_pipe(...)</code>: Create all the required commands 
(<code>flowmat</code>)
</p>
</li>
<li> <p>to_flow: Use <code>flowmat</code> and 
<code>sleep_pipe.def</code> to create a flow object.
</p>
</li>
<li> <p>submit_flow: Submit the flow to the cluster.
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">run(
  x,
  platform,
  def,
  conf,
  wd = opts_flow$get("flow_run_path"),
  flow_run_path = wd,
  rerun_wd,
  start_from,
  execute = FALSE,
  ...
)

run_pipe(
  x,
  platform,
  def,
  conf,
  wd = opts_flow$get("flow_run_path"),
  flow_run_path = wd,
  rerun_wd,
  start_from,
  execute = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>name of the pipeline to run. This is a function called to create a flow_mat.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>platform</code></td>
<td>
<p>what platform to use, overrides flowdef</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>def</code></td>
<td>
<p>flow definition</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf</code></td>
<td>
<p>a tab-delimited configuration file with path to tools and default parameters. See fetch_pipes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wd</code></td>
<td>
<p>an alias to flow_run_path</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flow_run_path</code></td>
<td>
<p>passed onto to_flow. Default it picked up from flowr.conf. Typically this is ~/flowr/runs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rerun_wd</code></td>
<td>
<p>if you need to re-run, supply the previous working dir</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start_from</code></td>
<td>
<p>the step to start a rerun from. Intuitively, this is ignored in a fresh run and only used in re-running a pipeline.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>execute</code></td>
<td>
<p>TRUE/FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>passed onto the pipeline function as specified in x</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

## Run a short pipeline (dry run)
run("sleep_pipe")

## Run a short pipeline on the local machine
run("sleep_pipe", platform = "local", execute = TRUE)

## Run a short pipeline on the a torque cluster (qsub)
run("sleep_pipe", platform = "torque", execute = TRUE)

## Run a short pipeline on the a MOAB cluster (msub)
run("sleep_pipe", platform = "moab", execute = TRUE)

## Run a short pipeline on the a IBM (LSF) cluster (bsub)
run("sleep_pipe", platform = "lsf", execute = TRUE)

## Run a short pipeline on the a MOAB cluster (msub)
run("sleep_pipe", platform = "moab", execute = TRUE)

## change parameters of the pipeline
## All extra parameters are passed on to the function function.
run("sleep_pipe", platform = "lsf", execute = TRUE, x = 5)


## End(Not run)
</code></pre>


</div>