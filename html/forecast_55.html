<div class="container">

<table style="width: 100%;"><tr>
<td>CVar</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>k-fold Cross-Validation applied to an autoregressive model</h2>

<h3>Description</h3>

<p><code>CVar</code> computes the errors obtained by applying an autoregressive
modelling function to subsets of the time series <code>y</code> using k-fold
cross-validation as described in Bergmeir, Hyndman and Koo (2015). It also
applies a Ljung-Box test to the residuals. If this test is significant
(see returned pvalue), there is serial correlation in the residuals and the
model can be considered to be underfitting the data. In this case, the
cross-validated errors can underestimate the generalization error and should
not be used.
</p>


<h3>Usage</h3>

<pre><code class="language-R">CVar(
  y,
  k = 10,
  FUN = nnetar,
  cvtrace = FALSE,
  blocked = FALSE,
  LBlags = 24,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Univariate time series</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Number of folds to use for cross-validation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>
<p>Function to fit an autoregressive model. Currently, it only works
with the <code>nnetar</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cvtrace</code></td>
<td>
<p>Provide progress information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blocked</code></td>
<td>
<p>choose folds randomly or as blocks?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LBlags</code></td>
<td>
<p>lags for the Ljung-Box test, defaults to 24, for yearly series can be set to 20</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments are passed to <code>FUN</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing information about the model and accuracy for each
fold, plus other summary information computed across folds.
</p>


<h3>Author(s)</h3>

<p>Gabriel Caceres and Rob J Hyndman
</p>


<h3>References</h3>

<p>Bergmeir, C., Hyndman, R.J., Koo, B. (2018) A note on the
validity of cross-validation for evaluating time series prediction.
<em>Computational Statistics &amp; Data Analysis</em>, <b>120</b>, 70-83.
<a href="https://robjhyndman.com/publications/cv-time-series/">https://robjhyndman.com/publications/cv-time-series/</a>.
</p>


<h3>See Also</h3>

<p>CV, tsCV.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
modelcv &lt;- CVar(lynx, k=5, lambda=0.15)
print(modelcv)
print(modelcv$fold1)

library(ggplot2)
autoplot(lynx, series="Data") +
  autolayer(modelcv$testfit, series="Fits") +
  autolayer(modelcv$residuals, series="Residuals")
ggAcf(modelcv$residuals)

</code></pre>


</div>