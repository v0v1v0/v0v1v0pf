<div class="container">

<table style="width: 100%;"><tr>
<td>fb_insights</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Insights</h2>

<h3>Description</h3>

<p>Insights
</p>


<h3>Usage</h3>

<pre><code class="language-R">fb_insights(
  fbacc,
  target = fbacc$acct_path,
  job_type = c("sync", "async"),
  retries = 0,
  simplify = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fbacc</code></td>
<td>
<p>(optional) <code>FB_Ad_account</code> object, which defaults to the last returned object of <code>fbad_init</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>ad account id(s) (default), campaign id(s), adset id(s) or ad id(s)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>job_type</code></td>
<td>
<p>synchronous or asynchronous request. If the prior fails with "please reduce the amount of data", it will fall back to async request. Async query is possible with only one target.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>retries</code></td>
<td>
<p>number of times this query has been sent to Facebook previously and failed â€“ to be used internally for error handling</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simplify</code></td>
<td>
<p>return a list of <code>data.frame</code> or <code>list</code> objects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>named arguments passed to the API, like time range, fields, filtering etc.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>list</code> of <code>data.frame</code> or <code>list</code> objects depending on the <code>simplify</code> argument
</p>


<h3>References</h3>

<p><a href="https://developers.facebook.com/docs/marketing-api/insights">https://developers.facebook.com/docs/marketing-api/insights</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
fb_insights(fbacc)

## get default fields and filter for a few metrics
l &lt;- fb_insights(date_preset = 'today', level = 'ad')
## merge pages into tabular data
data.table::rbindlist(l)

## sometimes more advanced list selections are needed
l &lt;- fb_insights(date_preset = 'today', level = 'ad', fields = 'unique_actions', simplify = FALSE)

## filter for ACTIVE Ads
l &lt;- fb_insights(date_preset = 'today', level = 'ad',
  filtering = "[{'field':'adset.effective_status','operator':'IN','value':['ACTIVE']}]")

## End(Not run)
</code></pre>


</div>