<div class="container">

<table style="width: 100%;"><tr>
<td>fetch</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fetch data from many data sources</h2>

<h3>Description</h3>

<p>The <strong>fetch</strong> package allows you to retrieve data from many different
data sources.  The package retrieves data in a memory-efficient manner.
You first identify the data by defining a data catalog.  Then fetch
the data from the catalog.  Catalogs can be defined for many popular 
data formats: csv, rds, sas7bdat, excel, etc.
</p>
<p>The functions contained in the <strong>fetch</strong> package are as follows:
</p>

<ul>
<li>
<p><code>catalog</code>: Creates a data library
</p>
</li>
<li>
<p><code>fetch</code>: Creates a data dictionary
</p>
</li>
<li>
<p><code>import_spec</code>: Defines an import spec for a specific dataset
</p>
</li>
</ul>
<p>The <code>fetch</code> function retrieves a dataset from a data
catalog.  The function accepts a catalog item as the first parameter.  The
catalog item is the only required parameter. The "select" parameter allows
you to pull only some of the columns.  The "where" and "top" parameters
may be used to define a subset of the data to retrieve.  The "import_specs"
parameter accepts an <code>import_spec</code> object, which can be used
to control how data is read into the data frame.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fetch(catalog, select = NULL, where = NULL, top = NULL, import_specs = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>catalog</code></td>
<td>
<p>The catalog item to fetch data for.  Catalog items
are created using the <code>catalog</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>select</code></td>
<td>
<p>A vector of column names or column numbers to extract from the
data item. Note that the column names can be easily obtained as a vector
from the catalog item, and then manipulated to suit your needs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>where</code></td>
<td>
<p>An optional expression to be used to filter the fetched data.
Use the base R <code>expression</code> function to define the expression.  
The expression allows logical operators and Base R functions. Column names
can be unquoted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>top</code></td>
<td>
<p>A number of records to return from the head of the data item.
Valid value is an integer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>import_specs</code></td>
<td>
<p>The import specs to use for the fetch operation. Import
specs can be used to control the data types of the fetched dataset.
An import specification is created with the <code>import_spec</code>
function. See the documentation of this function for additional details
and an example.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The desired dataset, returned as a tibble.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: David Bosak <a href="mailto:dbosak01@gmail.com">dbosak01@gmail.com</a>
</p>
<p>Other contributors:
</p>

<ul>
<li>
<p> Kevin Kramer <a href="mailto:kkrame02@amgen.com">kkrame02@amgen.com</a> [contributor]
</p>
</li>
<li>
<p> Archytas Clinical Solutions [copyright holder]
</p>
</li>
</ul>
<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://fetch.r-sassy.org">https://fetch.r-sassy.org</a>
</p>
</li>
<li>
<p> Report bugs at <a href="https://github.com/dbosak01/fetch/issues">https://github.com/dbosak01/fetch/issues</a>
</p>
</li>
</ul>
<p>The <code>catalog</code> function to create a data catalog.
Also see the <code>import_spec</code> function to create import specifications.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Get data directory
pkg &lt;- system.file("extdata", package = "fetch")

# Create catalog
ct &lt;- catalog(pkg, engines$csv)

# View catalog
ct
# data catalog: 6 items
# - Source: C:/packages/fetch/inst/extdata
# - Engine: csv
# - Items:
  # data item 'ADAE': 56 cols 150 rows
  # data item 'ADEX': 17 cols 348 rows
  # data item 'ADPR': 37 cols 552 rows
  # data item 'ADPSGA': 42 cols 695 rows
  # data item 'ADSL': 56 cols 87 rows
  # data item 'ADVS': 37 cols 3617 rows

# Example 1: Fetch Entire Dataset

# Get data from the catalog
dat1 &lt;- fetch(ct$ADEX)

# View Data
dat1
# A tibble: 348 × 17                                                                                      
#   STUDYID USUBJID   SUBJID SITEID TRTP  TRTPN TRTA  TRTAN RANDFL SAFFL
#   &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;
#  1 ABC     ABC-01-0… 049    01     ARM D     4 ARM D     4 Y      Y    
#  2 ABC     ABC-01-0… 049    01     ARM D     4 ARM D     4 Y      Y    
#  3 ABC     ABC-01-0… 049    01     ARM D     4 ARM D     4 Y      Y    
#  4 ABC     ABC-01-0… 049    01     ARM D     4 ARM D     4 Y      Y    
#  5 ABC     ABC-01-0… 050    01     ARM B     2 ARM B     2 Y      Y    
#  6 ABC     ABC-01-0… 050    01     ARM B     2 ARM B     2 Y      Y    
#  7 ABC     ABC-01-0… 050    01     ARM B     2 ARM B     2 Y      Y    
#  8 ABC     ABC-01-0… 050    01     ARM B     2 ARM B     2 Y      Y    
#  9 ABC     ABC-01-0… 051    01     ARM A     1 ARM A     1 Y      Y    
# 10 ABC     ABC-01-0… 051    01     ARM A     1 ARM A     1 Y      Y    
#  338 more rows
#  7 more variables: MITTFL &lt;chr&gt;, PPROTFL &lt;chr&gt;, PARAM &lt;chr&gt;,
#  PARAMCD &lt;chr&gt;, PARAMN &lt;dbl&gt;, AVAL &lt;dbl&gt;, AVALCAT1 &lt;chr&gt;
#  Use `print(n = ...)` to see more rows

# Example 2: Fetch a Subset

# Get data with selected columns and where expression
dat2 &lt;- fetch(ct$ADEX, select = c("SUBJID", "TRTA", "RANDFL", "SAFFL"),
              where = expression(SUBJID == '051'))

# View Data
dat2
# A tibble: 4 x 4
#   SUBJID TRTA  RANDFL SAFFL
#   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;
# 1 051    ARM A Y      Y    
# 2 051    ARM A Y      Y    
# 3 051    ARM A Y      Y    
# 4 051    ARM A Y      Y    

</code></pre>


</div>