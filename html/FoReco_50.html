<div class="container">

<table style="width: 100%;"><tr>
<td>cttools</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cross-temporal reconciliation tools</h2>

<h3>Description</h3>

<p>Some useful tools for the cross-temporal forecast reconciliation of a linearly constrained
(e.g., hierarchical/grouped) multiple time series.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cttools(agg_mat, cons_mat, agg_order, tew = "sum", fh = 1, sparse = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>agg_mat</code></td>
<td>
<p>A (<code class="reqn">n_a \times n_b</code>) numeric matrix representing the cross-sectional
aggregation matrix. It maps the <code class="reqn">n_b</code> bottom-level (free)
variables into the <code class="reqn">n_a</code> upper (constrained) variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cons_mat</code></td>
<td>
<p>A (<code class="reqn">n_a \times n</code>) numeric matrix representing the cross-sectional
zero constraints. It spans the null space for the reconciled forecasts.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>agg_order</code></td>
<td>
<p>Highest available sampling frequency per seasonal cycle (max. order
of temporal aggregation, <code class="reqn">m</code>), or a vector representing a subset of <code class="reqn">p</code> factors
of <code class="reqn">m</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tew</code></td>
<td>
<p>A string specifying the type of temporal aggregation. Options include:
"<code>sum</code>" (simple summation, <em>default</em>), "<code>avg</code>" (average),
"<code>first</code>" (first value of the period), and "<code>last</code>"
(last value of the period).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fh</code></td>
<td>
<p>Forecast horizon for the lowest frequency (most temporally aggregated)
time series (<em>default</em> is <code>1</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sparse</code></td>
<td>
<p>Option to return sparse matrices (<em>default</em> is <code>TRUE</code>).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with four elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>dim</code></td>
<td>
<p>A vector containing information about the number of series for the
complete system (<code>n</code>), for upper levels (<code>na</code>) and bottom level
(<code>nb</code>), the maximum aggregation order  (<code>m</code>), the number of factor
(<code>p</code>), the partial (<code>ks</code>) and total sum (<code>kt</code>) of factors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>set</code></td>
<td>
<p>The vector of the temporal aggregation orders (in decreasing order).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>agg_mat</code></td>
<td>
<p>The cross-temporal aggregation matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strc_mat</code></td>
<td>
<p>The cross-temporal structural matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cons_mat</code></td>
<td>
<p>The cross-temporal zero constraints matrix.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p>Cross-temporal framework: 
<code>ctboot()</code>,
<code>ctbu()</code>,
<code>ctcov()</code>,
<code>ctlcc()</code>,
<code>ctmo()</code>,
<code>ctrec()</code>,
<code>cttd()</code>,
<code>iterec()</code>,
<code>tcsrec()</code>
</p>
<p>Utilities: 
<code>FoReco2matrix()</code>,
<code>aggts()</code>,
<code>balance_hierarchy()</code>,
<code>commat()</code>,
<code>csprojmat()</code>,
<code>cstools()</code>,
<code>ctprojmat()</code>,
<code>df2aggmat()</code>,
<code>lcmat()</code>,
<code>recoinfo()</code>,
<code>res2matrix()</code>,
<code>shrink_estim()</code>,
<code>teprojmat()</code>,
<code>tetools()</code>,
<code>unbalance_hierarchy()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Cross-temporal framework
A &lt;- t(c(1,1)) # Aggregation matrix for Z = X + Y
m &lt;- 4 # from quarterly to annual temporal aggregation
cttools(agg_mat = A, agg_order = m)

</code></pre>


</div>