<div class="container">

<table style="width: 100%;"><tr>
<td>designFile</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Process interface's design file
</h2>

<h3>Description</h3>

<p>This function is a slave for <code>generic.process</code>. It process a design file and returns its processed elements as a list.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  designFile(fileName)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>fileName</code></td>
<td>

<p>Single character value, the path and name of a design file to process.
</p>
</td>
</tr></table>
<h3>Details</h3>

<p>Design files are text file split in multiple sections. Each section starts with a "[NAME]" line and ends when the next section begins. Lines starting with a <code>#</code> sign are ignored, as well as blank lines.
</p>
<p>Standard sections refer to an existing R function (the section name is expected to match the function name in a case-sensitive manner), each line in the section setting an argument to call this function : the first value is the argument name, then after a tabulation come one or many values separated by tabulations. Multiple values will be aggregated into a vector, and <code>type.convert</code> will try to guess the correct type.
</p>
<p>One or many modifiers can be added in the section name after the function name followed by the <code>:</code> sign and separated by commas (e.g. <code>file.remove:first,nowarn</code>). Modifiers have the following effects :
</p>

<dl>
<dt>first</dt>
<dd>
<p>The function will be called only once, while processing the first .fsa file.</p>
</dd>
<dt>last</dt>
<dd>
<p>The function will be called only once, while processing the last .fsa file.</p>
</dd>
<dt>nowarn</dt>
<dd>
<p>The function will be embedded inside <code>suppressWarnings</code> to silently ignore warnings.</p>
</dd>
</dl>
<p><code>$NAME</code> and <code>@NAME</code> can be used while setting an argument to refer to global variable <code>NAME</code>. Use <code>$</code> reference for character variables, which will be replaced with <code>gsub</code> and can thus be combined (e.g. <code>$NAME.txt</code>). Use <code>@</code> reference to obtain the raw R variable, regardless of its type. Default globals are :
</p>

<dl>
<dt>FILE_PATH</dt>
<dd>
<p>The full name and path of the .fsa file currently considered in the loop.</p>
</dd>
<dt>FILE_DIR</dt>
<dd>
<p>The parent directory of the .fsa file currently considered in the loop.</p>
</dd>
<dt>FILE_NAME</dt>
<dd>
<p>The base name (without path) of the .fsa file currently considered in the loop.</p>
</dd>
<dt>OBJECT</dt>
<dd>
<p>The last object of class 'fsa' returned by any function called in the pipeline.</p>
</dd>
<dt>OUTPUT_PATH</dt>
<dd>
<p>The full name and path defined by <code>output</code> while calling <code>generic.process</code>.</p>
</dd>
<dt>OUTPUT_DIR</dt>
<dd>
<p>The parent directory of <code>output</code> while calling <code>generic.process</code>.</p>
</dd>
<dt>OUTPUT_NAME</dt>
<dd>
<p>The base name (without path) defined by <code>output</code> while calling <code>generic.process</code>.</p>
</dd>
</dl>
<p>Sections with full uppercase names (only letters and <code>_</code> are allowed) will define a new global variable with matching name. The global will be a named list, each line in the section defining a vector (the first value being the name for the vector in the list). The <code>table</code> modifier can be used while defining globals (e.g. <code>PEAKS:table</code>), to request instead the section to be parsed as a TSV file (one row in the section is one row in the table, columns are separated by tabulations, see <code>read.table</code>). The first row will be used as column names and the first column as row names.
</p>
<p>A DESIGN global (<code>[DESIGN]</code> section) is strongly recommended to keep design file self-explained, the following elements are suggested :
</p>

<dl>
<dt>author</dt>
<dd>
<p>The name of the design author (for human readers only).</p>
</dd>
<dt>purpose</dt>
<dd>
<p>The description of the design (for human readers only).</p>
</dd>
<dt>FSAtools</dt>
<dd>
<p>Version of the FSAtools package for which the design was created (separated with dots).</p>
</dd>
<dt>updated</dt>
<dd>
<p>Date of the last design update (YYYY-MM-DD).</p>
</dd>
</dl>
<p>Please refer to the two provided working examples to help building your own designs. Full processing with the examples are described in <code>generic.process</code> <code>examples</code> section, direct access to the example design files is shown below.
</p>


<h3>Value</h3>

<p>Returns a multi-level <code>list</code>, with a direct children per function to call and an extra <code>GLOBALS</code> element.
</p>
<p>Children are named according to the function to call, thus multiple children can have the same name.
</p>


<h3>Author(s)</h3>

<p>Sylvain Mareschal
</p>


<h3>See Also</h3>

<p><code>generic.process</code>, <code>generic.interface</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">  # Example file provided
  file &lt;- system.file("extdata/design_GEP.conf", package="FSAtools")
  design &lt;- designFile(file)
  
  # Alignment rescue design provided
  file &lt;- system.file("extdata/design_SNP.conf", package="FSAtools")
  design &lt;- designFile(file)
</code></pre>


</div>