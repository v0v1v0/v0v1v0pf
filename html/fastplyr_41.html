<div class="container">

<table style="width: 100%;"><tr>
<td>f_summarise</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Summarise each group down to one row</h2>

<h3>Description</h3>

<p>Like <code>dplyr::summarise()</code> but with some internal optimisations
for common statistical functions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">f_summarise(data, ..., .by = NULL, .optimise = TRUE)

f_summarize(data, ..., .by = NULL, .optimise = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Name-value pairs of summary functions. Expressions with
<code>across()</code> are also accepted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.by</code></td>
<td>
<p>(Optional). A selection of columns to group by for this operation.
Columns are specified using tidy-select.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.optimise</code></td>
<td>
<p>(Optionally) turn off optimisations for common statistical
functions by setting to <code>FALSE</code>. Default is <code>TRUE</code> which uses optimisations.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>f_summarise</code> behaves mostly like <code>dplyr::summarise</code> except that expressions
supplied to <code>...</code> are evaluated independently.
</p>


<h4>Optimised statistical functions</h4>

<p>Some functions are internally optimised using 'collapse'
fast statistical functions. This makes execution on many groups very fast.
</p>
<p>For fast quantiles (percentiles) by group, see tidy_quantiles
</p>
<p>List of currently optimised functions and their equivalent
'collapse' function
</p>
<p><code>base::sum</code> -&gt; <code>collapse::fsum</code> <br><code>base::prod</code> -&gt; <code>collapse::fprod</code> <br><code>base::min</code> -&gt; <code>collapse::fmin</code> <br><code>base::max</code> -&gt; <code>collapse::fmax</code> <br><code>stats::mean</code> -&gt; <code>collapse::fmean</code> <br><code>stats::median</code> -&gt; <code>collapse::fmedian</code> <br><code>stats::sd</code> -&gt; <code>collapse::fsd</code> <br><code>stats::var</code> -&gt; <code>collapse::fvar</code> <br><code>dplyr::first</code> -&gt; <code>collapse::ffirst</code> <br><code>dplyr::last</code> -&gt; <code>collapse::flast</code> <br><code>dplyr::n_distinct</code> -&gt; <code>collapse::fndistinct</code> <br></p>



<h3>Value</h3>

<p>An un-grouped data frame of summaries by group.
</p>


<h3>See Also</h3>

<p>tidy_quantiles
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(fastplyr)
library(nycflights13)

# Number of flights per month, including first and last day
flights %&gt;%
  f_group_by(year, month) %&gt;%
  f_summarise(first_day = first(day),
              last_day = last(day),
              num_flights = n())

## Fast mean summary using `across()`

flights %&gt;%
  f_summarise(
    across(where(is.double), mean),
    .by = tailnum
  )

# To ignore or keep NAs, use collapse::set_collapse(na.rm)
collapse::set_collapse(na.rm = FALSE)
flights %&gt;%
  f_summarise(
    across(where(is.double), mean),
    .by = origin
  )
collapse::set_collapse(na.rm = TRUE)
</code></pre>


</div>