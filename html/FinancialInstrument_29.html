<div class="container">

<table style="width: 100%;"><tr>
<td>find.instrument</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Find the primary_ids of instruments that contain certain strings</h2>

<h3>Description</h3>

<p>Uses regular expression matching to find <code>instrument</code>s
</p>


<h3>Usage</h3>

<pre><code class="language-R">find.instrument(text, where = "anywhere", Symbols = ls_instruments(),
  ignore.case = TRUE, exclude = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>text</code></td>
<td>
<p>character string containing a regular expression.  This is used 
by <code>grep</code> (see also) as the <code>pattern</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>where</code></td>
<td>
<p>if “anywhere” all levels/attributes of the instruments
will be searched.  Otherwise, <code>where</code> can be used to specify in which
levels/attributes to look. (e.g. <code>c("name", "description")</code> would only
look for <code>text</code> in those 2 places.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Symbols</code></td>
<td>
<p>the character ids of instruments to be searched. All are 
are searched by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignore.case</code></td>
<td>
<p>passed to <code>grep</code>; if <code>FALSE</code>, the pattern
matching is case sensitive and if <code>TRUE</code>, case is ignored during 
matching.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude</code></td>
<td>
<p>character vector of names of levels/attributes that should not
be searched.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments to pass through to <code>grep</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>character vector of primary_ids of instruments that contain the 
sought after <code>text</code>.
</p>


<h3>Author(s)</h3>

<p>Garrett See
</p>


<h3>See Also</h3>

<p><code>buildHierarchy</code>, <code>instrument.table</code>, 
<code>regex</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
instruments.bak &lt;- as.list(FinancialInstrument:::.instrument, all.names=TRUE)
rm_instruments(keep.currencies=FALSE)
currency("USD")
stock("SPY", "USD", description="S&amp;P 500 ETF")
stock("DIA", "USD", description="DJIA ETF")
stock(c("AA", "AXP", "BA", "BAC", "CAT"), "USD", members.of='DJIA')
stock("BMW", currency("EUR"))
find.instrument("ETF")
find.instrument("DJIA") 
find.instrument("DJIA", "members.of")
find.instrument("USD")
find.instrument("EUR")
find.instrument("EUR", Symbols=ls_stocks())
find.instrument("USD", "type")

## Can be combined with buildHierachy
buildHierarchy(find.instrument("ETF"), "type", "description")

## Cleanup. restore previous instrument environment
rm_instruments(); rm_currencies()
loadInstruments(instruments.bak)

## End(Not run)
</code></pre>


</div>