<div class="container">

<table style="width: 100%;"><tr>
<td>make_phenotypes</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate phenotypes - Combine genetic values and plot errors</h2>

<h3>Description</h3>

<p>Creates a data frame of phenotypes by combining genetic values with plot errors
generated with the function field_trial_error.
Requires genetic values generated with the functions compsym_asr_output
or unstr_asr_output,
or any data frame matching the description below.
</p>


<h3>Usage</h3>

<pre><code class="language-R">make_phenotypes(
  gv.df,
  error.df,
  design.df = NULL,
  randomise = TRUE,
  return.effects = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>gv.df</code></td>
<td>
<p>A data frame of genetic values. Must contain the columns 'env', genotype 'id', 'rep',
and the genetic values for each trait.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error.df</code></td>
<td>
<p>A data frame of plot errors. Must contain the columns 'env', 'block',
'col', 'row', and the plot errors for each trait.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>design.df</code></td>
<td>
<p>A optional data frame of frequencies for generating incomplete block designs.
Must contain the columns 'env', 'id', and 'nreps' indicating the number of replicates per individual for each environment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>randomise</code></td>
<td>
<p>When <code>TRUE</code> (default), genotypes are randomly allocated to plots according to
a randomized complete (or incomplete) block design.<br><strong>Note:</strong> Other experimental designs are being implemented and should be generated externally.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return.effects</code></td>
<td>
<p>When <code>TRUE</code> (default is <code>FALSE</code>), a list is returned with additional
entries containing the genetic values and plot errors for each trait.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame with columns 'env', 'block', 'column', 'row', genotype 'id', 'rep', and
the phenotypes for each trait. When <code>return.effects = TRUE</code>, a list is returned with additional
entries containing the genetic values and plot errors for each trait.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Generate and visualise phenotypes by combining the genetic values and plot errors provided
# in the two example data frames gv_df_unstr and error_df_bivar.

pheno_ls &lt;- make_phenotypes(
  gv.df = gv_df_unstr,
  error.df = error_df_bivar,
  randomise = TRUE,
  return.effects = TRUE
)

plot_effects(
  df = pheno_ls$pheno.df[pheno_ls$pheno.df$env == 1, ],
  effect = "y.Trait1",
  labels = TRUE,
)

</code></pre>


</div>