<div class="container">

<table style="width: 100%;"><tr>
<td>light_global_surrogate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Global Surrogate Tree</h2>

<h3>Description</h3>

<p>Model predictions are modelled by a single decision tree, serving as an easy
to interprete surrogate to the original model.
As suggested in Molnar (see reference below), the quality of the surrogate
tree can be measured by its R-squared. The size of the tree can be modified
by passing <code>...</code> arguments to <code>rpart::rpart()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">light_global_surrogate(x, ...)

## Default S3 method:
light_global_surrogate(x, ...)

## S3 method for class 'flashlight'
light_global_surrogate(
  x,
  data = x$data,
  by = x$by,
  v = NULL,
  use_linkinv = TRUE,
  n_max = Inf,
  seed = NULL,
  keep_max_levels = 4L,
  ...
)

## S3 method for class 'multiflashlight'
light_global_surrogate(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class "flashlight" or "multiflashlight".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to <code>rpart::rpart()</code>, such as <code>maxdepth</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>An optional <code>data.frame</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>An optional vector of column names used to additionally group the results.
For each group, a separate tree is grown.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>Vector of variables used in the surrogate model.
Defaults to all variables in <code>data</code> except "by", "w" and "y".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_linkinv</code></td>
<td>
<p>Should retransformation function be applied? Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_max</code></td>
<td>
<p>Maximum number of data rows to consider to build the tree.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>An integer random seed used to select data rows if <code>n_max</code> is lower than
the number of data rows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_max_levels</code></td>
<td>
<p>Number of levels of categorical and factor variables to keep.
Other levels are combined to a level "Other". This prevents <code>rpart::rpart()</code> to
take too long to split non-numeric variables with many levels.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class "light_global_surrogate" with the following elements:
</p>

<ul>
<li> <p><code>data</code> A tibble with results. Can be used to build fully customized visualizations.
Column names can be controlled by <code>options(flashlight.column_name)</code>.
</p>
</li>
<li> <p><code>by</code> Same as input <code>by</code>.
</p>
</li>
</ul>
<h3>Methods (by class)</h3>


<ul>
<li> <p><code>light_global_surrogate(default)</code>: Default method not implemented yet.
</p>
</li>
<li> <p><code>light_global_surrogate(flashlight)</code>: Surrogate model for a flashlight.
</p>
</li>
<li> <p><code>light_global_surrogate(multiflashlight)</code>: Surrogate model for a multiflashlight.
</p>
</li>
</ul>
<h3>References</h3>

<p>Molnar C. (2019). Interpretable Machine Learning.
</p>


<h3>See Also</h3>

<p><code>plot.light_global_surrogate()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">fit &lt;- lm(Sepal.Length ~ ., data = iris)
x &lt;- flashlight(model = fit, label = "lm", data = iris)
light_global_surrogate(x)
</code></pre>


</div>