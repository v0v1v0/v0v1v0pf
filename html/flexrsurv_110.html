<div class="container">

<table style="width: 100%;"><tr>
<td>NPHNLL</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Non Proportional Hazard and Non Log-Linear effect</h2>

<h3>Description</h3>

<p>Generate the design matrix of spline basis for both non log-linear and non proportional effect. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">NPHNLL(x, 
       timevar, 
       model = c("additive", "multiplicative"), 
       Spline = c("b-spline", "tp-spline", "tpi-spline"), 
       Knots = NULL, 
       Degree = 3, 
       Intercept = FALSE, 
       Boundary.knots = range(x), 
       Knots.t = NULL, 
       Degree.t = 3,
       Intercept.t = (model == "multiplicative"), 
       Boundary.knots.t = c(0, max(timevar)), 
       outer.ok = TRUE, 
       Keep.duplicates = TRUE, 
       xdimnames = ":XxXxXXxXxX ", 
       tdimnames = ":TtTtTTtTtT ")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>the predictor variable.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timevar</code></td>
<td>

<p>the time variable.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>

<p>character string specifying the type of model for both non-proportionnal and non linear effects.    
The model <code>method=="additive"</code> assumes effects as explained in Remontet et al.(2007), the model <code>method=="multiplicative"</code> assumes effects as explained in Mahboubi et al. (2011).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Spline</code></td>
<td>

<p>a character string specifying the type of spline basis. "b-spline" for B-spline basis, 
"tp-spline" for truncated power basis and "tpi-spline" for monotone (increasing) truncated power basis.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Knots</code></td>
<td>

<p>the internal breakpoints that define the spline used to estimate the NLL part of effect. By default 
there are none.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Degree</code></td>
<td>

<p>degree of splines of variable which are considered.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Intercept</code></td>
<td>

<p>a logical value indicating whether intercept/first basis of spline should be considered.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Boundary.knots</code></td>
<td>

<p>range of variable which is analysed.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Knots.t</code></td>
<td>

<p>the internal breakpoints that define the spline used to estimate the NPH part of effect. By default 
there are none.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Degree.t</code></td>
<td>

<p>degree of splines of time variable which are considered.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Intercept.t</code></td>
<td>

<p>a logical value indicating whether intercept/first basis of spline should be considered.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Boundary.knots.t</code></td>
<td>

<p>range of time period which is analysed.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Keep.duplicates</code></td>
<td>

<p>Should duplicate interior knots be kept or removed. Defaults is <code>FALSE</code>, which removes
duplicate knots with a warning if duplicate interior knots are found.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outer.ok</code></td>
<td>

<p>logical indicating how are managed <code>timevar</code> or <code>x</code> values outside the knots. If <code>FALSE</code>,
return <code>NA</code>, if <code>TRUE</code>, return <code>0</code> for the corresponding <code>timevar</code> or <code>x</code> values.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xdimnames</code></td>
<td>

<p>string to build dimnames of <code>x</code> bases
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tdimnames</code></td>
<td>

<p>string to build dimnames of <code>timevar</code> bases
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>NPHNLL</code> is based on package <code>orthogonalsplinebasis</code>
</p>


<h3>References</h3>

<p>Mahboubi, A., M. Abrahamowicz, et al. (2011). "Flexible modeling of the effects of continuous prognostic factors in relative survival." Stat Med 30(12): 1351-1365. <a href="https://doi.org/10.1002/sim.4208">doi:10.1002/sim.4208</a>
</p>
<p>Remontet, L., N. Bossard, et al. (2007). "An overall strategy based on regression models to estimate relative survival and model the effects of prognostic factors in cancer survival studies." Stat Med 26(10): 2214-2228. <a href="https://doi.org/10.1002/sim.2656">doi:10.1002/sim.2656</a>
</p>


<h3>See Also</h3>

<p><code>NPH</code> and 
<code>NLL</code>.
</p>


</div>