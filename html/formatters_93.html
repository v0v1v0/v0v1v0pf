<div class="container">

<table style="width: 100%;"><tr>
<td>nchar_ttype</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate font-specific string width</h2>

<h3>Description</h3>

<p>This function returns the width of each element <code>x</code>
<em>as a multiple of the width of the space character
for in declared font</em>, rounded up to the nearest
integer. This is used extensively in the text rendering
(<code>toString()</code>) and pagination machinery for
calculating word wrapping, default column widths,
lines per page, etc.
</p>


<h3>Usage</h3>

<pre><code class="language-R">nchar_ttype(
  x,
  fontspec = font_spec(),
  tol = sqrt(.Machine$double.eps),
  raw = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>(<code>character</code>)<br> the string(s) to calculate width(s) for.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fontspec</code></td>
<td>
<p>(<code>font_spec</code> or <code>NULL</code>)<br> if non-NULL, the font to use for
the calculations (as returned by <code>font_spec()</code>). Defaults to "Courier",
which is a monospace font. If NULL, the width will be returned
in number of characters by calling <code>nchar</code> directly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>(<code>numeric(1)</code>)<br> the tolerance to use when determining
if a multiple needs to be rounded up to the next integer. See
Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raw</code></td>
<td>
<p>(<code>logical(1)</code>)<br> whether unrounded widths should be returned. Defaults to <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>String width is defined in terms of spaces within
the specified font. For monospace fonts, this definition
collapses to the number of characters in the string
(<code>nchar()</code>), but for truetype fonts it does not.
</p>
<p>For <code>raw = FALSE</code>, non-integer values (the norm in a truetype
setting) for the number of spaces a string takes up is rounded
up, <em>unless the multiple is less than <code>tol</code> above the last integer
before it</em>. E.g., if <code>k - num_spaces &lt; tol</code> for an integer
<code>k</code>, <code>k</code> is returned instead of <code>k+1</code>.
</p>


<h3>See Also</h3>

<p><code>font_spec()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">nchar_ttype("hi there!")

nchar_ttype("hi there!", font_spec("Times"))

</code></pre>


</div>