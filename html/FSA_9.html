<div class="container">

<table style="width: 100%;"><tr>
<td>alkPlot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plots to visualize age-length keys.</h2>

<h3>Description</h3>

<p>Various plots to visualize the proportion of fish of certain ages within length intervals in an age-length key.
</p>


<h3>Usage</h3>

<pre><code class="language-R">alkPlot(
  key,
  type = c("barplot", "area", "lines", "splines", "bubble"),
  xlab = "Length",
  ylab = ifelse(type != "bubble", "Proportion", "Age"),
  xlim = NULL,
  ylim = NULL,
  showLegend = FALSE,
  lbl.cex = 1.25,
  leg.cex = 1,
  lwd = 2,
  span = 0.25,
  grid = TRUE,
  col = NULL,
  buf = 0.45,
  add = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p>A numeric matrix that contains the age-length key.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>A string that indicates the type of plot to construct. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab, ylab</code></td>
<td>
<p>A string that contains the label for the x- or y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim, ylim</code></td>
<td>
<p>A numeric of length 2 that provide the limits for the x-axis or y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showLegend</code></td>
<td>
<p>A logical that indicates whether a legend should be displayed (not implemented for <code>type="bubble"</code>). See examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lbl.cex</code></td>
<td>
<p>A numeric character expansion value for labels inside the bars when <code>type="barplot"</code> or on the lines when <code>type="lines"</code> or <code>type="splines"</code>. Only used if <code>showLegend=FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leg.cex</code></td>
<td>
<p>A numeric character expansion value for labels on the legend when <code>showLegend=TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>A numeric that indicates the line width when <code>type="lines"</code> or <code>type="splines"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>span</code></td>
<td>
<p>A numeric that indicates the span value to use in <code>loess</code> when <code>type="splines"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid</code></td>
<td>
<p>A logical that indicates whether a grid should be placed under the bubbles when <code>type="bubble"</code> or a character or appropriate vector that identifies a color for the grid. See examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>A single character string that is a palette from <code>hcl.pals</code> or a vector of character strings containing colors for the bars, areas, lines, or spline lines of different ages; defaults to the "viridis" palette in <code>hcl.colors</code>. A single string that indicates the color of the bubbles when <code>type="bubble"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>buf</code></td>
<td>
<p>A single numeric that indicates the relative width of the bubbles when <code>type="bubble"</code>. A value of 0.5 means that two full-width bubbles would touch each other either in the x- or y-direction (i.e., this would represent half of the minimum of the physical distance between values one-unit apart on the x- and y-axes). Set this to a value less than 0.5 so that the bubbles will not touch (the default is 0.45).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p>A logical that indicates whether the data should be added to an already existing plot. May be useful for visually comparing age-length keys. Only implemented when <code>type="bubble"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments to pass to <code>plot</code> or <code>barplot</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A variety of plots can be used to visualize the proportion of fish of certain ages within length intervals of an age-length key. The types of plots are described below and illustrated in the examples.
</p>

<ul>
<li>
<p> A “stacked” bar chart where vertical bars over length intervals sum to 1 but are segmented by the proportion of each age in that length interval is constructed with <code>type="barplot"</code>. The ages will be labeled in the bar segments unless <code>showLegend=TRUE</code> is used.
</p>
</li>
<li>
<p> A “stacked” area chart similar to the bar chart described above is constructed with <code>type="area"</code>.
</p>
</li>
<li>
<p> A plot with (differently colored) lines that connect the proportions of ages within each length interval is constructed with <code>type="lines"</code>.
</p>
</li>
<li>
<p> A plot with (differently colored) lines, as estimated by loess splines, that connect the proportions of ages within each length interval is constructed with <code>type="splines"</code>.
</p>
</li>
<li>
<p> A “bubble” plot where circles whose size is proportional to the proportion of fish of each age in each length interval is constructed with <code>type="bubble"</code>. The color of the bubbles can be controlled with <code>col=</code> and an underlying grid for ease of seeing the age and length interval for each bubble can be controlled with <code>grid=</code>. Bubbles from a second age-length key can be overlaid on an already constructed bubble plot by using <code>add=TRUE</code> in a second call to <code>alkPlot</code>.
</p>
</li>
</ul>
<p>Note that all plots are “vertically conditional” – i.e., each represents the proportional ages WITHIN each length interval.
</p>


<h3>Value</h3>

<p>None, but a plot is constructed.
</p>


<h3>IFAR Chapter</h3>

<p>5-Age-Length Key.
</p>


<h3>Author(s)</h3>

<p>Derek H. Ogle, <a href="mailto:DerekOgle51@gmail.com">DerekOgle51@gmail.com</a>
</p>


<h3>References</h3>

<p>Ogle, D.H. 2016. <a href="https://fishr-core-team.github.io/fishR/pages/books.html#introductory-fisheries-analyses-with-r">Introductory Fisheries Analyses with R</a>. Chapman &amp; Hall/CRC, Boca Raton, FL.
</p>


<h3>See Also</h3>

<p>See <code>alkIndivAge</code> for using an age-length key to assign ages to individual fish. See <code>hcl.colors</code> for a simple way to choose other colors.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Make an example age-length key
WR.age &lt;- droplevels(subset(WR79, !is.na(age)))
WR.age$LCat &lt;- lencat(WR.age$len,w=5)
raw &lt;- xtabs(~LCat+age,data=WR.age)
WR.key &lt;- prop.table(raw, margin=1)
round(WR.key,3)

## Various visualizations of the age-length key
alkPlot(WR.key,"barplot")
alkPlot(WR.key,"barplot",col="Cork")
alkPlot(WR.key,"barplot",col=heat.colors(8))
alkPlot(WR.key,"barplot",showLegend=TRUE)
alkPlot(WR.key,"area")
alkPlot(WR.key,"lines")
alkPlot(WR.key,"splines")
alkPlot(WR.key,"splines",span=0.2)
alkPlot(WR.key,"bubble")
alkPlot(WR.key,"bubble",col=col2rgbt("black",0.5))

</code></pre>


</div>